/*
jQuery v2.1.1
(c) 2005, 2014 jQuery Foundation, Inc.
jquery.org/license
MIT license.
*/
!function(a,b){"object"==typeof module&&"object"==typeof module.exports?module.exports=a.document?b(a,!0):function(a){if(!a.document)throw new Error("jQuery requires a window with a document");return b(a)}:b(a)}("undefined"!=typeof window?window:this,function(a,b){var c=[],d=c.slice,e=c.concat,f=c.push,g=c.indexOf,h={},i=h.toString,j=h.hasOwnProperty,k={},l=a.document,m="2.1.1",n=function(a,b){return new n.fn.init(a,b)},o=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,p=/^-ms-/,q=/-([\da-z])/gi,r=function(a,b){return b.toUpperCase()};n.fn=n.prototype={jquery:m,constructor:n,selector:"",length:0,toArray:function(){return d.call(this)},get:function(a){return null!=a?0>a?this[a+this.length]:this[a]:d.call(this)},pushStack:function(a){var b=n.merge(this.constructor(),a);return b.prevObject=this,b.context=this.context,b},each:function(a,b){return n.each(this,a,b)},map:function(a){return this.pushStack(n.map(this,function(b,c){return a.call(b,c,b)}))},slice:function(){return this.pushStack(d.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(a){var b=this.length,c=+a+(0>a?b:0);return this.pushStack(c>=0&&b>c?[this[c]]:[])},end:function(){return this.prevObject||this.constructor(null)},push:f,sort:c.sort,splice:c.splice},n.extend=n.fn.extend=function(){var a,b,c,d,e,f,g=arguments[0]||{},h=1,i=arguments.length,j=!1;for("boolean"==typeof g&&(j=g,g=arguments[h]||{},h++),"object"==typeof g||n.isFunction(g)||(g={}),h===i&&(g=this,h--);i>h;h++)if(null!=(a=arguments[h]))for(b in a)c=g[b],d=a[b],g!==d&&(j&&d&&(n.isPlainObject(d)||(e=n.isArray(d)))?(e?(e=!1,f=c&&n.isArray(c)?c:[]):f=c&&n.isPlainObject(c)?c:{},g[b]=n.extend(j,f,d)):void 0!==d&&(g[b]=d));return g},n.extend({expando:"jQuery"+(m+Math.random()).replace(/\D/g,""),isReady:!0,error:function(a){throw new Error(a)},noop:function(){},isFunction:function(a){return"function"===n.type(a)},isArray:Array.isArray,isWindow:function(a){return null!=a&&a===a.window},isNumeric:function(a){return!n.isArray(a)&&a-parseFloat(a)>=0},isPlainObject:function(a){return"object"!==n.type(a)||a.nodeType||n.isWindow(a)?!1:a.constructor&&!j.call(a.constructor.prototype,"isPrototypeOf")?!1:!0},isEmptyObject:function(a){var b;for(b in a)return!1;return!0},type:function(a){return null==a?a+"":"object"==typeof a||"function"==typeof a?h[i.call(a)]||"object":typeof a},globalEval:function(a){var b,c=eval;a=n.trim(a),a&&(1===a.indexOf("use strict")?(b=l.createElement("script"),b.text=a,l.head.appendChild(b).parentNode.removeChild(b)):c(a))},camelCase:function(a){return a.replace(p,"ms-").replace(q,r)},nodeName:function(a,b){return a.nodeName&&a.nodeName.toLowerCase()===b.toLowerCase()},each:function(a,b,c){var d,e=0,f=a.length,g=s(a);if(c){if(g){for(;f>e;e++)if(d=b.apply(a[e],c),d===!1)break}else for(e in a)if(d=b.apply(a[e],c),d===!1)break}else if(g){for(;f>e;e++)if(d=b.call(a[e],e,a[e]),d===!1)break}else for(e in a)if(d=b.call(a[e],e,a[e]),d===!1)break;return a},trim:function(a){return null==a?"":(a+"").replace(o,"")},makeArray:function(a,b){var c=b||[];return null!=a&&(s(Object(a))?n.merge(c,"string"==typeof a?[a]:a):f.call(c,a)),c},inArray:function(a,b,c){return null==b?-1:g.call(b,a,c)},merge:function(a,b){for(var c=+b.length,d=0,e=a.length;c>d;d++)a[e++]=b[d];return a.length=e,a},grep:function(a,b,c){for(var d,e=[],f=0,g=a.length,h=!c;g>f;f++)d=!b(a[f],f),d!==h&&e.push(a[f]);return e},map:function(a,b,c){var d,f=0,g=a.length,h=s(a),i=[];if(h)for(;g>f;f++)d=b(a[f],f,c),null!=d&&i.push(d);else for(f in a)d=b(a[f],f,c),null!=d&&i.push(d);return e.apply([],i)},guid:1,proxy:function(a,b){var c,e,f;return"string"==typeof b&&(c=a[b],b=a,a=c),n.isFunction(a)?(e=d.call(arguments,2),f=function(){return a.apply(b||this,e.concat(d.call(arguments)))},f.guid=a.guid=a.guid||n.guid++,f):void 0},now:Date.now,support:k}),n.each("Boolean Number String Function Array Date RegExp Object Error".split(" "),function(a,b){h["[object "+b+"]"]=b.toLowerCase()});function s(a){var b=a.length,c=n.type(a);return"function"===c||n.isWindow(a)?!1:1===a.nodeType&&b?!0:"array"===c||0===b||"number"==typeof b&&b>0&&b-1 in a}var t=function(a){var b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u="sizzle"+-new Date,v=a.document,w=0,x=0,y=gb(),z=gb(),A=gb(),B=function(a,b){return a===b&&(l=!0),0},C="undefined",D=1<<31,E={}.hasOwnProperty,F=[],G=F.pop,H=F.push,I=F.push,J=F.slice,K=F.indexOf||function(a){for(var b=0,c=this.length;c>b;b++)if(this[b]===a)return b;return-1},L="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",M="[\\x20\\t\\r\\n\\f]",N="(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+",O=N.replace("w","w#"),P="\\["+M+"*("+N+")(?:"+M+"*([*^$|!~]?=)"+M+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+O+"))|)"+M+"*\\]",Q=":("+N+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+P+")*)|.*)\\)|)",R=new RegExp("^"+M+"+|((?:^|[^\\\\])(?:\\\\.)*)"+M+"+$","g"),S=new RegExp("^"+M+"*,"+M+"*"),T=new RegExp("^"+M+"*([>+~]|"+M+")"+M+"*"),U=new RegExp("="+M+"*([^\\]'\"]*?)"+M+"*\\]","g"),V=new RegExp(Q),W=new RegExp("^"+O+"$"),X={ID:new RegExp("^#("+N+")"),CLASS:new RegExp("^\\.("+N+")"),TAG:new RegExp("^("+N.replace("w","w*")+")"),ATTR:new RegExp("^"+P),PSEUDO:new RegExp("^"+Q),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+M+"*(even|odd|(([+-]|)(\\d*)n|)"+M+"*(?:([+-]|)"+M+"*(\\d+)|))"+M+"*\\)|)","i"),bool:new RegExp("^(?:"+L+")$","i"),needsContext:new RegExp("^"+M+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+M+"*((?:-\\d)?\\d*)"+M+"*\\)|)(?=[^-]|$)","i")},Y=/^(?:input|select|textarea|button)$/i,Z=/^h\d$/i,$=/^[^{]+\{\s*\[native \w/,_=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,ab=/[+~]/,bb=/'|\\/g,cb=new RegExp("\\\\([\\da-f]{1,6}"+M+"?|("+M+")|.)","ig"),db=function(a,b,c){var d="0x"+b-65536;return d!==d||c?b:0>d?String.fromCharCode(d+65536):String.fromCharCode(d>>10|55296,1023&d|56320)};try{I.apply(F=J.call(v.childNodes),v.childNodes),F[v.childNodes.length].nodeType}catch(eb){I={apply:F.length?function(a,b){H.apply(a,J.call(b))}:function(a,b){var c=a.length,d=0;while(a[c++]=b[d++]);a.length=c-1}}}function fb(a,b,d,e){var f,h,j,k,l,o,r,s,w,x;if((b?b.ownerDocument||b:v)!==n&&m(b),b=b||n,d=d||[],!a||"string"!=typeof a)return d;if(1!==(k=b.nodeType)&&9!==k)return[];if(p&&!e){if(f=_.exec(a))if(j=f[1]){if(9===k){if(h=b.getElementById(j),!h||!h.parentNode)return d;if(h.id===j)return d.push(h),d}else if(b.ownerDocument&&(h=b.ownerDocument.getElementById(j))&&t(b,h)&&h.id===j)return d.push(h),d}else{if(f[2])return I.apply(d,b.getElementsByTagName(a)),d;if((j=f[3])&&c.getElementsByClassName&&b.getElementsByClassName)return I.apply(d,b.getElementsByClassName(j)),d}if(c.qsa&&(!q||!q.test(a))){if(s=r=u,w=b,x=9===k&&a,1===k&&"object"!==b.nodeName.toLowerCase()){o=g(a),(r=b.getAttribute("id"))?s=r.replace(bb,"\\$&"):b.setAttribute("id",s),s="[id='"+s+"'] ",l=o.length;while(l--)o[l]=s+qb(o[l]);w=ab.test(a)&&ob(b.parentNode)||b,x=o.join(",")}if(x)try{return I.apply(d,w.querySelectorAll(x)),d}catch(y){}finally{r||b.removeAttribute("id")}}}return i(a.replace(R,"$1"),b,d,e)}function gb(){var a=[];function b(c,e){return a.push(c+" ")>d.cacheLength&&delete b[a.shift()],b[c+" "]=e}return b}function hb(a){return a[u]=!0,a}function ib(a){var b=n.createElement("div");try{return!!a(b)}catch(c){return!1}finally{b.parentNode&&b.parentNode.removeChild(b),b=null}}function jb(a,b){var c=a.split("|"),e=a.length;while(e--)d.attrHandle[c[e]]=b}function kb(a,b){var c=b&&a,d=c&&1===a.nodeType&&1===b.nodeType&&(~b.sourceIndex||D)-(~a.sourceIndex||D);if(d)return d;if(c)while(c=c.nextSibling)if(c===b)return-1;return a?1:-1}function lb(a){return function(b){var c=b.nodeName.toLowerCase();return"input"===c&&b.type===a}}function mb(a){return function(b){var c=b.nodeName.toLowerCase();return("input"===c||"button"===c)&&b.type===a}}function nb(a){return hb(function(b){return b=+b,hb(function(c,d){var e,f=a([],c.length,b),g=f.length;while(g--)c[e=f[g]]&&(c[e]=!(d[e]=c[e]))})})}function ob(a){return a&&typeof a.getElementsByTagName!==C&&a}c=fb.support={},f=fb.isXML=function(a){var b=a&&(a.ownerDocument||a).documentElement;return b?"HTML"!==b.nodeName:!1},m=fb.setDocument=function(a){var b,e=a?a.ownerDocument||a:v,g=e.defaultView;return e!==n&&9===e.nodeType&&e.documentElement?(n=e,o=e.documentElement,p=!f(e),g&&g!==g.top&&(g.addEventListener?g.addEventListener("unload",function(){m()},!1):g.attachEvent&&g.attachEvent("onunload",function(){m()})),c.attributes=ib(function(a){return a.className="i",!a.getAttribute("className")}),c.getElementsByTagName=ib(function(a){return a.appendChild(e.createComment("")),!a.getElementsByTagName("*").length}),c.getElementsByClassName=$.test(e.getElementsByClassName)&&ib(function(a){return a.innerHTML="<div class='a'></div><div class='a i'></div>",a.firstChild.className="i",2===a.getElementsByClassName("i").length}),c.getById=ib(function(a){return o.appendChild(a).id=u,!e.getElementsByName||!e.getElementsByName(u).length}),c.getById?(d.find.ID=function(a,b){if(typeof b.getElementById!==C&&p){var c=b.getElementById(a);return c&&c.parentNode?[c]:[]}},d.filter.ID=function(a){var b=a.replace(cb,db);return function(a){return a.getAttribute("id")===b}}):(delete d.find.ID,d.filter.ID=function(a){var b=a.replace(cb,db);return function(a){var c=typeof a.getAttributeNode!==C&&a.getAttributeNode("id");return c&&c.value===b}}),d.find.TAG=c.getElementsByTagName?function(a,b){return typeof b.getElementsByTagName!==C?b.getElementsByTagName(a):void 0}:function(a,b){var c,d=[],e=0,f=b.getElementsByTagName(a);if("*"===a){while(c=f[e++])1===c.nodeType&&d.push(c);return d}return f},d.find.CLASS=c.getElementsByClassName&&function(a,b){return typeof b.getElementsByClassName!==C&&p?b.getElementsByClassName(a):void 0},r=[],q=[],(c.qsa=$.test(e.querySelectorAll))&&(ib(function(a){a.innerHTML="<select msallowclip=''><option selected=''></option></select>",a.querySelectorAll("[msallowclip^='']").length&&q.push("[*^$]="+M+"*(?:''|\"\")"),a.querySelectorAll("[selected]").length||q.push("\\["+M+"*(?:value|"+L+")"),a.querySelectorAll(":checked").length||q.push(":checked")}),ib(function(a){var b=e.createElement("input");b.setAttribute("type","hidden"),a.appendChild(b).setAttribute("name","D"),a.querySelectorAll("[name=d]").length&&q.push("name"+M+"*[*^$|!~]?="),a.querySelectorAll(":enabled").length||q.push(":enabled",":disabled"),a.querySelectorAll("*,:x"),q.push(",.*:")})),(c.matchesSelector=$.test(s=o.matches||o.webkitMatchesSelector||o.mozMatchesSelector||o.oMatchesSelector||o.msMatchesSelector))&&ib(function(a){c.disconnectedMatch=s.call(a,"div"),s.call(a,"[s!='']:x"),r.push("!=",Q)}),q=q.length&&new RegExp(q.join("|")),r=r.length&&new RegExp(r.join("|")),b=$.test(o.compareDocumentPosition),t=b||$.test(o.contains)?function(a,b){var c=9===a.nodeType?a.documentElement:a,d=b&&b.parentNode;return a===d||!(!d||1!==d.nodeType||!(c.contains?c.contains(d):a.compareDocumentPosition&&16&a.compareDocumentPosition(d)))}:function(a,b){if(b)while(b=b.parentNode)if(b===a)return!0;return!1},B=b?function(a,b){if(a===b)return l=!0,0;var d=!a.compareDocumentPosition-!b.compareDocumentPosition;return d?d:(d=(a.ownerDocument||a)===(b.ownerDocument||b)?a.compareDocumentPosition(b):1,1&d||!c.sortDetached&&b.compareDocumentPosition(a)===d?a===e||a.ownerDocument===v&&t(v,a)?-1:b===e||b.ownerDocument===v&&t(v,b)?1:k?K.call(k,a)-K.call(k,b):0:4&d?-1:1)}:function(a,b){if(a===b)return l=!0,0;var c,d=0,f=a.parentNode,g=b.parentNode,h=[a],i=[b];if(!f||!g)return a===e?-1:b===e?1:f?-1:g?1:k?K.call(k,a)-K.call(k,b):0;if(f===g)return kb(a,b);c=a;while(c=c.parentNode)h.unshift(c);c=b;while(c=c.parentNode)i.unshift(c);while(h[d]===i[d])d++;return d?kb(h[d],i[d]):h[d]===v?-1:i[d]===v?1:0},e):n},fb.matches=function(a,b){return fb(a,null,null,b)},fb.matchesSelector=function(a,b){if((a.ownerDocument||a)!==n&&m(a),b=b.replace(U,"='$1']"),!(!c.matchesSelector||!p||r&&r.test(b)||q&&q.test(b)))try{var d=s.call(a,b);if(d||c.disconnectedMatch||a.document&&11!==a.document.nodeType)return d}catch(e){}return fb(b,n,null,[a]).length>0},fb.contains=function(a,b){return(a.ownerDocument||a)!==n&&m(a),t(a,b)},fb.attr=function(a,b){(a.ownerDocument||a)!==n&&m(a);var e=d.attrHandle[b.toLowerCase()],f=e&&E.call(d.attrHandle,b.toLowerCase())?e(a,b,!p):void 0;return void 0!==f?f:c.attributes||!p?a.getAttribute(b):(f=a.getAttributeNode(b))&&f.specified?f.value:null},fb.error=function(a){throw new Error("Syntax error, unrecognized expression: "+a)},fb.uniqueSort=function(a){var b,d=[],e=0,f=0;if(l=!c.detectDuplicates,k=!c.sortStable&&a.slice(0),a.sort(B),l){while(b=a[f++])b===a[f]&&(e=d.push(f));while(e--)a.splice(d[e],1)}return k=null,a},e=fb.getText=function(a){var b,c="",d=0,f=a.nodeType;if(f){if(1===f||9===f||11===f){if("string"==typeof a.textContent)return a.textContent;for(a=a.firstChild;a;a=a.nextSibling)c+=e(a)}else if(3===f||4===f)return a.nodeValue}else while(b=a[d++])c+=e(b);return c},d=fb.selectors={cacheLength:50,createPseudo:hb,match:X,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(a){return a[1]=a[1].replace(cb,db),a[3]=(a[3]||a[4]||a[5]||"").replace(cb,db),"~="===a[2]&&(a[3]=" "+a[3]+" "),a.slice(0,4)},CHILD:function(a){return a[1]=a[1].toLowerCase(),"nth"===a[1].slice(0,3)?(a[3]||fb.error(a[0]),a[4]=+(a[4]?a[5]+(a[6]||1):2*("even"===a[3]||"odd"===a[3])),a[5]=+(a[7]+a[8]||"odd"===a[3])):a[3]&&fb.error(a[0]),a},PSEUDO:function(a){var b,c=!a[6]&&a[2];return X.CHILD.test(a[0])?null:(a[3]?a[2]=a[4]||a[5]||"":c&&V.test(c)&&(b=g(c,!0))&&(b=c.indexOf(")",c.length-b)-c.length)&&(a[0]=a[0].slice(0,b),a[2]=c.slice(0,b)),a.slice(0,3))}},filter:{TAG:function(a){var b=a.replace(cb,db).toLowerCase();return"*"===a?function(){return!0}:function(a){return a.nodeName&&a.nodeName.toLowerCase()===b}},CLASS:function(a){var b=y[a+" "];return b||(b=new RegExp("(^|"+M+")"+a+"("+M+"|$)"))&&y(a,function(a){return b.test("string"==typeof a.className&&a.className||typeof a.getAttribute!==C&&a.getAttribute("class")||"")})},ATTR:function(a,b,c){return function(d){var e=fb.attr(d,a);return null==e?"!="===b:b?(e+="","="===b?e===c:"!="===b?e!==c:"^="===b?c&&0===e.indexOf(c):"*="===b?c&&e.indexOf(c)>-1:"$="===b?c&&e.slice(-c.length)===c:"~="===b?(" "+e+" ").indexOf(c)>-1:"|="===b?e===c||e.slice(0,c.length+1)===c+"-":!1):!0}},CHILD:function(a,b,c,d,e){var f="nth"!==a.slice(0,3),g="last"!==a.slice(-4),h="of-type"===b;return 1===d&&0===e?function(a){return!!a.parentNode}:function(b,c,i){var j,k,l,m,n,o,p=f!==g?"nextSibling":"previousSibling",q=b.parentNode,r=h&&b.nodeName.toLowerCase(),s=!i&&!h;if(q){if(f){while(p){l=b;while(l=l[p])if(h?l.nodeName.toLowerCase()===r:1===l.nodeType)return!1;o=p="only"===a&&!o&&"nextSibling"}return!0}if(o=[g?q.firstChild:q.lastChild],g&&s){k=q[u]||(q[u]={}),j=k[a]||[],n=j[0]===w&&j[1],m=j[0]===w&&j[2],l=n&&q.childNodes[n];while(l=++n&&l&&l[p]||(m=n=0)||o.pop())if(1===l.nodeType&&++m&&l===b){k[a]=[w,n,m];break}}else if(s&&(j=(b[u]||(b[u]={}))[a])&&j[0]===w)m=j[1];else while(l=++n&&l&&l[p]||(m=n=0)||o.pop())if((h?l.nodeName.toLowerCase()===r:1===l.nodeType)&&++m&&(s&&((l[u]||(l[u]={}))[a]=[w,m]),l===b))break;return m-=e,m===d||m%d===0&&m/d>=0}}},PSEUDO:function(a,b){var c,e=d.pseudos[a]||d.setFilters[a.toLowerCase()]||fb.error("unsupported pseudo: "+a);return e[u]?e(b):e.length>1?(c=[a,a,"",b],d.setFilters.hasOwnProperty(a.toLowerCase())?hb(function(a,c){var d,f=e(a,b),g=f.length;while(g--)d=K.call(a,f[g]),a[d]=!(c[d]=f[g])}):function(a){return e(a,0,c)}):e}},pseudos:{not:hb(function(a){var b=[],c=[],d=h(a.replace(R,"$1"));return d[u]?hb(function(a,b,c,e){var f,g=d(a,null,e,[]),h=a.length;while(h--)(f=g[h])&&(a[h]=!(b[h]=f))}):function(a,e,f){return b[0]=a,d(b,null,f,c),!c.pop()}}),has:hb(function(a){return function(b){return fb(a,b).length>0}}),contains:hb(function(a){return function(b){return(b.textContent||b.innerText||e(b)).indexOf(a)>-1}}),lang:hb(function(a){return W.test(a||"")||fb.error("unsupported lang: "+a),a=a.replace(cb,db).toLowerCase(),function(b){var c;do if(c=p?b.lang:b.getAttribute("xml:lang")||b.getAttribute("lang"))return c=c.toLowerCase(),c===a||0===c.indexOf(a+"-");while((b=b.parentNode)&&1===b.nodeType);return!1}}),target:function(b){var c=a.location&&a.location.hash;return c&&c.slice(1)===b.id},root:function(a){return a===o},focus:function(a){return a===n.activeElement&&(!n.hasFocus||n.hasFocus())&&!!(a.type||a.href||~a.tabIndex)},enabled:function(a){return a.disabled===!1},disabled:function(a){return a.disabled===!0},checked:function(a){var b=a.nodeName.toLowerCase();return"input"===b&&!!a.checked||"option"===b&&!!a.selected},selected:function(a){return a.parentNode&&a.parentNode.selectedIndex,a.selected===!0},empty:function(a){for(a=a.firstChild;a;a=a.nextSibling)if(a.nodeType<6)return!1;return!0},parent:function(a){return!d.pseudos.empty(a)},header:function(a){return Z.test(a.nodeName)},input:function(a){return Y.test(a.nodeName)},button:function(a){var b=a.nodeName.toLowerCase();return"input"===b&&"button"===a.type||"button"===b},text:function(a){var b;return"input"===a.nodeName.toLowerCase()&&"text"===a.type&&(null==(b=a.getAttribute("type"))||"text"===b.toLowerCase())},first:nb(function(){return[0]}),last:nb(function(a,b){return[b-1]}),eq:nb(function(a,b,c){return[0>c?c+b:c]}),even:nb(function(a,b){for(var c=0;b>c;c+=2)a.push(c);return a}),odd:nb(function(a,b){for(var c=1;b>c;c+=2)a.push(c);return a}),lt:nb(function(a,b,c){for(var d=0>c?c+b:c;--d>=0;)a.push(d);return a}),gt:nb(function(a,b,c){for(var d=0>c?c+b:c;++d<b;)a.push(d);return a})}},d.pseudos.nth=d.pseudos.eq;for(b in{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})d.pseudos[b]=lb(b);for(b in{submit:!0,reset:!0})d.pseudos[b]=mb(b);function pb(){}pb.prototype=d.filters=d.pseudos,d.setFilters=new pb,g=fb.tokenize=function(a,b){var c,e,f,g,h,i,j,k=z[a+" "];if(k)return b?0:k.slice(0);h=a,i=[],j=d.preFilter;while(h){(!c||(e=S.exec(h)))&&(e&&(h=h.slice(e[0].length)||h),i.push(f=[])),c=!1,(e=T.exec(h))&&(c=e.shift(),f.push({value:c,type:e[0].replace(R," ")}),h=h.slice(c.length));for(g in d.filter)!(e=X[g].exec(h))||j[g]&&!(e=j[g](e))||(c=e.shift(),f.push({value:c,type:g,matches:e}),h=h.slice(c.length));if(!c)break}return b?h.length:h?fb.error(a):z(a,i).slice(0)};function qb(a){for(var b=0,c=a.length,d="";c>b;b++)d+=a[b].value;return d}function rb(a,b,c){var d=b.dir,e=c&&"parentNode"===d,f=x++;return b.first?function(b,c,f){while(b=b[d])if(1===b.nodeType||e)return a(b,c,f)}:function(b,c,g){var h,i,j=[w,f];if(g){while(b=b[d])if((1===b.nodeType||e)&&a(b,c,g))return!0}else while(b=b[d])if(1===b.nodeType||e){if(i=b[u]||(b[u]={}),(h=i[d])&&h[0]===w&&h[1]===f)return j[2]=h[2];if(i[d]=j,j[2]=a(b,c,g))return!0}}}function sb(a){return a.length>1?function(b,c,d){var e=a.length;while(e--)if(!a[e](b,c,d))return!1;return!0}:a[0]}function tb(a,b,c){for(var d=0,e=b.length;e>d;d++)fb(a,b[d],c);return c}function ub(a,b,c,d,e){for(var f,g=[],h=0,i=a.length,j=null!=b;i>h;h++)(f=a[h])&&(!c||c(f,d,e))&&(g.push(f),j&&b.push(h));return g}function vb(a,b,c,d,e,f){return d&&!d[u]&&(d=vb(d)),e&&!e[u]&&(e=vb(e,f)),hb(function(f,g,h,i){var j,k,l,m=[],n=[],o=g.length,p=f||tb(b||"*",h.nodeType?[h]:h,[]),q=!a||!f&&b?p:ub(p,m,a,h,i),r=c?e||(f?a:o||d)?[]:g:q;if(c&&c(q,r,h,i),d){j=ub(r,n),d(j,[],h,i),k=j.length;while(k--)(l=j[k])&&(r[n[k]]=!(q[n[k]]=l))}if(f){if(e||a){if(e){j=[],k=r.length;while(k--)(l=r[k])&&j.push(q[k]=l);e(null,r=[],j,i)}k=r.length;while(k--)(l=r[k])&&(j=e?K.call(f,l):m[k])>-1&&(f[j]=!(g[j]=l))}}else r=ub(r===g?r.splice(o,r.length):r),e?e(null,g,r,i):I.apply(g,r)})}function wb(a){for(var b,c,e,f=a.length,g=d.relative[a[0].type],h=g||d.relative[" "],i=g?1:0,k=rb(function(a){return a===b},h,!0),l=rb(function(a){return K.call(b,a)>-1},h,!0),m=[function(a,c,d){return!g&&(d||c!==j)||((b=c).nodeType?k(a,c,d):l(a,c,d))}];f>i;i++)if(c=d.relative[a[i].type])m=[rb(sb(m),c)];else{if(c=d.filter[a[i].type].apply(null,a[i].matches),c[u]){for(e=++i;f>e;e++)if(d.relative[a[e].type])break;return vb(i>1&&sb(m),i>1&&qb(a.slice(0,i-1).concat({value:" "===a[i-2].type?"*":""})).replace(R,"$1"),c,e>i&&wb(a.slice(i,e)),f>e&&wb(a=a.slice(e)),f>e&&qb(a))}m.push(c)}return sb(m)}function xb(a,b){var c=b.length>0,e=a.length>0,f=function(f,g,h,i,k){var l,m,o,p=0,q="0",r=f&&[],s=[],t=j,u=f||e&&d.find.TAG("*",k),v=w+=null==t?1:Math.random()||.1,x=u.length;for(k&&(j=g!==n&&g);q!==x&&null!=(l=u[q]);q++){if(e&&l){m=0;while(o=a[m++])if(o(l,g,h)){i.push(l);break}k&&(w=v)}c&&((l=!o&&l)&&p--,f&&r.push(l))}if(p+=q,c&&q!==p){m=0;while(o=b[m++])o(r,s,g,h);if(f){if(p>0)while(q--)r[q]||s[q]||(s[q]=G.call(i));s=ub(s)}I.apply(i,s),k&&!f&&s.length>0&&p+b.length>1&&fb.uniqueSort(i)}return k&&(w=v,j=t),r};return c?hb(f):f}return h=fb.compile=function(a,b){var c,d=[],e=[],f=A[a+" "];if(!f){b||(b=g(a)),c=b.length;while(c--)f=wb(b[c]),f[u]?d.push(f):e.push(f);f=A(a,xb(e,d)),f.selector=a}return f},i=fb.select=function(a,b,e,f){var i,j,k,l,m,n="function"==typeof a&&a,o=!f&&g(a=n.selector||a);if(e=e||[],1===o.length){if(j=o[0]=o[0].slice(0),j.length>2&&"ID"===(k=j[0]).type&&c.getById&&9===b.nodeType&&p&&d.relative[j[1].type]){if(b=(d.find.ID(k.matches[0].replace(cb,db),b)||[])[0],!b)return e;n&&(b=b.parentNode),a=a.slice(j.shift().value.length)}i=X.needsContext.test(a)?0:j.length;while(i--){if(k=j[i],d.relative[l=k.type])break;if((m=d.find[l])&&(f=m(k.matches[0].replace(cb,db),ab.test(j[0].type)&&ob(b.parentNode)||b))){if(j.splice(i,1),a=f.length&&qb(j),!a)return I.apply(e,f),e;break}}}return(n||h(a,o))(f,b,!p,e,ab.test(a)&&ob(b.parentNode)||b),e},c.sortStable=u.split("").sort(B).join("")===u,c.detectDuplicates=!!l,m(),c.sortDetached=ib(function(a){return 1&a.compareDocumentPosition(n.createElement("div"))}),ib(function(a){return a.innerHTML="<a href='#'></a>","#"===a.firstChild.getAttribute("href")})||jb("type|href|height|width",function(a,b,c){return c?void 0:a.getAttribute(b,"type"===b.toLowerCase()?1:2)}),c.attributes&&ib(function(a){return a.innerHTML="<input/>",a.firstChild.setAttribute("value",""),""===a.firstChild.getAttribute("value")})||jb("value",function(a,b,c){return c||"input"!==a.nodeName.toLowerCase()?void 0:a.defaultValue}),ib(function(a){return null==a.getAttribute("disabled")})||jb(L,function(a,b,c){var d;return c?void 0:a[b]===!0?b.toLowerCase():(d=a.getAttributeNode(b))&&d.specified?d.value:null}),fb}(a);n.find=t,n.expr=t.selectors,n.expr[":"]=n.expr.pseudos,n.unique=t.uniqueSort,n.text=t.getText,n.isXMLDoc=t.isXML,n.contains=t.contains;var u=n.expr.match.needsContext,v=/^<(\w+)\s*\/?>(?:<\/\1>|)$/,w=/^.[^:#\[\.,]*$/;function x(a,b,c){if(n.isFunction(b))return n.grep(a,function(a,d){return!!b.call(a,d,a)!==c});if(b.nodeType)return n.grep(a,function(a){return a===b!==c});if("string"==typeof b){if(w.test(b))return n.filter(b,a,c);b=n.filter(b,a)}return n.grep(a,function(a){return g.call(b,a)>=0!==c})}n.filter=function(a,b,c){var d=b[0];return c&&(a=":not("+a+")"),1===b.length&&1===d.nodeType?n.find.matchesSelector(d,a)?[d]:[]:n.find.matches(a,n.grep(b,function(a){return 1===a.nodeType}))},n.fn.extend({find:function(a){var b,c=this.length,d=[],e=this;if("string"!=typeof a)return this.pushStack(n(a).filter(function(){for(b=0;c>b;b++)if(n.contains(e[b],this))return!0}));for(b=0;c>b;b++)n.find(a,e[b],d);return d=this.pushStack(c>1?n.unique(d):d),d.selector=this.selector?this.selector+" "+a:a,d},filter:function(a){return this.pushStack(x(this,a||[],!1))},not:function(a){return this.pushStack(x(this,a||[],!0))},is:function(a){return!!x(this,"string"==typeof a&&u.test(a)?n(a):a||[],!1).length}});var y,z=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]*))$/,A=n.fn.init=function(a,b){var c,d;if(!a)return this;if("string"==typeof a){if(c="<"===a[0]&&">"===a[a.length-1]&&a.length>=3?[null,a,null]:z.exec(a),!c||!c[1]&&b)return!b||b.jquery?(b||y).find(a):this.constructor(b).find(a);if(c[1]){if(b=b instanceof n?b[0]:b,n.merge(this,n.parseHTML(c[1],b&&b.nodeType?b.ownerDocument||b:l,!0)),v.test(c[1])&&n.isPlainObject(b))for(c in b)n.isFunction(this[c])?this[c](b[c]):this.attr(c,b[c]);return this}return d=l.getElementById(c[2]),d&&d.parentNode&&(this.length=1,this[0]=d),this.context=l,this.selector=a,this}return a.nodeType?(this.context=this[0]=a,this.length=1,this):n.isFunction(a)?"undefined"!=typeof y.ready?y.ready(a):a(n):(void 0!==a.selector&&(this.selector=a.selector,this.context=a.context),n.makeArray(a,this))};A.prototype=n.fn,y=n(l);var B=/^(?:parents|prev(?:Until|All))/,C={children:!0,contents:!0,next:!0,prev:!0};n.extend({dir:function(a,b,c){var d=[],e=void 0!==c;while((a=a[b])&&9!==a.nodeType)if(1===a.nodeType){if(e&&n(a).is(c))break;d.push(a)}return d},sibling:function(a,b){for(var c=[];a;a=a.nextSibling)1===a.nodeType&&a!==b&&c.push(a);return c}}),n.fn.extend({has:function(a){var b=n(a,this),c=b.length;return this.filter(function(){for(var a=0;c>a;a++)if(n.contains(this,b[a]))return!0})},closest:function(a,b){for(var c,d=0,e=this.length,f=[],g=u.test(a)||"string"!=typeof a?n(a,b||this.context):0;e>d;d++)for(c=this[d];c&&c!==b;c=c.parentNode)if(c.nodeType<11&&(g?g.index(c)>-1:1===c.nodeType&&n.find.matchesSelector(c,a))){f.push(c);break}return this.pushStack(f.length>1?n.unique(f):f)},index:function(a){return a?"string"==typeof a?g.call(n(a),this[0]):g.call(this,a.jquery?a[0]:a):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(a,b){return this.pushStack(n.unique(n.merge(this.get(),n(a,b))))},addBack:function(a){return this.add(null==a?this.prevObject:this.prevObject.filter(a))}});function D(a,b){while((a=a[b])&&1!==a.nodeType);return a}n.each({parent:function(a){var b=a.parentNode;return b&&11!==b.nodeType?b:null},parents:function(a){return n.dir(a,"parentNode")},parentsUntil:function(a,b,c){return n.dir(a,"parentNode",c)},next:function(a){return D(a,"nextSibling")},prev:function(a){return D(a,"previousSibling")},nextAll:function(a){return n.dir(a,"nextSibling")},prevAll:function(a){return n.dir(a,"previousSibling")},nextUntil:function(a,b,c){return n.dir(a,"nextSibling",c)},prevUntil:function(a,b,c){return n.dir(a,"previousSibling",c)},siblings:function(a){return n.sibling((a.parentNode||{}).firstChild,a)},children:function(a){return n.sibling(a.firstChild)},contents:function(a){return a.contentDocument||n.merge([],a.childNodes)}},function(a,b){n.fn[a]=function(c,d){var e=n.map(this,b,c);return"Until"!==a.slice(-5)&&(d=c),d&&"string"==typeof d&&(e=n.filter(d,e)),this.length>1&&(C[a]||n.unique(e),B.test(a)&&e.reverse()),this.pushStack(e)}});var E=/\S+/g,F={};function G(a){var b=F[a]={};return n.each(a.match(E)||[],function(a,c){b[c]=!0}),b}n.Callbacks=function(a){a="string"==typeof a?F[a]||G(a):n.extend({},a);var b,c,d,e,f,g,h=[],i=!a.once&&[],j=function(l){for(b=a.memory&&l,c=!0,g=e||0,e=0,f=h.length,d=!0;h&&f>g;g++)if(h[g].apply(l[0],l[1])===!1&&a.stopOnFalse){b=!1;break}d=!1,h&&(i?i.length&&j(i.shift()):b?h=[]:k.disable())},k={add:function(){if(h){var c=h.length;!function g(b){n.each(b,function(b,c){var d=n.type(c);"function"===d?a.unique&&k.has(c)||h.push(c):c&&c.length&&"string"!==d&&g(c)})}(arguments),d?f=h.length:b&&(e=c,j(b))}return this},remove:function(){return h&&n.each(arguments,function(a,b){var c;while((c=n.inArray(b,h,c))>-1)h.splice(c,1),d&&(f>=c&&f--,g>=c&&g--)}),this},has:function(a){return a?n.inArray(a,h)>-1:!(!h||!h.length)},empty:function(){return h=[],f=0,this},disable:function(){return h=i=b=void 0,this},disabled:function(){return!h},lock:function(){return i=void 0,b||k.disable(),this},locked:function(){return!i},fireWith:function(a,b){return!h||c&&!i||(b=b||[],b=[a,b.slice?b.slice():b],d?i.push(b):j(b)),this},fire:function(){return k.fireWith(this,arguments),this},fired:function(){return!!c}};return k},n.extend({Deferred:function(a){var b=[["resolve","done",n.Callbacks("once memory"),"resolved"],["reject","fail",n.Callbacks("once memory"),"rejected"],["notify","progress",n.Callbacks("memory")]],c="pending",d={state:function(){return c},always:function(){return e.done(arguments).fail(arguments),this},then:function(){var a=arguments;return n.Deferred(function(c){n.each(b,function(b,f){var g=n.isFunction(a[b])&&a[b];e[f[1]](function(){var a=g&&g.apply(this,arguments);a&&n.isFunction(a.promise)?a.promise().done(c.resolve).fail(c.reject).progress(c.notify):c[f[0]+"With"](this===d?c.promise():this,g?[a]:arguments)})}),a=null}).promise()},promise:function(a){return null!=a?n.extend(a,d):d}},e={};return d.pipe=d.then,n.each(b,function(a,f){var g=f[2],h=f[3];d[f[1]]=g.add,h&&g.add(function(){c=h},b[1^a][2].disable,b[2][2].lock),e[f[0]]=function(){return e[f[0]+"With"](this===e?d:this,arguments),this},e[f[0]+"With"]=g.fireWith}),d.promise(e),a&&a.call(e,e),e},when:function(a){var b=0,c=d.call(arguments),e=c.length,f=1!==e||a&&n.isFunction(a.promise)?e:0,g=1===f?a:n.Deferred(),h=function(a,b,c){return function(e){b[a]=this,c[a]=arguments.length>1?d.call(arguments):e,c===i?g.notifyWith(b,c):--f||g.resolveWith(b,c)}},i,j,k;if(e>1)for(i=new Array(e),j=new Array(e),k=new Array(e);e>b;b++)c[b]&&n.isFunction(c[b].promise)?c[b].promise().done(h(b,k,c)).fail(g.reject).progress(h(b,j,i)):--f;return f||g.resolveWith(k,c),g.promise()}});var H;n.fn.ready=function(a){return n.ready.promise().done(a),this},n.extend({isReady:!1,readyWait:1,holdReady:function(a){a?n.readyWait++:n.ready(!0)},ready:function(a){(a===!0?--n.readyWait:n.isReady)||(n.isReady=!0,a!==!0&&--n.readyWait>0||(H.resolveWith(l,[n]),n.fn.triggerHandler&&(n(l).triggerHandler("ready"),n(l).off("ready"))))}});function I(){l.removeEventListener("DOMContentLoaded",I,!1),a.removeEventListener("load",I,!1),n.ready()}n.ready.promise=function(b){return H||(H=n.Deferred(),"complete"===l.readyState?setTimeout(n.ready):(l.addEventListener("DOMContentLoaded",I,!1),a.addEventListener("load",I,!1))),H.promise(b)},n.ready.promise();var J=n.access=function(a,b,c,d,e,f,g){var h=0,i=a.length,j=null==c;if("object"===n.type(c)){e=!0;for(h in c)n.access(a,b,h,c[h],!0,f,g)}else if(void 0!==d&&(e=!0,n.isFunction(d)||(g=!0),j&&(g?(b.call(a,d),b=null):(j=b,b=function(a,b,c){return j.call(n(a),c)})),b))for(;i>h;h++)b(a[h],c,g?d:d.call(a[h],h,b(a[h],c)));return e?a:j?b.call(a):i?b(a[0],c):f};n.acceptData=function(a){return 1===a.nodeType||9===a.nodeType||!+a.nodeType};function K(){Object.defineProperty(this.cache={},0,{get:function(){return{}}}),this.expando=n.expando+Math.random()}K.uid=1,K.accepts=n.acceptData,K.prototype={key:function(a){if(!K.accepts(a))return 0;var b={},c=a[this.expando];if(!c){c=K.uid++;try{b[this.expando]={value:c},Object.defineProperties(a,b)}catch(d){b[this.expando]=c,n.extend(a,b)}}return this.cache[c]||(this.cache[c]={}),c},set:function(a,b,c){var d,e=this.key(a),f=this.cache[e];if("string"==typeof b)f[b]=c;else if(n.isEmptyObject(f))n.extend(this.cache[e],b);else for(d in b)f[d]=b[d];return f},get:function(a,b){var c=this.cache[this.key(a)];return void 0===b?c:c[b]},access:function(a,b,c){var d;return void 0===b||b&&"string"==typeof b&&void 0===c?(d=this.get(a,b),void 0!==d?d:this.get(a,n.camelCase(b))):(this.set(a,b,c),void 0!==c?c:b)},remove:function(a,b){var c,d,e,f=this.key(a),g=this.cache[f];if(void 0===b)this.cache[f]={};else{n.isArray(b)?d=b.concat(b.map(n.camelCase)):(e=n.camelCase(b),b in g?d=[b,e]:(d=e,d=d in g?[d]:d.match(E)||[])),c=d.length;while(c--)delete g[d[c]]}},hasData:function(a){return!n.isEmptyObject(this.cache[a[this.expando]]||{})},discard:function(a){a[this.expando]&&delete this.cache[a[this.expando]]}};var L=new K,M=new K,N=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,O=/([A-Z])/g;function P(a,b,c){var d;if(void 0===c&&1===a.nodeType)if(d="data-"+b.replace(O,"-$1").toLowerCase(),c=a.getAttribute(d),"string"==typeof c){try{c="true"===c?!0:"false"===c?!1:"null"===c?null:+c+""===c?+c:N.test(c)?n.parseJSON(c):c}catch(e){}M.set(a,b,c)}else c=void 0;return c}n.extend({hasData:function(a){return M.hasData(a)||L.hasData(a)},data:function(a,b,c){return M.access(a,b,c)},removeData:function(a,b){M.remove(a,b)
},_data:function(a,b,c){return L.access(a,b,c)},_removeData:function(a,b){L.remove(a,b)}}),n.fn.extend({data:function(a,b){var c,d,e,f=this[0],g=f&&f.attributes;if(void 0===a){if(this.length&&(e=M.get(f),1===f.nodeType&&!L.get(f,"hasDataAttrs"))){c=g.length;while(c--)g[c]&&(d=g[c].name,0===d.indexOf("data-")&&(d=n.camelCase(d.slice(5)),P(f,d,e[d])));L.set(f,"hasDataAttrs",!0)}return e}return"object"==typeof a?this.each(function(){M.set(this,a)}):J(this,function(b){var c,d=n.camelCase(a);if(f&&void 0===b){if(c=M.get(f,a),void 0!==c)return c;if(c=M.get(f,d),void 0!==c)return c;if(c=P(f,d,void 0),void 0!==c)return c}else this.each(function(){var c=M.get(this,d);M.set(this,d,b),-1!==a.indexOf("-")&&void 0!==c&&M.set(this,a,b)})},null,b,arguments.length>1,null,!0)},removeData:function(a){return this.each(function(){M.remove(this,a)})}}),n.extend({queue:function(a,b,c){var d;return a?(b=(b||"fx")+"queue",d=L.get(a,b),c&&(!d||n.isArray(c)?d=L.access(a,b,n.makeArray(c)):d.push(c)),d||[]):void 0},dequeue:function(a,b){b=b||"fx";var c=n.queue(a,b),d=c.length,e=c.shift(),f=n._queueHooks(a,b),g=function(){n.dequeue(a,b)};"inprogress"===e&&(e=c.shift(),d--),e&&("fx"===b&&c.unshift("inprogress"),delete f.stop,e.call(a,g,f)),!d&&f&&f.empty.fire()},_queueHooks:function(a,b){var c=b+"queueHooks";return L.get(a,c)||L.access(a,c,{empty:n.Callbacks("once memory").add(function(){L.remove(a,[b+"queue",c])})})}}),n.fn.extend({queue:function(a,b){var c=2;return"string"!=typeof a&&(b=a,a="fx",c--),arguments.length<c?n.queue(this[0],a):void 0===b?this:this.each(function(){var c=n.queue(this,a,b);n._queueHooks(this,a),"fx"===a&&"inprogress"!==c[0]&&n.dequeue(this,a)})},dequeue:function(a){return this.each(function(){n.dequeue(this,a)})},clearQueue:function(a){return this.queue(a||"fx",[])},promise:function(a,b){var c,d=1,e=n.Deferred(),f=this,g=this.length,h=function(){--d||e.resolveWith(f,[f])};"string"!=typeof a&&(b=a,a=void 0),a=a||"fx";while(g--)c=L.get(f[g],a+"queueHooks"),c&&c.empty&&(d++,c.empty.add(h));return h(),e.promise(b)}});var Q=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,R=["Top","Right","Bottom","Left"],S=function(a,b){return a=b||a,"none"===n.css(a,"display")||!n.contains(a.ownerDocument,a)},T=/^(?:checkbox|radio)$/i;!function(){var a=l.createDocumentFragment(),b=a.appendChild(l.createElement("div")),c=l.createElement("input");c.setAttribute("type","radio"),c.setAttribute("checked","checked"),c.setAttribute("name","t"),b.appendChild(c),k.checkClone=b.cloneNode(!0).cloneNode(!0).lastChild.checked,b.innerHTML="<textarea>x</textarea>",k.noCloneChecked=!!b.cloneNode(!0).lastChild.defaultValue}();var U="undefined";k.focusinBubbles="onfocusin"in a;var V=/^key/,W=/^(?:mouse|pointer|contextmenu)|click/,X=/^(?:focusinfocus|focusoutblur)$/,Y=/^([^.]*)(?:\.(.+)|)$/;function Z(){return!0}function $(){return!1}function _(){try{return l.activeElement}catch(a){}}n.event={global:{},add:function(a,b,c,d,e){var f,g,h,i,j,k,l,m,o,p,q,r=L.get(a);if(r){c.handler&&(f=c,c=f.handler,e=f.selector),c.guid||(c.guid=n.guid++),(i=r.events)||(i=r.events={}),(g=r.handle)||(g=r.handle=function(b){return typeof n!==U&&n.event.triggered!==b.type?n.event.dispatch.apply(a,arguments):void 0}),b=(b||"").match(E)||[""],j=b.length;while(j--)h=Y.exec(b[j])||[],o=q=h[1],p=(h[2]||"").split(".").sort(),o&&(l=n.event.special[o]||{},o=(e?l.delegateType:l.bindType)||o,l=n.event.special[o]||{},k=n.extend({type:o,origType:q,data:d,handler:c,guid:c.guid,selector:e,needsContext:e&&n.expr.match.needsContext.test(e),namespace:p.join(".")},f),(m=i[o])||(m=i[o]=[],m.delegateCount=0,l.setup&&l.setup.call(a,d,p,g)!==!1||a.addEventListener&&a.addEventListener(o,g,!1)),l.add&&(l.add.call(a,k),k.handler.guid||(k.handler.guid=c.guid)),e?m.splice(m.delegateCount++,0,k):m.push(k),n.event.global[o]=!0)}},remove:function(a,b,c,d,e){var f,g,h,i,j,k,l,m,o,p,q,r=L.hasData(a)&&L.get(a);if(r&&(i=r.events)){b=(b||"").match(E)||[""],j=b.length;while(j--)if(h=Y.exec(b[j])||[],o=q=h[1],p=(h[2]||"").split(".").sort(),o){l=n.event.special[o]||{},o=(d?l.delegateType:l.bindType)||o,m=i[o]||[],h=h[2]&&new RegExp("(^|\\.)"+p.join("\\.(?:.*\\.|)")+"(\\.|$)"),g=f=m.length;while(f--)k=m[f],!e&&q!==k.origType||c&&c.guid!==k.guid||h&&!h.test(k.namespace)||d&&d!==k.selector&&("**"!==d||!k.selector)||(m.splice(f,1),k.selector&&m.delegateCount--,l.remove&&l.remove.call(a,k));g&&!m.length&&(l.teardown&&l.teardown.call(a,p,r.handle)!==!1||n.removeEvent(a,o,r.handle),delete i[o])}else for(o in i)n.event.remove(a,o+b[j],c,d,!0);n.isEmptyObject(i)&&(delete r.handle,L.remove(a,"events"))}},trigger:function(b,c,d,e){var f,g,h,i,k,m,o,p=[d||l],q=j.call(b,"type")?b.type:b,r=j.call(b,"namespace")?b.namespace.split("."):[];if(g=h=d=d||l,3!==d.nodeType&&8!==d.nodeType&&!X.test(q+n.event.triggered)&&(q.indexOf(".")>=0&&(r=q.split("."),q=r.shift(),r.sort()),k=q.indexOf(":")<0&&"on"+q,b=b[n.expando]?b:new n.Event(q,"object"==typeof b&&b),b.isTrigger=e?2:3,b.namespace=r.join("."),b.namespace_re=b.namespace?new RegExp("(^|\\.)"+r.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,b.result=void 0,b.target||(b.target=d),c=null==c?[b]:n.makeArray(c,[b]),o=n.event.special[q]||{},e||!o.trigger||o.trigger.apply(d,c)!==!1)){if(!e&&!o.noBubble&&!n.isWindow(d)){for(i=o.delegateType||q,X.test(i+q)||(g=g.parentNode);g;g=g.parentNode)p.push(g),h=g;h===(d.ownerDocument||l)&&p.push(h.defaultView||h.parentWindow||a)}f=0;while((g=p[f++])&&!b.isPropagationStopped())b.type=f>1?i:o.bindType||q,m=(L.get(g,"events")||{})[b.type]&&L.get(g,"handle"),m&&m.apply(g,c),m=k&&g[k],m&&m.apply&&n.acceptData(g)&&(b.result=m.apply(g,c),b.result===!1&&b.preventDefault());return b.type=q,e||b.isDefaultPrevented()||o._default&&o._default.apply(p.pop(),c)!==!1||!n.acceptData(d)||k&&n.isFunction(d[q])&&!n.isWindow(d)&&(h=d[k],h&&(d[k]=null),n.event.triggered=q,d[q](),n.event.triggered=void 0,h&&(d[k]=h)),b.result}},dispatch:function(a){a=n.event.fix(a);var b,c,e,f,g,h=[],i=d.call(arguments),j=(L.get(this,"events")||{})[a.type]||[],k=n.event.special[a.type]||{};if(i[0]=a,a.delegateTarget=this,!k.preDispatch||k.preDispatch.call(this,a)!==!1){h=n.event.handlers.call(this,a,j),b=0;while((f=h[b++])&&!a.isPropagationStopped()){a.currentTarget=f.elem,c=0;while((g=f.handlers[c++])&&!a.isImmediatePropagationStopped())(!a.namespace_re||a.namespace_re.test(g.namespace))&&(a.handleObj=g,a.data=g.data,e=((n.event.special[g.origType]||{}).handle||g.handler).apply(f.elem,i),void 0!==e&&(a.result=e)===!1&&(a.preventDefault(),a.stopPropagation()))}return k.postDispatch&&k.postDispatch.call(this,a),a.result}},handlers:function(a,b){var c,d,e,f,g=[],h=b.delegateCount,i=a.target;if(h&&i.nodeType&&(!a.button||"click"!==a.type))for(;i!==this;i=i.parentNode||this)if(i.disabled!==!0||"click"!==a.type){for(d=[],c=0;h>c;c++)f=b[c],e=f.selector+" ",void 0===d[e]&&(d[e]=f.needsContext?n(e,this).index(i)>=0:n.find(e,this,null,[i]).length),d[e]&&d.push(f);d.length&&g.push({elem:i,handlers:d})}return h<b.length&&g.push({elem:this,handlers:b.slice(h)}),g},props:"altKey bubbles cancelable ctrlKey currentTarget eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),fixHooks:{},keyHooks:{props:"char charCode key keyCode".split(" "),filter:function(a,b){return null==a.which&&(a.which=null!=b.charCode?b.charCode:b.keyCode),a}},mouseHooks:{props:"button buttons clientX clientY offsetX offsetY pageX pageY screenX screenY toElement".split(" "),filter:function(a,b){var c,d,e,f=b.button;return null==a.pageX&&null!=b.clientX&&(c=a.target.ownerDocument||l,d=c.documentElement,e=c.body,a.pageX=b.clientX+(d&&d.scrollLeft||e&&e.scrollLeft||0)-(d&&d.clientLeft||e&&e.clientLeft||0),a.pageY=b.clientY+(d&&d.scrollTop||e&&e.scrollTop||0)-(d&&d.clientTop||e&&e.clientTop||0)),a.which||void 0===f||(a.which=1&f?1:2&f?3:4&f?2:0),a}},fix:function(a){if(a[n.expando])return a;var b,c,d,e=a.type,f=a,g=this.fixHooks[e];g||(this.fixHooks[e]=g=W.test(e)?this.mouseHooks:V.test(e)?this.keyHooks:{}),d=g.props?this.props.concat(g.props):this.props,a=new n.Event(f),b=d.length;while(b--)c=d[b],a[c]=f[c];return a.target||(a.target=l),3===a.target.nodeType&&(a.target=a.target.parentNode),g.filter?g.filter(a,f):a},special:{load:{noBubble:!0},focus:{trigger:function(){return this!==_()&&this.focus?(this.focus(),!1):void 0},delegateType:"focusin"},blur:{trigger:function(){return this===_()&&this.blur?(this.blur(),!1):void 0},delegateType:"focusout"},click:{trigger:function(){return"checkbox"===this.type&&this.click&&n.nodeName(this,"input")?(this.click(),!1):void 0},_default:function(a){return n.nodeName(a.target,"a")}},beforeunload:{postDispatch:function(a){void 0!==a.result&&a.originalEvent&&(a.originalEvent.returnValue=a.result)}}},simulate:function(a,b,c,d){var e=n.extend(new n.Event,c,{type:a,isSimulated:!0,originalEvent:{}});d?n.event.trigger(e,null,b):n.event.dispatch.call(b,e),e.isDefaultPrevented()&&c.preventDefault()}},n.removeEvent=function(a,b,c){a.removeEventListener&&a.removeEventListener(b,c,!1)},n.Event=function(a,b){return this instanceof n.Event?(a&&a.type?(this.originalEvent=a,this.type=a.type,this.isDefaultPrevented=a.defaultPrevented||void 0===a.defaultPrevented&&a.returnValue===!1?Z:$):this.type=a,b&&n.extend(this,b),this.timeStamp=a&&a.timeStamp||n.now(),void(this[n.expando]=!0)):new n.Event(a,b)},n.Event.prototype={isDefaultPrevented:$,isPropagationStopped:$,isImmediatePropagationStopped:$,preventDefault:function(){var a=this.originalEvent;this.isDefaultPrevented=Z,a&&a.preventDefault&&a.preventDefault()},stopPropagation:function(){var a=this.originalEvent;this.isPropagationStopped=Z,a&&a.stopPropagation&&a.stopPropagation()},stopImmediatePropagation:function(){var a=this.originalEvent;this.isImmediatePropagationStopped=Z,a&&a.stopImmediatePropagation&&a.stopImmediatePropagation(),this.stopPropagation()}},n.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(a,b){n.event.special[a]={delegateType:b,bindType:b,handle:function(a){var c,d=this,e=a.relatedTarget,f=a.handleObj;return(!e||e!==d&&!n.contains(d,e))&&(a.type=f.origType,c=f.handler.apply(this,arguments),a.type=b),c}}}),k.focusinBubbles||n.each({focus:"focusin",blur:"focusout"},function(a,b){var c=function(a){n.event.simulate(b,a.target,n.event.fix(a),!0)};n.event.special[b]={setup:function(){var d=this.ownerDocument||this,e=L.access(d,b);e||d.addEventListener(a,c,!0),L.access(d,b,(e||0)+1)},teardown:function(){var d=this.ownerDocument||this,e=L.access(d,b)-1;e?L.access(d,b,e):(d.removeEventListener(a,c,!0),L.remove(d,b))}}}),n.fn.extend({on:function(a,b,c,d,e){var f,g;if("object"==typeof a){"string"!=typeof b&&(c=c||b,b=void 0);for(g in a)this.on(g,b,c,a[g],e);return this}if(null==c&&null==d?(d=b,c=b=void 0):null==d&&("string"==typeof b?(d=c,c=void 0):(d=c,c=b,b=void 0)),d===!1)d=$;else if(!d)return this;return 1===e&&(f=d,d=function(a){return n().off(a),f.apply(this,arguments)},d.guid=f.guid||(f.guid=n.guid++)),this.each(function(){n.event.add(this,a,d,c,b)})},one:function(a,b,c,d){return this.on(a,b,c,d,1)},off:function(a,b,c){var d,e;if(a&&a.preventDefault&&a.handleObj)return d=a.handleObj,n(a.delegateTarget).off(d.namespace?d.origType+"."+d.namespace:d.origType,d.selector,d.handler),this;if("object"==typeof a){for(e in a)this.off(e,b,a[e]);return this}return(b===!1||"function"==typeof b)&&(c=b,b=void 0),c===!1&&(c=$),this.each(function(){n.event.remove(this,a,c,b)})},trigger:function(a,b){return this.each(function(){n.event.trigger(a,b,this)})},triggerHandler:function(a,b){var c=this[0];return c?n.event.trigger(a,b,c,!0):void 0}});var ab=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,bb=/<([\w:]+)/,cb=/<|&#?\w+;/,db=/<(?:script|style|link)/i,eb=/checked\s*(?:[^=]|=\s*.checked.)/i,fb=/^$|\/(?:java|ecma)script/i,gb=/^true\/(.*)/,hb=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g,ib={option:[1,"<select multiple='multiple'>","</select>"],thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};ib.optgroup=ib.option,ib.tbody=ib.tfoot=ib.colgroup=ib.caption=ib.thead,ib.th=ib.td;function jb(a,b){return n.nodeName(a,"table")&&n.nodeName(11!==b.nodeType?b:b.firstChild,"tr")?a.getElementsByTagName("tbody")[0]||a.appendChild(a.ownerDocument.createElement("tbody")):a}function kb(a){return a.type=(null!==a.getAttribute("type"))+"/"+a.type,a}function lb(a){var b=gb.exec(a.type);return b?a.type=b[1]:a.removeAttribute("type"),a}function mb(a,b){for(var c=0,d=a.length;d>c;c++)L.set(a[c],"globalEval",!b||L.get(b[c],"globalEval"))}function nb(a,b){var c,d,e,f,g,h,i,j;if(1===b.nodeType){if(L.hasData(a)&&(f=L.access(a),g=L.set(b,f),j=f.events)){delete g.handle,g.events={};for(e in j)for(c=0,d=j[e].length;d>c;c++)n.event.add(b,e,j[e][c])}M.hasData(a)&&(h=M.access(a),i=n.extend({},h),M.set(b,i))}}function ob(a,b){var c=a.getElementsByTagName?a.getElementsByTagName(b||"*"):a.querySelectorAll?a.querySelectorAll(b||"*"):[];return void 0===b||b&&n.nodeName(a,b)?n.merge([a],c):c}function pb(a,b){var c=b.nodeName.toLowerCase();"input"===c&&T.test(a.type)?b.checked=a.checked:("input"===c||"textarea"===c)&&(b.defaultValue=a.defaultValue)}n.extend({clone:function(a,b,c){var d,e,f,g,h=a.cloneNode(!0),i=n.contains(a.ownerDocument,a);if(!(k.noCloneChecked||1!==a.nodeType&&11!==a.nodeType||n.isXMLDoc(a)))for(g=ob(h),f=ob(a),d=0,e=f.length;e>d;d++)pb(f[d],g[d]);if(b)if(c)for(f=f||ob(a),g=g||ob(h),d=0,e=f.length;e>d;d++)nb(f[d],g[d]);else nb(a,h);return g=ob(h,"script"),g.length>0&&mb(g,!i&&ob(a,"script")),h},buildFragment:function(a,b,c,d){for(var e,f,g,h,i,j,k=b.createDocumentFragment(),l=[],m=0,o=a.length;o>m;m++)if(e=a[m],e||0===e)if("object"===n.type(e))n.merge(l,e.nodeType?[e]:e);else if(cb.test(e)){f=f||k.appendChild(b.createElement("div")),g=(bb.exec(e)||["",""])[1].toLowerCase(),h=ib[g]||ib._default,f.innerHTML=h[1]+e.replace(ab,"<$1></$2>")+h[2],j=h[0];while(j--)f=f.lastChild;n.merge(l,f.childNodes),f=k.firstChild,f.textContent=""}else l.push(b.createTextNode(e));k.textContent="",m=0;while(e=l[m++])if((!d||-1===n.inArray(e,d))&&(i=n.contains(e.ownerDocument,e),f=ob(k.appendChild(e),"script"),i&&mb(f),c)){j=0;while(e=f[j++])fb.test(e.type||"")&&c.push(e)}return k},cleanData:function(a){for(var b,c,d,e,f=n.event.special,g=0;void 0!==(c=a[g]);g++){if(n.acceptData(c)&&(e=c[L.expando],e&&(b=L.cache[e]))){if(b.events)for(d in b.events)f[d]?n.event.remove(c,d):n.removeEvent(c,d,b.handle);L.cache[e]&&delete L.cache[e]}delete M.cache[c[M.expando]]}}}),n.fn.extend({text:function(a){return J(this,function(a){return void 0===a?n.text(this):this.empty().each(function(){(1===this.nodeType||11===this.nodeType||9===this.nodeType)&&(this.textContent=a)})},null,a,arguments.length)},append:function(){return this.domManip(arguments,function(a){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var b=jb(this,a);b.appendChild(a)}})},prepend:function(){return this.domManip(arguments,function(a){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var b=jb(this,a);b.insertBefore(a,b.firstChild)}})},before:function(){return this.domManip(arguments,function(a){this.parentNode&&this.parentNode.insertBefore(a,this)})},after:function(){return this.domManip(arguments,function(a){this.parentNode&&this.parentNode.insertBefore(a,this.nextSibling)})},remove:function(a,b){for(var c,d=a?n.filter(a,this):this,e=0;null!=(c=d[e]);e++)b||1!==c.nodeType||n.cleanData(ob(c)),c.parentNode&&(b&&n.contains(c.ownerDocument,c)&&mb(ob(c,"script")),c.parentNode.removeChild(c));return this},empty:function(){for(var a,b=0;null!=(a=this[b]);b++)1===a.nodeType&&(n.cleanData(ob(a,!1)),a.textContent="");return this},clone:function(a,b){return a=null==a?!1:a,b=null==b?a:b,this.map(function(){return n.clone(this,a,b)})},html:function(a){return J(this,function(a){var b=this[0]||{},c=0,d=this.length;if(void 0===a&&1===b.nodeType)return b.innerHTML;if("string"==typeof a&&!db.test(a)&&!ib[(bb.exec(a)||["",""])[1].toLowerCase()]){a=a.replace(ab,"<$1></$2>");try{for(;d>c;c++)b=this[c]||{},1===b.nodeType&&(n.cleanData(ob(b,!1)),b.innerHTML=a);b=0}catch(e){}}b&&this.empty().append(a)},null,a,arguments.length)},replaceWith:function(){var a=arguments[0];return this.domManip(arguments,function(b){a=this.parentNode,n.cleanData(ob(this)),a&&a.replaceChild(b,this)}),a&&(a.length||a.nodeType)?this:this.remove()},detach:function(a){return this.remove(a,!0)},domManip:function(a,b){a=e.apply([],a);var c,d,f,g,h,i,j=0,l=this.length,m=this,o=l-1,p=a[0],q=n.isFunction(p);if(q||l>1&&"string"==typeof p&&!k.checkClone&&eb.test(p))return this.each(function(c){var d=m.eq(c);q&&(a[0]=p.call(this,c,d.html())),d.domManip(a,b)});if(l&&(c=n.buildFragment(a,this[0].ownerDocument,!1,this),d=c.firstChild,1===c.childNodes.length&&(c=d),d)){for(f=n.map(ob(c,"script"),kb),g=f.length;l>j;j++)h=c,j!==o&&(h=n.clone(h,!0,!0),g&&n.merge(f,ob(h,"script"))),b.call(this[j],h,j);if(g)for(i=f[f.length-1].ownerDocument,n.map(f,lb),j=0;g>j;j++)h=f[j],fb.test(h.type||"")&&!L.access(h,"globalEval")&&n.contains(i,h)&&(h.src?n._evalUrl&&n._evalUrl(h.src):n.globalEval(h.textContent.replace(hb,"")))}return this}}),n.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(a,b){n.fn[a]=function(a){for(var c,d=[],e=n(a),g=e.length-1,h=0;g>=h;h++)c=h===g?this:this.clone(!0),n(e[h])[b](c),f.apply(d,c.get());return this.pushStack(d)}});var qb,rb={};function sb(b,c){var d,e=n(c.createElement(b)).appendTo(c.body),f=a.getDefaultComputedStyle&&(d=a.getDefaultComputedStyle(e[0]))?d.display:n.css(e[0],"display");return e.detach(),f}function tb(a){var b=l,c=rb[a];return c||(c=sb(a,b),"none"!==c&&c||(qb=(qb||n("<iframe frameborder='0' width='0' height='0'/>")).appendTo(b.documentElement),b=qb[0].contentDocument,b.write(),b.close(),c=sb(a,b),qb.detach()),rb[a]=c),c}var ub=/^margin/,vb=new RegExp("^("+Q+")(?!px)[a-z%]+$","i"),wb=function(a){return a.ownerDocument.defaultView.getComputedStyle(a,null)};function xb(a,b,c){var d,e,f,g,h=a.style;return c=c||wb(a),c&&(g=c.getPropertyValue(b)||c[b]),c&&(""!==g||n.contains(a.ownerDocument,a)||(g=n.style(a,b)),vb.test(g)&&ub.test(b)&&(d=h.width,e=h.minWidth,f=h.maxWidth,h.minWidth=h.maxWidth=h.width=g,g=c.width,h.width=d,h.minWidth=e,h.maxWidth=f)),void 0!==g?g+"":g}function yb(a,b){return{get:function(){return a()?void delete this.get:(this.get=b).apply(this,arguments)}}}!function(){var b,c,d=l.documentElement,e=l.createElement("div"),f=l.createElement("div");if(f.style){f.style.backgroundClip="content-box",f.cloneNode(!0).style.backgroundClip="",k.clearCloneStyle="content-box"===f.style.backgroundClip,e.style.cssText="border:0;width:0;height:0;top:0;left:-9999px;margin-top:1px;position:absolute",e.appendChild(f);function g(){f.style.cssText="-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box;display:block;margin-top:1%;top:1%;border:1px;padding:1px;width:4px;position:absolute",f.innerHTML="",d.appendChild(e);var g=a.getComputedStyle(f,null);b="1%"!==g.top,c="4px"===g.width,d.removeChild(e)}a.getComputedStyle&&n.extend(k,{pixelPosition:function(){return g(),b},boxSizingReliable:function(){return null==c&&g(),c},reliableMarginRight:function(){var b,c=f.appendChild(l.createElement("div"));return c.style.cssText=f.style.cssText="-webkit-box-sizing:content-box;-moz-box-sizing:content-box;box-sizing:content-box;display:block;margin:0;border:0;padding:0",c.style.marginRight=c.style.width="0",f.style.width="1px",d.appendChild(e),b=!parseFloat(a.getComputedStyle(c,null).marginRight),d.removeChild(e),b}})}}(),n.swap=function(a,b,c,d){var e,f,g={};for(f in b)g[f]=a.style[f],a.style[f]=b[f];e=c.apply(a,d||[]);for(f in b)a.style[f]=g[f];return e};var zb=/^(none|table(?!-c[ea]).+)/,Ab=new RegExp("^("+Q+")(.*)$","i"),Bb=new RegExp("^([+-])=("+Q+")","i"),Cb={position:"absolute",visibility:"hidden",display:"block"},Db={letterSpacing:"0",fontWeight:"400"},Eb=["Webkit","O","Moz","ms"];function Fb(a,b){if(b in a)return b;var c=b[0].toUpperCase()+b.slice(1),d=b,e=Eb.length;while(e--)if(b=Eb[e]+c,b in a)return b;return d}function Gb(a,b,c){var d=Ab.exec(b);return d?Math.max(0,d[1]-(c||0))+(d[2]||"px"):b}function Hb(a,b,c,d,e){for(var f=c===(d?"border":"content")?4:"width"===b?1:0,g=0;4>f;f+=2)"margin"===c&&(g+=n.css(a,c+R[f],!0,e)),d?("content"===c&&(g-=n.css(a,"padding"+R[f],!0,e)),"margin"!==c&&(g-=n.css(a,"border"+R[f]+"Width",!0,e))):(g+=n.css(a,"padding"+R[f],!0,e),"padding"!==c&&(g+=n.css(a,"border"+R[f]+"Width",!0,e)));return g}function Ib(a,b,c){var d=!0,e="width"===b?a.offsetWidth:a.offsetHeight,f=wb(a),g="border-box"===n.css(a,"boxSizing",!1,f);if(0>=e||null==e){if(e=xb(a,b,f),(0>e||null==e)&&(e=a.style[b]),vb.test(e))return e;d=g&&(k.boxSizingReliable()||e===a.style[b]),e=parseFloat(e)||0}return e+Hb(a,b,c||(g?"border":"content"),d,f)+"px"}function Jb(a,b){for(var c,d,e,f=[],g=0,h=a.length;h>g;g++)d=a[g],d.style&&(f[g]=L.get(d,"olddisplay"),c=d.style.display,b?(f[g]||"none"!==c||(d.style.display=""),""===d.style.display&&S(d)&&(f[g]=L.access(d,"olddisplay",tb(d.nodeName)))):(e=S(d),"none"===c&&e||L.set(d,"olddisplay",e?c:n.css(d,"display"))));for(g=0;h>g;g++)d=a[g],d.style&&(b&&"none"!==d.style.display&&""!==d.style.display||(d.style.display=b?f[g]||"":"none"));return a}n.extend({cssHooks:{opacity:{get:function(a,b){if(b){var c=xb(a,"opacity");return""===c?"1":c}}}},cssNumber:{columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{"float":"cssFloat"},style:function(a,b,c,d){if(a&&3!==a.nodeType&&8!==a.nodeType&&a.style){var e,f,g,h=n.camelCase(b),i=a.style;return b=n.cssProps[h]||(n.cssProps[h]=Fb(i,h)),g=n.cssHooks[b]||n.cssHooks[h],void 0===c?g&&"get"in g&&void 0!==(e=g.get(a,!1,d))?e:i[b]:(f=typeof c,"string"===f&&(e=Bb.exec(c))&&(c=(e[1]+1)*e[2]+parseFloat(n.css(a,b)),f="number"),null!=c&&c===c&&("number"!==f||n.cssNumber[h]||(c+="px"),k.clearCloneStyle||""!==c||0!==b.indexOf("background")||(i[b]="inherit"),g&&"set"in g&&void 0===(c=g.set(a,c,d))||(i[b]=c)),void 0)}},css:function(a,b,c,d){var e,f,g,h=n.camelCase(b);return b=n.cssProps[h]||(n.cssProps[h]=Fb(a.style,h)),g=n.cssHooks[b]||n.cssHooks[h],g&&"get"in g&&(e=g.get(a,!0,c)),void 0===e&&(e=xb(a,b,d)),"normal"===e&&b in Db&&(e=Db[b]),""===c||c?(f=parseFloat(e),c===!0||n.isNumeric(f)?f||0:e):e}}),n.each(["height","width"],function(a,b){n.cssHooks[b]={get:function(a,c,d){return c?zb.test(n.css(a,"display"))&&0===a.offsetWidth?n.swap(a,Cb,function(){return Ib(a,b,d)}):Ib(a,b,d):void 0},set:function(a,c,d){var e=d&&wb(a);return Gb(a,c,d?Hb(a,b,d,"border-box"===n.css(a,"boxSizing",!1,e),e):0)}}}),n.cssHooks.marginRight=yb(k.reliableMarginRight,function(a,b){return b?n.swap(a,{display:"inline-block"},xb,[a,"marginRight"]):void 0}),n.each({margin:"",padding:"",border:"Width"},function(a,b){n.cssHooks[a+b]={expand:function(c){for(var d=0,e={},f="string"==typeof c?c.split(" "):[c];4>d;d++)e[a+R[d]+b]=f[d]||f[d-2]||f[0];return e}},ub.test(a)||(n.cssHooks[a+b].set=Gb)}),n.fn.extend({css:function(a,b){return J(this,function(a,b,c){var d,e,f={},g=0;if(n.isArray(b)){for(d=wb(a),e=b.length;e>g;g++)f[b[g]]=n.css(a,b[g],!1,d);return f}return void 0!==c?n.style(a,b,c):n.css(a,b)},a,b,arguments.length>1)},show:function(){return Jb(this,!0)},hide:function(){return Jb(this)},toggle:function(a){return"boolean"==typeof a?a?this.show():this.hide():this.each(function(){S(this)?n(this).show():n(this).hide()})}});function Kb(a,b,c,d,e){return new Kb.prototype.init(a,b,c,d,e)}n.Tween=Kb,Kb.prototype={constructor:Kb,init:function(a,b,c,d,e,f){this.elem=a,this.prop=c,this.easing=e||"swing",this.options=b,this.start=this.now=this.cur(),this.end=d,this.unit=f||(n.cssNumber[c]?"":"px")},cur:function(){var a=Kb.propHooks[this.prop];return a&&a.get?a.get(this):Kb.propHooks._default.get(this)},run:function(a){var b,c=Kb.propHooks[this.prop];return this.pos=b=this.options.duration?n.easing[this.easing](a,this.options.duration*a,0,1,this.options.duration):a,this.now=(this.end-this.start)*b+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),c&&c.set?c.set(this):Kb.propHooks._default.set(this),this}},Kb.prototype.init.prototype=Kb.prototype,Kb.propHooks={_default:{get:function(a){var b;return null==a.elem[a.prop]||a.elem.style&&null!=a.elem.style[a.prop]?(b=n.css(a.elem,a.prop,""),b&&"auto"!==b?b:0):a.elem[a.prop]},set:function(a){n.fx.step[a.prop]?n.fx.step[a.prop](a):a.elem.style&&(null!=a.elem.style[n.cssProps[a.prop]]||n.cssHooks[a.prop])?n.style(a.elem,a.prop,a.now+a.unit):a.elem[a.prop]=a.now}}},Kb.propHooks.scrollTop=Kb.propHooks.scrollLeft={set:function(a){a.elem.nodeType&&a.elem.parentNode&&(a.elem[a.prop]=a.now)}},n.easing={linear:function(a){return a},swing:function(a){return.5-Math.cos(a*Math.PI)/2}},n.fx=Kb.prototype.init,n.fx.step={};var Lb,Mb,Nb=/^(?:toggle|show|hide)$/,Ob=new RegExp("^(?:([+-])=|)("+Q+")([a-z%]*)$","i"),Pb=/queueHooks$/,Qb=[Vb],Rb={"*":[function(a,b){var c=this.createTween(a,b),d=c.cur(),e=Ob.exec(b),f=e&&e[3]||(n.cssNumber[a]?"":"px"),g=(n.cssNumber[a]||"px"!==f&&+d)&&Ob.exec(n.css(c.elem,a)),h=1,i=20;if(g&&g[3]!==f){f=f||g[3],e=e||[],g=+d||1;do h=h||".5",g/=h,n.style(c.elem,a,g+f);while(h!==(h=c.cur()/d)&&1!==h&&--i)}return e&&(g=c.start=+g||+d||0,c.unit=f,c.end=e[1]?g+(e[1]+1)*e[2]:+e[2]),c}]};function Sb(){return setTimeout(function(){Lb=void 0}),Lb=n.now()}function Tb(a,b){var c,d=0,e={height:a};for(b=b?1:0;4>d;d+=2-b)c=R[d],e["margin"+c]=e["padding"+c]=a;return b&&(e.opacity=e.width=a),e}function Ub(a,b,c){for(var d,e=(Rb[b]||[]).concat(Rb["*"]),f=0,g=e.length;g>f;f++)if(d=e[f].call(c,b,a))return d}function Vb(a,b,c){var d,e,f,g,h,i,j,k,l=this,m={},o=a.style,p=a.nodeType&&S(a),q=L.get(a,"fxshow");c.queue||(h=n._queueHooks(a,"fx"),null==h.unqueued&&(h.unqueued=0,i=h.empty.fire,h.empty.fire=function(){h.unqueued||i()}),h.unqueued++,l.always(function(){l.always(function(){h.unqueued--,n.queue(a,"fx").length||h.empty.fire()})})),1===a.nodeType&&("height"in b||"width"in b)&&(c.overflow=[o.overflow,o.overflowX,o.overflowY],j=n.css(a,"display"),k="none"===j?L.get(a,"olddisplay")||tb(a.nodeName):j,"inline"===k&&"none"===n.css(a,"float")&&(o.display="inline-block")),c.overflow&&(o.overflow="hidden",l.always(function(){o.overflow=c.overflow[0],o.overflowX=c.overflow[1],o.overflowY=c.overflow[2]}));for(d in b)if(e=b[d],Nb.exec(e)){if(delete b[d],f=f||"toggle"===e,e===(p?"hide":"show")){if("show"!==e||!q||void 0===q[d])continue;p=!0}m[d]=q&&q[d]||n.style(a,d)}else j=void 0;if(n.isEmptyObject(m))"inline"===("none"===j?tb(a.nodeName):j)&&(o.display=j);else{q?"hidden"in q&&(p=q.hidden):q=L.access(a,"fxshow",{}),f&&(q.hidden=!p),p?n(a).show():l.done(function(){n(a).hide()}),l.done(function(){var b;L.remove(a,"fxshow");for(b in m)n.style(a,b,m[b])});for(d in m)g=Ub(p?q[d]:0,d,l),d in q||(q[d]=g.start,p&&(g.end=g.start,g.start="width"===d||"height"===d?1:0))}}function Wb(a,b){var c,d,e,f,g;for(c in a)if(d=n.camelCase(c),e=b[d],f=a[c],n.isArray(f)&&(e=f[1],f=a[c]=f[0]),c!==d&&(a[d]=f,delete a[c]),g=n.cssHooks[d],g&&"expand"in g){f=g.expand(f),delete a[d];for(c in f)c in a||(a[c]=f[c],b[c]=e)}else b[d]=e}function Xb(a,b,c){var d,e,f=0,g=Qb.length,h=n.Deferred().always(function(){delete i.elem}),i=function(){if(e)return!1;for(var b=Lb||Sb(),c=Math.max(0,j.startTime+j.duration-b),d=c/j.duration||0,f=1-d,g=0,i=j.tweens.length;i>g;g++)j.tweens[g].run(f);return h.notifyWith(a,[j,f,c]),1>f&&i?c:(h.resolveWith(a,[j]),!1)},j=h.promise({elem:a,props:n.extend({},b),opts:n.extend(!0,{specialEasing:{}},c),originalProperties:b,originalOptions:c,startTime:Lb||Sb(),duration:c.duration,tweens:[],createTween:function(b,c){var d=n.Tween(a,j.opts,b,c,j.opts.specialEasing[b]||j.opts.easing);return j.tweens.push(d),d},stop:function(b){var c=0,d=b?j.tweens.length:0;if(e)return this;for(e=!0;d>c;c++)j.tweens[c].run(1);return b?h.resolveWith(a,[j,b]):h.rejectWith(a,[j,b]),this}}),k=j.props;for(Wb(k,j.opts.specialEasing);g>f;f++)if(d=Qb[f].call(j,a,k,j.opts))return d;return n.map(k,Ub,j),n.isFunction(j.opts.start)&&j.opts.start.call(a,j),n.fx.timer(n.extend(i,{elem:a,anim:j,queue:j.opts.queue})),j.progress(j.opts.progress).done(j.opts.done,j.opts.complete).fail(j.opts.fail).always(j.opts.always)}n.Animation=n.extend(Xb,{tweener:function(a,b){n.isFunction(a)?(b=a,a=["*"]):a=a.split(" ");for(var c,d=0,e=a.length;e>d;d++)c=a[d],Rb[c]=Rb[c]||[],Rb[c].unshift(b)},prefilter:function(a,b){b?Qb.unshift(a):Qb.push(a)}}),n.speed=function(a,b,c){var d=a&&"object"==typeof a?n.extend({},a):{complete:c||!c&&b||n.isFunction(a)&&a,duration:a,easing:c&&b||b&&!n.isFunction(b)&&b};return d.duration=n.fx.off?0:"number"==typeof d.duration?d.duration:d.duration in n.fx.speeds?n.fx.speeds[d.duration]:n.fx.speeds._default,(null==d.queue||d.queue===!0)&&(d.queue="fx"),d.old=d.complete,d.complete=function(){n.isFunction(d.old)&&d.old.call(this),d.queue&&n.dequeue(this,d.queue)},d},n.fn.extend({fadeTo:function(a,b,c,d){return this.filter(S).css("opacity",0).show().end().animate({opacity:b},a,c,d)},animate:function(a,b,c,d){var e=n.isEmptyObject(a),f=n.speed(b,c,d),g=function(){var b=Xb(this,n.extend({},a),f);(e||L.get(this,"finish"))&&b.stop(!0)};return g.finish=g,e||f.queue===!1?this.each(g):this.queue(f.queue,g)},stop:function(a,b,c){var d=function(a){var b=a.stop;delete a.stop,b(c)};return"string"!=typeof a&&(c=b,b=a,a=void 0),b&&a!==!1&&this.queue(a||"fx",[]),this.each(function(){var b=!0,e=null!=a&&a+"queueHooks",f=n.timers,g=L.get(this);if(e)g[e]&&g[e].stop&&d(g[e]);else for(e in g)g[e]&&g[e].stop&&Pb.test(e)&&d(g[e]);for(e=f.length;e--;)f[e].elem!==this||null!=a&&f[e].queue!==a||(f[e].anim.stop(c),b=!1,f.splice(e,1));(b||!c)&&n.dequeue(this,a)})},finish:function(a){return a!==!1&&(a=a||"fx"),this.each(function(){var b,c=L.get(this),d=c[a+"queue"],e=c[a+"queueHooks"],f=n.timers,g=d?d.length:0;for(c.finish=!0,n.queue(this,a,[]),e&&e.stop&&e.stop.call(this,!0),b=f.length;b--;)f[b].elem===this&&f[b].queue===a&&(f[b].anim.stop(!0),f.splice(b,1));for(b=0;g>b;b++)d[b]&&d[b].finish&&d[b].finish.call(this);delete c.finish})}}),n.each(["toggle","show","hide"],function(a,b){var c=n.fn[b];n.fn[b]=function(a,d,e){return null==a||"boolean"==typeof a?c.apply(this,arguments):this.animate(Tb(b,!0),a,d,e)}}),n.each({slideDown:Tb("show"),slideUp:Tb("hide"),slideToggle:Tb("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(a,b){n.fn[a]=function(a,c,d){return this.animate(b,a,c,d)}}),n.timers=[],n.fx.tick=function(){var a,b=0,c=n.timers;for(Lb=n.now();b<c.length;b++)a=c[b],a()||c[b]!==a||c.splice(b--,1);c.length||n.fx.stop(),Lb=void 0},n.fx.timer=function(a){n.timers.push(a),a()?n.fx.start():n.timers.pop()},n.fx.interval=13,n.fx.start=function(){Mb||(Mb=setInterval(n.fx.tick,n.fx.interval))},n.fx.stop=function(){clearInterval(Mb),Mb=null},n.fx.speeds={slow:600,fast:200,_default:400},n.fn.delay=function(a,b){return a=n.fx?n.fx.speeds[a]||a:a,b=b||"fx",this.queue(b,function(b,c){var d=setTimeout(b,a);c.stop=function(){clearTimeout(d)}})},function(){var a=l.createElement("input"),b=l.createElement("select"),c=b.appendChild(l.createElement("option"));a.type="checkbox",k.checkOn=""!==a.value,k.optSelected=c.selected,b.disabled=!0,k.optDisabled=!c.disabled,a=l.createElement("input"),a.value="t",a.type="radio",k.radioValue="t"===a.value}();var Yb,Zb,$b=n.expr.attrHandle;n.fn.extend({attr:function(a,b){return J(this,n.attr,a,b,arguments.length>1)},removeAttr:function(a){return this.each(function(){n.removeAttr(this,a)})}}),n.extend({attr:function(a,b,c){var d,e,f=a.nodeType;if(a&&3!==f&&8!==f&&2!==f)return typeof a.getAttribute===U?n.prop(a,b,c):(1===f&&n.isXMLDoc(a)||(b=b.toLowerCase(),d=n.attrHooks[b]||(n.expr.match.bool.test(b)?Zb:Yb)),void 0===c?d&&"get"in d&&null!==(e=d.get(a,b))?e:(e=n.find.attr(a,b),null==e?void 0:e):null!==c?d&&"set"in d&&void 0!==(e=d.set(a,c,b))?e:(a.setAttribute(b,c+""),c):void n.removeAttr(a,b))
},removeAttr:function(a,b){var c,d,e=0,f=b&&b.match(E);if(f&&1===a.nodeType)while(c=f[e++])d=n.propFix[c]||c,n.expr.match.bool.test(c)&&(a[d]=!1),a.removeAttribute(c)},attrHooks:{type:{set:function(a,b){if(!k.radioValue&&"radio"===b&&n.nodeName(a,"input")){var c=a.value;return a.setAttribute("type",b),c&&(a.value=c),b}}}}}),Zb={set:function(a,b,c){return b===!1?n.removeAttr(a,c):a.setAttribute(c,c),c}},n.each(n.expr.match.bool.source.match(/\w+/g),function(a,b){var c=$b[b]||n.find.attr;$b[b]=function(a,b,d){var e,f;return d||(f=$b[b],$b[b]=e,e=null!=c(a,b,d)?b.toLowerCase():null,$b[b]=f),e}});var _b=/^(?:input|select|textarea|button)$/i;n.fn.extend({prop:function(a,b){return J(this,n.prop,a,b,arguments.length>1)},removeProp:function(a){return this.each(function(){delete this[n.propFix[a]||a]})}}),n.extend({propFix:{"for":"htmlFor","class":"className"},prop:function(a,b,c){var d,e,f,g=a.nodeType;if(a&&3!==g&&8!==g&&2!==g)return f=1!==g||!n.isXMLDoc(a),f&&(b=n.propFix[b]||b,e=n.propHooks[b]),void 0!==c?e&&"set"in e&&void 0!==(d=e.set(a,c,b))?d:a[b]=c:e&&"get"in e&&null!==(d=e.get(a,b))?d:a[b]},propHooks:{tabIndex:{get:function(a){return a.hasAttribute("tabindex")||_b.test(a.nodeName)||a.href?a.tabIndex:-1}}}}),k.optSelected||(n.propHooks.selected={get:function(a){var b=a.parentNode;return b&&b.parentNode&&b.parentNode.selectedIndex,null}}),n.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){n.propFix[this.toLowerCase()]=this});var ac=/[\t\r\n\f]/g;n.fn.extend({addClass:function(a){var b,c,d,e,f,g,h="string"==typeof a&&a,i=0,j=this.length;if(n.isFunction(a))return this.each(function(b){n(this).addClass(a.call(this,b,this.className))});if(h)for(b=(a||"").match(E)||[];j>i;i++)if(c=this[i],d=1===c.nodeType&&(c.className?(" "+c.className+" ").replace(ac," "):" ")){f=0;while(e=b[f++])d.indexOf(" "+e+" ")<0&&(d+=e+" ");g=n.trim(d),c.className!==g&&(c.className=g)}return this},removeClass:function(a){var b,c,d,e,f,g,h=0===arguments.length||"string"==typeof a&&a,i=0,j=this.length;if(n.isFunction(a))return this.each(function(b){n(this).removeClass(a.call(this,b,this.className))});if(h)for(b=(a||"").match(E)||[];j>i;i++)if(c=this[i],d=1===c.nodeType&&(c.className?(" "+c.className+" ").replace(ac," "):"")){f=0;while(e=b[f++])while(d.indexOf(" "+e+" ")>=0)d=d.replace(" "+e+" "," ");g=a?n.trim(d):"",c.className!==g&&(c.className=g)}return this},toggleClass:function(a,b){var c=typeof a;return"boolean"==typeof b&&"string"===c?b?this.addClass(a):this.removeClass(a):this.each(n.isFunction(a)?function(c){n(this).toggleClass(a.call(this,c,this.className,b),b)}:function(){if("string"===c){var b,d=0,e=n(this),f=a.match(E)||[];while(b=f[d++])e.hasClass(b)?e.removeClass(b):e.addClass(b)}else(c===U||"boolean"===c)&&(this.className&&L.set(this,"__className__",this.className),this.className=this.className||a===!1?"":L.get(this,"__className__")||"")})},hasClass:function(a){for(var b=" "+a+" ",c=0,d=this.length;d>c;c++)if(1===this[c].nodeType&&(" "+this[c].className+" ").replace(ac," ").indexOf(b)>=0)return!0;return!1}});var bc=/\r/g;n.fn.extend({val:function(a){var b,c,d,e=this[0];{if(arguments.length)return d=n.isFunction(a),this.each(function(c){var e;1===this.nodeType&&(e=d?a.call(this,c,n(this).val()):a,null==e?e="":"number"==typeof e?e+="":n.isArray(e)&&(e=n.map(e,function(a){return null==a?"":a+""})),b=n.valHooks[this.type]||n.valHooks[this.nodeName.toLowerCase()],b&&"set"in b&&void 0!==b.set(this,e,"value")||(this.value=e))});if(e)return b=n.valHooks[e.type]||n.valHooks[e.nodeName.toLowerCase()],b&&"get"in b&&void 0!==(c=b.get(e,"value"))?c:(c=e.value,"string"==typeof c?c.replace(bc,""):null==c?"":c)}}}),n.extend({valHooks:{option:{get:function(a){var b=n.find.attr(a,"value");return null!=b?b:n.trim(n.text(a))}},select:{get:function(a){for(var b,c,d=a.options,e=a.selectedIndex,f="select-one"===a.type||0>e,g=f?null:[],h=f?e+1:d.length,i=0>e?h:f?e:0;h>i;i++)if(c=d[i],!(!c.selected&&i!==e||(k.optDisabled?c.disabled:null!==c.getAttribute("disabled"))||c.parentNode.disabled&&n.nodeName(c.parentNode,"optgroup"))){if(b=n(c).val(),f)return b;g.push(b)}return g},set:function(a,b){var c,d,e=a.options,f=n.makeArray(b),g=e.length;while(g--)d=e[g],(d.selected=n.inArray(d.value,f)>=0)&&(c=!0);return c||(a.selectedIndex=-1),f}}}}),n.each(["radio","checkbox"],function(){n.valHooks[this]={set:function(a,b){return n.isArray(b)?a.checked=n.inArray(n(a).val(),b)>=0:void 0}},k.checkOn||(n.valHooks[this].get=function(a){return null===a.getAttribute("value")?"on":a.value})}),n.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu".split(" "),function(a,b){n.fn[b]=function(a,c){return arguments.length>0?this.on(b,null,a,c):this.trigger(b)}}),n.fn.extend({hover:function(a,b){return this.mouseenter(a).mouseleave(b||a)},bind:function(a,b,c){return this.on(a,null,b,c)},unbind:function(a,b){return this.off(a,null,b)},delegate:function(a,b,c,d){return this.on(b,a,c,d)},undelegate:function(a,b,c){return 1===arguments.length?this.off(a,"**"):this.off(b,a||"**",c)}});var cc=n.now(),dc=/\?/;n.parseJSON=function(a){return JSON.parse(a+"")},n.parseXML=function(a){var b,c;if(!a||"string"!=typeof a)return null;try{c=new DOMParser,b=c.parseFromString(a,"text/xml")}catch(d){b=void 0}return(!b||b.getElementsByTagName("parsererror").length)&&n.error("Invalid XML: "+a),b};var ec,fc,gc=/#.*$/,hc=/([?&])_=[^&]*/,ic=/^(.*?):[ \t]*([^\r\n]*)$/gm,jc=/^(?:about|app|app-storage|.+-extension|file|res|widget):$/,kc=/^(?:GET|HEAD)$/,lc=/^\/\//,mc=/^([\w.+-]+:)(?:\/\/(?:[^\/?#]*@|)([^\/?#:]*)(?::(\d+)|)|)/,nc={},oc={},pc="*/".concat("*");try{fc=location.href}catch(qc){fc=l.createElement("a"),fc.href="",fc=fc.href}ec=mc.exec(fc.toLowerCase())||[];function rc(a){return function(b,c){"string"!=typeof b&&(c=b,b="*");var d,e=0,f=b.toLowerCase().match(E)||[];if(n.isFunction(c))while(d=f[e++])"+"===d[0]?(d=d.slice(1)||"*",(a[d]=a[d]||[]).unshift(c)):(a[d]=a[d]||[]).push(c)}}function sc(a,b,c,d){var e={},f=a===oc;function g(h){var i;return e[h]=!0,n.each(a[h]||[],function(a,h){var j=h(b,c,d);return"string"!=typeof j||f||e[j]?f?!(i=j):void 0:(b.dataTypes.unshift(j),g(j),!1)}),i}return g(b.dataTypes[0])||!e["*"]&&g("*")}function tc(a,b){var c,d,e=n.ajaxSettings.flatOptions||{};for(c in b)void 0!==b[c]&&((e[c]?a:d||(d={}))[c]=b[c]);return d&&n.extend(!0,a,d),a}function uc(a,b,c){var d,e,f,g,h=a.contents,i=a.dataTypes;while("*"===i[0])i.shift(),void 0===d&&(d=a.mimeType||b.getResponseHeader("Content-Type"));if(d)for(e in h)if(h[e]&&h[e].test(d)){i.unshift(e);break}if(i[0]in c)f=i[0];else{for(e in c){if(!i[0]||a.converters[e+" "+i[0]]){f=e;break}g||(g=e)}f=f||g}return f?(f!==i[0]&&i.unshift(f),c[f]):void 0}function vc(a,b,c,d){var e,f,g,h,i,j={},k=a.dataTypes.slice();if(k[1])for(g in a.converters)j[g.toLowerCase()]=a.converters[g];f=k.shift();while(f)if(a.responseFields[f]&&(c[a.responseFields[f]]=b),!i&&d&&a.dataFilter&&(b=a.dataFilter(b,a.dataType)),i=f,f=k.shift())if("*"===f)f=i;else if("*"!==i&&i!==f){if(g=j[i+" "+f]||j["* "+f],!g)for(e in j)if(h=e.split(" "),h[1]===f&&(g=j[i+" "+h[0]]||j["* "+h[0]])){g===!0?g=j[e]:j[e]!==!0&&(f=h[0],k.unshift(h[1]));break}if(g!==!0)if(g&&a["throws"])b=g(b);else try{b=g(b)}catch(l){return{state:"parsererror",error:g?l:"No conversion from "+i+" to "+f}}}return{state:"success",data:b}}n.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:fc,type:"GET",isLocal:jc.test(ec[1]),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":pc,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/xml/,html:/html/,json:/json/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":n.parseJSON,"text xml":n.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(a,b){return b?tc(tc(a,n.ajaxSettings),b):tc(n.ajaxSettings,a)},ajaxPrefilter:rc(nc),ajaxTransport:rc(oc),ajax:function(a,b){"object"==typeof a&&(b=a,a=void 0),b=b||{};var c,d,e,f,g,h,i,j,k=n.ajaxSetup({},b),l=k.context||k,m=k.context&&(l.nodeType||l.jquery)?n(l):n.event,o=n.Deferred(),p=n.Callbacks("once memory"),q=k.statusCode||{},r={},s={},t=0,u="canceled",v={readyState:0,getResponseHeader:function(a){var b;if(2===t){if(!f){f={};while(b=ic.exec(e))f[b[1].toLowerCase()]=b[2]}b=f[a.toLowerCase()]}return null==b?null:b},getAllResponseHeaders:function(){return 2===t?e:null},setRequestHeader:function(a,b){var c=a.toLowerCase();return t||(a=s[c]=s[c]||a,r[a]=b),this},overrideMimeType:function(a){return t||(k.mimeType=a),this},statusCode:function(a){var b;if(a)if(2>t)for(b in a)q[b]=[q[b],a[b]];else v.always(a[v.status]);return this},abort:function(a){var b=a||u;return c&&c.abort(b),x(0,b),this}};if(o.promise(v).complete=p.add,v.success=v.done,v.error=v.fail,k.url=((a||k.url||fc)+"").replace(gc,"").replace(lc,ec[1]+"//"),k.type=b.method||b.type||k.method||k.type,k.dataTypes=n.trim(k.dataType||"*").toLowerCase().match(E)||[""],null==k.crossDomain&&(h=mc.exec(k.url.toLowerCase()),k.crossDomain=!(!h||h[1]===ec[1]&&h[2]===ec[2]&&(h[3]||("http:"===h[1]?"80":"443"))===(ec[3]||("http:"===ec[1]?"80":"443")))),k.data&&k.processData&&"string"!=typeof k.data&&(k.data=n.param(k.data,k.traditional)),sc(nc,k,b,v),2===t)return v;i=k.global,i&&0===n.active++&&n.event.trigger("ajaxStart"),k.type=k.type.toUpperCase(),k.hasContent=!kc.test(k.type),d=k.url,k.hasContent||(k.data&&(d=k.url+=(dc.test(d)?"&":"?")+k.data,delete k.data),k.cache===!1&&(k.url=hc.test(d)?d.replace(hc,"$1_="+cc++):d+(dc.test(d)?"&":"?")+"_="+cc++)),k.ifModified&&(n.lastModified[d]&&v.setRequestHeader("If-Modified-Since",n.lastModified[d]),n.etag[d]&&v.setRequestHeader("If-None-Match",n.etag[d])),(k.data&&k.hasContent&&k.contentType!==!1||b.contentType)&&v.setRequestHeader("Content-Type",k.contentType),v.setRequestHeader("Accept",k.dataTypes[0]&&k.accepts[k.dataTypes[0]]?k.accepts[k.dataTypes[0]]+("*"!==k.dataTypes[0]?", "+pc+"; q=0.01":""):k.accepts["*"]);for(j in k.headers)v.setRequestHeader(j,k.headers[j]);if(k.beforeSend&&(k.beforeSend.call(l,v,k)===!1||2===t))return v.abort();u="abort";for(j in{success:1,error:1,complete:1})v[j](k[j]);if(c=sc(oc,k,b,v)){v.readyState=1,i&&m.trigger("ajaxSend",[v,k]),k.async&&k.timeout>0&&(g=setTimeout(function(){v.abort("timeout")},k.timeout));try{t=1,c.send(r,x)}catch(w){if(!(2>t))throw w;x(-1,w)}}else x(-1,"No Transport");function x(a,b,f,h){var j,r,s,u,w,x=b;2!==t&&(t=2,g&&clearTimeout(g),c=void 0,e=h||"",v.readyState=a>0?4:0,j=a>=200&&300>a||304===a,f&&(u=uc(k,v,f)),u=vc(k,u,v,j),j?(k.ifModified&&(w=v.getResponseHeader("Last-Modified"),w&&(n.lastModified[d]=w),w=v.getResponseHeader("etag"),w&&(n.etag[d]=w)),204===a||"HEAD"===k.type?x="nocontent":304===a?x="notmodified":(x=u.state,r=u.data,s=u.error,j=!s)):(s=x,(a||!x)&&(x="error",0>a&&(a=0))),v.status=a,v.statusText=(b||x)+"",j?o.resolveWith(l,[r,x,v]):o.rejectWith(l,[v,x,s]),v.statusCode(q),q=void 0,i&&m.trigger(j?"ajaxSuccess":"ajaxError",[v,k,j?r:s]),p.fireWith(l,[v,x]),i&&(m.trigger("ajaxComplete",[v,k]),--n.active||n.event.trigger("ajaxStop")))}return v},getJSON:function(a,b,c){return n.get(a,b,c,"json")},getScript:function(a,b){return n.get(a,void 0,b,"script")}}),n.each(["get","post"],function(a,b){n[b]=function(a,c,d,e){return n.isFunction(c)&&(e=e||d,d=c,c=void 0),n.ajax({url:a,type:b,dataType:e,data:c,success:d})}}),n.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(a,b){n.fn[b]=function(a){return this.on(b,a)}}),n._evalUrl=function(a){return n.ajax({url:a,type:"GET",dataType:"script",async:!1,global:!1,"throws":!0})},n.fn.extend({wrapAll:function(a){var b;return n.isFunction(a)?this.each(function(b){n(this).wrapAll(a.call(this,b))}):(this[0]&&(b=n(a,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&b.insertBefore(this[0]),b.map(function(){var a=this;while(a.firstElementChild)a=a.firstElementChild;return a}).append(this)),this)},wrapInner:function(a){return this.each(n.isFunction(a)?function(b){n(this).wrapInner(a.call(this,b))}:function(){var b=n(this),c=b.contents();c.length?c.wrapAll(a):b.append(a)})},wrap:function(a){var b=n.isFunction(a);return this.each(function(c){n(this).wrapAll(b?a.call(this,c):a)})},unwrap:function(){return this.parent().each(function(){n.nodeName(this,"body")||n(this).replaceWith(this.childNodes)}).end()}}),n.expr.filters.hidden=function(a){return a.offsetWidth<=0&&a.offsetHeight<=0},n.expr.filters.visible=function(a){return!n.expr.filters.hidden(a)};var wc=/%20/g,xc=/\[\]$/,yc=/\r?\n/g,zc=/^(?:submit|button|image|reset|file)$/i,Ac=/^(?:input|select|textarea|keygen)/i;function Bc(a,b,c,d){var e;if(n.isArray(b))n.each(b,function(b,e){c||xc.test(a)?d(a,e):Bc(a+"["+("object"==typeof e?b:"")+"]",e,c,d)});else if(c||"object"!==n.type(b))d(a,b);else for(e in b)Bc(a+"["+e+"]",b[e],c,d)}n.param=function(a,b){var c,d=[],e=function(a,b){b=n.isFunction(b)?b():null==b?"":b,d[d.length]=encodeURIComponent(a)+"="+encodeURIComponent(b)};if(void 0===b&&(b=n.ajaxSettings&&n.ajaxSettings.traditional),n.isArray(a)||a.jquery&&!n.isPlainObject(a))n.each(a,function(){e(this.name,this.value)});else for(c in a)Bc(c,a[c],b,e);return d.join("&").replace(wc,"+")},n.fn.extend({serialize:function(){return n.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var a=n.prop(this,"elements");return a?n.makeArray(a):this}).filter(function(){var a=this.type;return this.name&&!n(this).is(":disabled")&&Ac.test(this.nodeName)&&!zc.test(a)&&(this.checked||!T.test(a))}).map(function(a,b){var c=n(this).val();return null==c?null:n.isArray(c)?n.map(c,function(a){return{name:b.name,value:a.replace(yc,"\r\n")}}):{name:b.name,value:c.replace(yc,"\r\n")}}).get()}}),n.ajaxSettings.xhr=function(){try{return new XMLHttpRequest}catch(a){}};var Cc=0,Dc={},Ec={0:200,1223:204},Fc=n.ajaxSettings.xhr();a.ActiveXObject&&n(a).on("unload",function(){for(var a in Dc)Dc[a]()}),k.cors=!!Fc&&"withCredentials"in Fc,k.ajax=Fc=!!Fc,n.ajaxTransport(function(a){var b;return k.cors||Fc&&!a.crossDomain?{send:function(c,d){var e,f=a.xhr(),g=++Cc;if(f.open(a.type,a.url,a.async,a.username,a.password),a.xhrFields)for(e in a.xhrFields)f[e]=a.xhrFields[e];a.mimeType&&f.overrideMimeType&&f.overrideMimeType(a.mimeType),a.crossDomain||c["X-Requested-With"]||(c["X-Requested-With"]="XMLHttpRequest");for(e in c)f.setRequestHeader(e,c[e]);b=function(a){return function(){b&&(delete Dc[g],b=f.onload=f.onerror=null,"abort"===a?f.abort():"error"===a?d(f.status,f.statusText):d(Ec[f.status]||f.status,f.statusText,"string"==typeof f.responseText?{text:f.responseText}:void 0,f.getAllResponseHeaders()))}},f.onload=b(),f.onerror=b("error"),b=Dc[g]=b("abort");try{f.send(a.hasContent&&a.data||null)}catch(h){if(b)throw h}},abort:function(){b&&b()}}:void 0}),n.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/(?:java|ecma)script/},converters:{"text script":function(a){return n.globalEval(a),a}}}),n.ajaxPrefilter("script",function(a){void 0===a.cache&&(a.cache=!1),a.crossDomain&&(a.type="GET")}),n.ajaxTransport("script",function(a){if(a.crossDomain){var b,c;return{send:function(d,e){b=n("<script>").prop({async:!0,charset:a.scriptCharset,src:a.url}).on("load error",c=function(a){b.remove(),c=null,a&&e("error"===a.type?404:200,a.type)}),l.head.appendChild(b[0])},abort:function(){c&&c()}}}});var Gc=[],Hc=/(=)\?(?=&|$)|\?\?/;n.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var a=Gc.pop()||n.expando+"_"+cc++;return this[a]=!0,a}}),n.ajaxPrefilter("json jsonp",function(b,c,d){var e,f,g,h=b.jsonp!==!1&&(Hc.test(b.url)?"url":"string"==typeof b.data&&!(b.contentType||"").indexOf("application/x-www-form-urlencoded")&&Hc.test(b.data)&&"data");return h||"jsonp"===b.dataTypes[0]?(e=b.jsonpCallback=n.isFunction(b.jsonpCallback)?b.jsonpCallback():b.jsonpCallback,h?b[h]=b[h].replace(Hc,"$1"+e):b.jsonp!==!1&&(b.url+=(dc.test(b.url)?"&":"?")+b.jsonp+"="+e),b.converters["script json"]=function(){return g||n.error(e+" was not called"),g[0]},b.dataTypes[0]="json",f=a[e],a[e]=function(){g=arguments},d.always(function(){a[e]=f,b[e]&&(b.jsonpCallback=c.jsonpCallback,Gc.push(e)),g&&n.isFunction(f)&&f(g[0]),g=f=void 0}),"script"):void 0}),n.parseHTML=function(a,b,c){if(!a||"string"!=typeof a)return null;"boolean"==typeof b&&(c=b,b=!1),b=b||l;var d=v.exec(a),e=!c&&[];return d?[b.createElement(d[1])]:(d=n.buildFragment([a],b,e),e&&e.length&&n(e).remove(),n.merge([],d.childNodes))};var Ic=n.fn.load;n.fn.load=function(a,b,c){if("string"!=typeof a&&Ic)return Ic.apply(this,arguments);var d,e,f,g=this,h=a.indexOf(" ");return h>=0&&(d=n.trim(a.slice(h)),a=a.slice(0,h)),n.isFunction(b)?(c=b,b=void 0):b&&"object"==typeof b&&(e="POST"),g.length>0&&n.ajax({url:a,type:e,dataType:"html",data:b}).done(function(a){f=arguments,g.html(d?n("<div>").append(n.parseHTML(a)).find(d):a)}).complete(c&&function(a,b){g.each(c,f||[a.responseText,b,a])}),this},n.expr.filters.animated=function(a){return n.grep(n.timers,function(b){return a===b.elem}).length};var Jc=a.document.documentElement;function Kc(a){return n.isWindow(a)?a:9===a.nodeType&&a.defaultView}n.offset={setOffset:function(a,b,c){var d,e,f,g,h,i,j,k=n.css(a,"position"),l=n(a),m={};"static"===k&&(a.style.position="relative"),h=l.offset(),f=n.css(a,"top"),i=n.css(a,"left"),j=("absolute"===k||"fixed"===k)&&(f+i).indexOf("auto")>-1,j?(d=l.position(),g=d.top,e=d.left):(g=parseFloat(f)||0,e=parseFloat(i)||0),n.isFunction(b)&&(b=b.call(a,c,h)),null!=b.top&&(m.top=b.top-h.top+g),null!=b.left&&(m.left=b.left-h.left+e),"using"in b?b.using.call(a,m):l.css(m)}},n.fn.extend({offset:function(a){if(arguments.length)return void 0===a?this:this.each(function(b){n.offset.setOffset(this,a,b)});var b,c,d=this[0],e={top:0,left:0},f=d&&d.ownerDocument;if(f)return b=f.documentElement,n.contains(b,d)?(typeof d.getBoundingClientRect!==U&&(e=d.getBoundingClientRect()),c=Kc(f),{top:e.top+c.pageYOffset-b.clientTop,left:e.left+c.pageXOffset-b.clientLeft}):e},position:function(){if(this[0]){var a,b,c=this[0],d={top:0,left:0};return"fixed"===n.css(c,"position")?b=c.getBoundingClientRect():(a=this.offsetParent(),b=this.offset(),n.nodeName(a[0],"html")||(d=a.offset()),d.top+=n.css(a[0],"borderTopWidth",!0),d.left+=n.css(a[0],"borderLeftWidth",!0)),{top:b.top-d.top-n.css(c,"marginTop",!0),left:b.left-d.left-n.css(c,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){var a=this.offsetParent||Jc;while(a&&!n.nodeName(a,"html")&&"static"===n.css(a,"position"))a=a.offsetParent;return a||Jc})}}),n.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(b,c){var d="pageYOffset"===c;n.fn[b]=function(e){return J(this,function(b,e,f){var g=Kc(b);return void 0===f?g?g[c]:b[e]:void(g?g.scrollTo(d?a.pageXOffset:f,d?f:a.pageYOffset):b[e]=f)},b,e,arguments.length,null)}}),n.each(["top","left"],function(a,b){n.cssHooks[b]=yb(k.pixelPosition,function(a,c){return c?(c=xb(a,b),vb.test(c)?n(a).position()[b]+"px":c):void 0})}),n.each({Height:"height",Width:"width"},function(a,b){n.each({padding:"inner"+a,content:b,"":"outer"+a},function(c,d){n.fn[d]=function(d,e){var f=arguments.length&&(c||"boolean"!=typeof d),g=c||(d===!0||e===!0?"margin":"border");return J(this,function(b,c,d){var e;return n.isWindow(b)?b.document.documentElement["client"+a]:9===b.nodeType?(e=b.documentElement,Math.max(b.body["scroll"+a],e["scroll"+a],b.body["offset"+a],e["offset"+a],e["client"+a])):void 0===d?n.css(b,c,g):n.style(b,c,d,g)},b,f?d:void 0,f,null)}})}),n.fn.size=function(){return this.length},n.fn.andSelf=n.fn.addBack,"function"==typeof define&&define.amd&&define("jquery",[],function(){return n});var Lc=a.jQuery,Mc=a.$;return n.noConflict=function(b){return a.$===n&&(a.$=Mc),b&&a.jQuery===n&&(a.jQuery=Lc),n},typeof b===U&&(a.jQuery=a.$=n),n});
/*! jQuery UI - v1.11.3 - 2015-02-26
* http://jqueryui.com
* Includes: core.js, widget.js, button.js, spinner.js
* Copyright 2015 jQuery Foundation and other contributors;
* MIT license.
* */
(function(e){"function"==typeof define&&define.amd?define(["jquery"],e):e(jQuery)})(function(e){function t(t,s){var n,a,o,r=t.nodeName.toLowerCase();return"area"===r?(n=t.parentNode,a=n.name,t.href&&a&&"map"===n.nodeName.toLowerCase()?(o=e("img[usemap='#"+a+"']")[0],!!o&&i(o)):!1):(/^(input|select|textarea|button|object)$/.test(r)?!t.disabled:"a"===r?t.href||s:s)&&i(t)}function i(t){return e.expr.filters.visible(t)&&!e(t).parents().addBack().filter(function(){return"hidden"===e.css(this,"visibility")}).length}function s(e){return function(){var t=this.element.val();e.apply(this,arguments),this._refresh(),t!==this.element.val()&&this._trigger("change")}}e.ui=e.ui||{},e.extend(e.ui,{version:"1.11.3",keyCode:{BACKSPACE:8,COMMA:188,DELETE:46,DOWN:40,END:35,ENTER:13,ESCAPE:27,HOME:36,LEFT:37,PAGE_DOWN:34,PAGE_UP:33,PERIOD:190,RIGHT:39,SPACE:32,TAB:9,UP:38}}),e.fn.extend({scrollParent:function(t){var i=this.css("position"),s="absolute"===i,n=t?/(auto|scroll|hidden)/:/(auto|scroll)/,a=this.parents().filter(function(){var t=e(this);return s&&"static"===t.css("position")?!1:n.test(t.css("overflow")+t.css("overflow-y")+t.css("overflow-x"))}).eq(0);return"fixed"!==i&&a.length?a:e(this[0].ownerDocument||document)},uniqueId:function(){var e=0;return function(){return this.each(function(){this.id||(this.id="ui-id-"+ ++e)})}}(),removeUniqueId:function(){return this.each(function(){/^ui-id-\d+$/.test(this.id)&&e(this).removeAttr("id")})}}),e.extend(e.expr[":"],{data:e.expr.createPseudo?e.expr.createPseudo(function(t){return function(i){return!!e.data(i,t)}}):function(t,i,s){return!!e.data(t,s[3])},focusable:function(i){return t(i,!isNaN(e.attr(i,"tabindex")))},tabbable:function(i){var s=e.attr(i,"tabindex"),n=isNaN(s);return(n||s>=0)&&t(i,!n)}}),e("<a>").outerWidth(1).jquery||e.each(["Width","Height"],function(t,i){function s(t,i,s,a){return e.each(n,function(){i-=parseFloat(e.css(t,"padding"+this))||0,s&&(i-=parseFloat(e.css(t,"border"+this+"Width"))||0),a&&(i-=parseFloat(e.css(t,"margin"+this))||0)}),i}var n="Width"===i?["Left","Right"]:["Top","Bottom"],a=i.toLowerCase(),o={innerWidth:e.fn.innerWidth,innerHeight:e.fn.innerHeight,outerWidth:e.fn.outerWidth,outerHeight:e.fn.outerHeight};e.fn["inner"+i]=function(t){return void 0===t?o["inner"+i].call(this):this.each(function(){e(this).css(a,s(this,t)+"px")})},e.fn["outer"+i]=function(t,n){return"number"!=typeof t?o["outer"+i].call(this,t):this.each(function(){e(this).css(a,s(this,t,!0,n)+"px")})}}),e.fn.addBack||(e.fn.addBack=function(e){return this.add(null==e?this.prevObject:this.prevObject.filter(e))}),e("<a>").data("a-b","a").removeData("a-b").data("a-b")&&(e.fn.removeData=function(t){return function(i){return arguments.length?t.call(this,e.camelCase(i)):t.call(this)}}(e.fn.removeData)),e.ui.ie=!!/msie [\w.]+/.exec(navigator.userAgent.toLowerCase()),e.fn.extend({focus:function(t){return function(i,s){return"number"==typeof i?this.each(function(){var t=this;setTimeout(function(){e(t).focus(),s&&s.call(t)},i)}):t.apply(this,arguments)}}(e.fn.focus),disableSelection:function(){var e="onselectstart"in document.createElement("div")?"selectstart":"mousedown";return function(){return this.bind(e+".ui-disableSelection",function(e){e.preventDefault()})}}(),enableSelection:function(){return this.unbind(".ui-disableSelection")},zIndex:function(t){if(void 0!==t)return this.css("zIndex",t);if(this.length)for(var i,s,n=e(this[0]);n.length&&n[0]!==document;){if(i=n.css("position"),("absolute"===i||"relative"===i||"fixed"===i)&&(s=parseInt(n.css("zIndex"),10),!isNaN(s)&&0!==s))return s;n=n.parent()}return 0}}),e.ui.plugin={add:function(t,i,s){var n,a=e.ui[t].prototype;for(n in s)a.plugins[n]=a.plugins[n]||[],a.plugins[n].push([i,s[n]])},call:function(e,t,i,s){var n,a=e.plugins[t];if(a&&(s||e.element[0].parentNode&&11!==e.element[0].parentNode.nodeType))for(n=0;a.length>n;n++)e.options[a[n][0]]&&a[n][1].apply(e.element,i)}};var n=0,a=Array.prototype.slice;e.cleanData=function(t){return function(i){var s,n,a;for(a=0;null!=(n=i[a]);a++)try{s=e._data(n,"events"),s&&s.remove&&e(n).triggerHandler("remove")}catch(o){}t(i)}}(e.cleanData),e.widget=function(t,i,s){var n,a,o,r,h={},l=t.split(".")[0];return t=t.split(".")[1],n=l+"-"+t,s||(s=i,i=e.Widget),e.expr[":"][n.toLowerCase()]=function(t){return!!e.data(t,n)},e[l]=e[l]||{},a=e[l][t],o=e[l][t]=function(e,t){return this._createWidget?(arguments.length&&this._createWidget(e,t),void 0):new o(e,t)},e.extend(o,a,{version:s.version,_proto:e.extend({},s),_childConstructors:[]}),r=new i,r.options=e.widget.extend({},r.options),e.each(s,function(t,s){return e.isFunction(s)?(h[t]=function(){var e=function(){return i.prototype[t].apply(this,arguments)},n=function(e){return i.prototype[t].apply(this,e)};return function(){var t,i=this._super,a=this._superApply;return this._super=e,this._superApply=n,t=s.apply(this,arguments),this._super=i,this._superApply=a,t}}(),void 0):(h[t]=s,void 0)}),o.prototype=e.widget.extend(r,{widgetEventPrefix:a?r.widgetEventPrefix||t:t},h,{constructor:o,namespace:l,widgetName:t,widgetFullName:n}),a?(e.each(a._childConstructors,function(t,i){var s=i.prototype;e.widget(s.namespace+"."+s.widgetName,o,i._proto)}),delete a._childConstructors):i._childConstructors.push(o),e.widget.bridge(t,o),o},e.widget.extend=function(t){for(var i,s,n=a.call(arguments,1),o=0,r=n.length;r>o;o++)for(i in n[o])s=n[o][i],n[o].hasOwnProperty(i)&&void 0!==s&&(t[i]=e.isPlainObject(s)?e.isPlainObject(t[i])?e.widget.extend({},t[i],s):e.widget.extend({},s):s);return t},e.widget.bridge=function(t,i){var s=i.prototype.widgetFullName||t;e.fn[t]=function(n){var o="string"==typeof n,r=a.call(arguments,1),h=this;return o?this.each(function(){var i,a=e.data(this,s);return"instance"===n?(h=a,!1):a?e.isFunction(a[n])&&"_"!==n.charAt(0)?(i=a[n].apply(a,r),i!==a&&void 0!==i?(h=i&&i.jquery?h.pushStack(i.get()):i,!1):void 0):e.error("no such method '"+n+"' for "+t+" widget instance"):e.error("cannot call methods on "+t+" prior to initialization; "+"attempted to call method '"+n+"'")}):(r.length&&(n=e.widget.extend.apply(null,[n].concat(r))),this.each(function(){var t=e.data(this,s);t?(t.option(n||{}),t._init&&t._init()):e.data(this,s,new i(n,this))})),h}},e.Widget=function(){},e.Widget._childConstructors=[],e.Widget.prototype={widgetName:"widget",widgetEventPrefix:"",defaultElement:"<div>",options:{disabled:!1,create:null},_createWidget:function(t,i){i=e(i||this.defaultElement||this)[0],this.element=e(i),this.uuid=n++,this.eventNamespace="."+this.widgetName+this.uuid,this.bindings=e(),this.hoverable=e(),this.focusable=e(),i!==this&&(e.data(i,this.widgetFullName,this),this._on(!0,this.element,{remove:function(e){e.target===i&&this.destroy()}}),this.document=e(i.style?i.ownerDocument:i.document||i),this.window=e(this.document[0].defaultView||this.document[0].parentWindow)),this.options=e.widget.extend({},this.options,this._getCreateOptions(),t),this._create(),this._trigger("create",null,this._getCreateEventData()),this._init()},_getCreateOptions:e.noop,_getCreateEventData:e.noop,_create:e.noop,_init:e.noop,destroy:function(){this._destroy(),this.element.unbind(this.eventNamespace).removeData(this.widgetFullName).removeData(e.camelCase(this.widgetFullName)),this.widget().unbind(this.eventNamespace).removeAttr("aria-disabled").removeClass(this.widgetFullName+"-disabled "+"ui-state-disabled"),this.bindings.unbind(this.eventNamespace),this.hoverable.removeClass("ui-state-hover"),this.focusable.removeClass("ui-state-focus")},_destroy:e.noop,widget:function(){return this.element},option:function(t,i){var s,n,a,o=t;if(0===arguments.length)return e.widget.extend({},this.options);if("string"==typeof t)if(o={},s=t.split("."),t=s.shift(),s.length){for(n=o[t]=e.widget.extend({},this.options[t]),a=0;s.length-1>a;a++)n[s[a]]=n[s[a]]||{},n=n[s[a]];if(t=s.pop(),1===arguments.length)return void 0===n[t]?null:n[t];n[t]=i}else{if(1===arguments.length)return void 0===this.options[t]?null:this.options[t];o[t]=i}return this._setOptions(o),this},_setOptions:function(e){var t;for(t in e)this._setOption(t,e[t]);return this},_setOption:function(e,t){return this.options[e]=t,"disabled"===e&&(this.widget().toggleClass(this.widgetFullName+"-disabled",!!t),t&&(this.hoverable.removeClass("ui-state-hover"),this.focusable.removeClass("ui-state-focus"))),this},enable:function(){return this._setOptions({disabled:!1})},disable:function(){return this._setOptions({disabled:!0})},_on:function(t,i,s){var n,a=this;"boolean"!=typeof t&&(s=i,i=t,t=!1),s?(i=n=e(i),this.bindings=this.bindings.add(i)):(s=i,i=this.element,n=this.widget()),e.each(s,function(s,o){function r(){return t||a.options.disabled!==!0&&!e(this).hasClass("ui-state-disabled")?("string"==typeof o?a[o]:o).apply(a,arguments):void 0}"string"!=typeof o&&(r.guid=o.guid=o.guid||r.guid||e.guid++);var h=s.match(/^([\w:-]*)\s*(.*)$/),l=h[1]+a.eventNamespace,u=h[2];u?n.delegate(u,l,r):i.bind(l,r)})},_off:function(t,i){i=(i||"").split(" ").join(this.eventNamespace+" ")+this.eventNamespace,t.unbind(i).undelegate(i),this.bindings=e(this.bindings.not(t).get()),this.focusable=e(this.focusable.not(t).get()),this.hoverable=e(this.hoverable.not(t).get())},_delay:function(e,t){function i(){return("string"==typeof e?s[e]:e).apply(s,arguments)}var s=this;return setTimeout(i,t||0)},_hoverable:function(t){this.hoverable=this.hoverable.add(t),this._on(t,{mouseenter:function(t){e(t.currentTarget).addClass("ui-state-hover")},mouseleave:function(t){e(t.currentTarget).removeClass("ui-state-hover")}})},_focusable:function(t){this.focusable=this.focusable.add(t),this._on(t,{focusin:function(t){e(t.currentTarget).addClass("ui-state-focus")},focusout:function(t){e(t.currentTarget).removeClass("ui-state-focus")}})},_trigger:function(t,i,s){var n,a,o=this.options[t];if(s=s||{},i=e.Event(i),i.type=(t===this.widgetEventPrefix?t:this.widgetEventPrefix+t).toLowerCase(),i.target=this.element[0],a=i.originalEvent)for(n in a)n in i||(i[n]=a[n]);return this.element.trigger(i,s),!(e.isFunction(o)&&o.apply(this.element[0],[i].concat(s))===!1||i.isDefaultPrevented())}},e.each({show:"fadeIn",hide:"fadeOut"},function(t,i){e.Widget.prototype["_"+t]=function(s,n,a){"string"==typeof n&&(n={effect:n});var o,r=n?n===!0||"number"==typeof n?i:n.effect||i:t;n=n||{},"number"==typeof n&&(n={duration:n}),o=!e.isEmptyObject(n),n.complete=a,n.delay&&s.delay(n.delay),o&&e.effects&&e.effects.effect[r]?s[t](n):r!==t&&s[r]?s[r](n.duration,n.easing,a):s.queue(function(i){e(this)[t](),a&&a.call(s[0]),i()})}}),e.widget;var o,r="ui-button ui-widget ui-state-default ui-corner-all",h="ui-button-icons-only ui-button-icon-only ui-button-text-icons ui-button-text-icon-primary ui-button-text-icon-secondary ui-button-text-only",l=function(){var t=e(this);setTimeout(function(){t.find(":ui-button").button("refresh")},1)},u=function(t){var i=t.name,s=t.form,n=e([]);return i&&(i=i.replace(/'/g,"\\'"),n=s?e(s).find("[name='"+i+"'][type=radio]"):e("[name='"+i+"'][type=radio]",t.ownerDocument).filter(function(){return!this.form})),n};e.widget("ui.button",{version:"1.11.3",defaultElement:"<button>",options:{disabled:null,text:!0,label:null,icons:{primary:null,secondary:null}},_create:function(){this.element.closest("form").unbind("reset"+this.eventNamespace).bind("reset"+this.eventNamespace,l),"boolean"!=typeof this.options.disabled?this.options.disabled=!!this.element.prop("disabled"):this.element.prop("disabled",this.options.disabled),this._determineButtonType(),this.hasTitle=!!this.buttonElement.attr("title");var t=this,i=this.options,s="checkbox"===this.type||"radio"===this.type,n=s?"":"ui-state-active";null===i.label&&(i.label="input"===this.type?this.buttonElement.val():this.buttonElement.html()),this._hoverable(this.buttonElement),this.buttonElement.addClass(r).attr("role","button").bind("mouseenter"+this.eventNamespace,function(){i.disabled||this===o&&e(this).addClass("ui-state-active")}).bind("mouseleave"+this.eventNamespace,function(){i.disabled||e(this).removeClass(n)}).bind("click"+this.eventNamespace,function(e){i.disabled&&(e.preventDefault(),e.stopImmediatePropagation())}),this._on({focus:function(){this.buttonElement.addClass("ui-state-focus")},blur:function(){this.buttonElement.removeClass("ui-state-focus")}}),s&&this.element.bind("change"+this.eventNamespace,function(){t.refresh()}),"checkbox"===this.type?this.buttonElement.bind("click"+this.eventNamespace,function(){return i.disabled?!1:void 0}):"radio"===this.type?this.buttonElement.bind("click"+this.eventNamespace,function(){if(i.disabled)return!1;e(this).addClass("ui-state-active"),t.buttonElement.attr("aria-pressed","true");var s=t.element[0];u(s).not(s).map(function(){return e(this).button("widget")[0]}).removeClass("ui-state-active").attr("aria-pressed","false")}):(this.buttonElement.bind("mousedown"+this.eventNamespace,function(){return i.disabled?!1:(e(this).addClass("ui-state-active"),o=this,t.document.one("mouseup",function(){o=null}),void 0)}).bind("mouseup"+this.eventNamespace,function(){return i.disabled?!1:(e(this).removeClass("ui-state-active"),void 0)}).bind("keydown"+this.eventNamespace,function(t){return i.disabled?!1:((t.keyCode===e.ui.keyCode.SPACE||t.keyCode===e.ui.keyCode.ENTER)&&e(this).addClass("ui-state-active"),void 0)}).bind("keyup"+this.eventNamespace+" blur"+this.eventNamespace,function(){e(this).removeClass("ui-state-active")}),this.buttonElement.is("a")&&this.buttonElement.keyup(function(t){t.keyCode===e.ui.keyCode.SPACE&&e(this).click()})),this._setOption("disabled",i.disabled),this._resetButton()},_determineButtonType:function(){var e,t,i;this.type=this.element.is("[type=checkbox]")?"checkbox":this.element.is("[type=radio]")?"radio":this.element.is("input")?"input":"button","checkbox"===this.type||"radio"===this.type?(e=this.element.parents().last(),t="label[for='"+this.element.attr("id")+"']",this.buttonElement=e.find(t),this.buttonElement.length||(e=e.length?e.siblings():this.element.siblings(),this.buttonElement=e.filter(t),this.buttonElement.length||(this.buttonElement=e.find(t))),this.element.addClass("ui-helper-hidden-accessible"),i=this.element.is(":checked"),i&&this.buttonElement.addClass("ui-state-active"),this.buttonElement.prop("aria-pressed",i)):this.buttonElement=this.element},widget:function(){return this.buttonElement},_destroy:function(){this.element.removeClass("ui-helper-hidden-accessible"),this.buttonElement.removeClass(r+" ui-state-active "+h).removeAttr("role").removeAttr("aria-pressed").html(this.buttonElement.find(".ui-button-text").html()),this.hasTitle||this.buttonElement.removeAttr("title")},_setOption:function(e,t){return this._super(e,t),"disabled"===e?(this.widget().toggleClass("ui-state-disabled",!!t),this.element.prop("disabled",!!t),t&&("checkbox"===this.type||"radio"===this.type?this.buttonElement.removeClass("ui-state-focus"):this.buttonElement.removeClass("ui-state-focus ui-state-active")),void 0):(this._resetButton(),void 0)},refresh:function(){var t=this.element.is("input, button")?this.element.is(":disabled"):this.element.hasClass("ui-button-disabled");t!==this.options.disabled&&this._setOption("disabled",t),"radio"===this.type?u(this.element[0]).each(function(){e(this).is(":checked")?e(this).button("widget").addClass("ui-state-active").attr("aria-pressed","true"):e(this).button("widget").removeClass("ui-state-active").attr("aria-pressed","false")}):"checkbox"===this.type&&(this.element.is(":checked")?this.buttonElement.addClass("ui-state-active").attr("aria-pressed","true"):this.buttonElement.removeClass("ui-state-active").attr("aria-pressed","false"))},_resetButton:function(){if("input"===this.type)return this.options.label&&this.element.val(this.options.label),void 0;var t=this.buttonElement.removeClass(h),i=e("<span></span>",this.document[0]).addClass("ui-button-text").html(this.options.label).appendTo(t.empty()).text(),s=this.options.icons,n=s.primary&&s.secondary,a=[];s.primary||s.secondary?(this.options.text&&a.push("ui-button-text-icon"+(n?"s":s.primary?"-primary":"-secondary")),s.primary&&t.prepend("<span class='ui-button-icon-primary ui-icon "+s.primary+"'></span>"),s.secondary&&t.append("<span class='ui-button-icon-secondary ui-icon "+s.secondary+"'></span>"),this.options.text||(a.push(n?"ui-button-icons-only":"ui-button-icon-only"),this.hasTitle||t.attr("title",e.trim(i)))):a.push("ui-button-text-only"),t.addClass(a.join(" "))}}),e.widget("ui.buttonset",{version:"1.11.3",options:{items:"button, input[type=button], input[type=submit], input[type=reset], input[type=checkbox], input[type=radio], a, :data(ui-button)"},_create:function(){this.element.addClass("ui-buttonset")},_init:function(){this.refresh()},_setOption:function(e,t){"disabled"===e&&this.buttons.button("option",e,t),this._super(e,t)},refresh:function(){var t="rtl"===this.element.css("direction"),i=this.element.find(this.options.items),s=i.filter(":ui-button");i.not(":ui-button").button(),s.button("refresh"),this.buttons=i.map(function(){return e(this).button("widget")[0]}).removeClass("ui-corner-all ui-corner-left ui-corner-right").filter(":first").addClass(t?"ui-corner-right":"ui-corner-left").end().filter(":last").addClass(t?"ui-corner-left":"ui-corner-right").end().end()},_destroy:function(){this.element.removeClass("ui-buttonset"),this.buttons.map(function(){return e(this).button("widget")[0]}).removeClass("ui-corner-left ui-corner-right").end().button("destroy")}}),e.ui.button,e.widget("ui.spinner",{version:"1.11.3",defaultElement:"<input>",widgetEventPrefix:"spin",options:{culture:null,icons:{down:"ui-icon-triangle-1-s",up:"ui-icon-triangle-1-n"},incremental:!0,max:null,min:null,numberFormat:null,page:10,step:1,change:null,spin:null,start:null,stop:null},_create:function(){this._setOption("max",this.options.max),this._setOption("min",this.options.min),this._setOption("step",this.options.step),""!==this.value()&&this._value(this.element.val(),!0),this._draw(),this._on(this._events),this._refresh(),this._on(this.window,{beforeunload:function(){this.element.removeAttr("autocomplete")}})},_getCreateOptions:function(){var t={},i=this.element;return e.each(["min","max","step"],function(e,s){var n=i.attr(s);void 0!==n&&n.length&&(t[s]=n)}),t},_events:{keydown:function(e){this._start(e)&&this._keydown(e)&&e.preventDefault()},keyup:"_stop",focus:function(){this.previous=this.element.val()},blur:function(e){return this.cancelBlur?(delete this.cancelBlur,void 0):(this._stop(),this._refresh(),this.previous!==this.element.val()&&this._trigger("change",e),void 0)},mousewheel:function(e,t){if(t){if(!this.spinning&&!this._start(e))return!1;this._spin((t>0?1:-1)*this.options.step,e),clearTimeout(this.mousewheelTimer),this.mousewheelTimer=this._delay(function(){this.spinning&&this._stop(e)},100),e.preventDefault()}},"mousedown .ui-spinner-button":function(t){function i(){var e=this.element[0]===this.document[0].activeElement;e||(this.element.focus(),this.previous=s,this._delay(function(){this.previous=s}))}var s;s=this.element[0]===this.document[0].activeElement?this.previous:this.element.val(),t.preventDefault(),i.call(this),this.cancelBlur=!0,this._delay(function(){delete this.cancelBlur,i.call(this)}),this._start(t)!==!1&&this._repeat(null,e(t.currentTarget).hasClass("ui-spinner-up")?1:-1,t)},"mouseup .ui-spinner-button":"_stop","mouseenter .ui-spinner-button":function(t){return e(t.currentTarget).hasClass("ui-state-active")?this._start(t)===!1?!1:(this._repeat(null,e(t.currentTarget).hasClass("ui-spinner-up")?1:-1,t),void 0):void 0},"mouseleave .ui-spinner-button":"_stop"},_draw:function(){var e=this.uiSpinner=this.element.addClass("ui-spinner-input").attr("autocomplete","off").wrap(this._uiSpinnerHtml()).parent().append(this._buttonHtml());this.element.attr("role","spinbutton"),this.buttons=e.find(".ui-spinner-button").attr("tabIndex",-1).button().removeClass("ui-corner-all"),this.buttons.height()>Math.ceil(.5*e.height())&&e.height()>0&&e.height(e.height()),this.options.disabled&&this.disable()},_keydown:function(t){var i=this.options,s=e.ui.keyCode;switch(t.keyCode){case s.UP:return this._repeat(null,1,t),!0;case s.DOWN:return this._repeat(null,-1,t),!0;case s.PAGE_UP:return this._repeat(null,i.page,t),!0;case s.PAGE_DOWN:return this._repeat(null,-i.page,t),!0}return!1},_uiSpinnerHtml:function(){return"<span class='ui-spinner ui-widget ui-widget-content ui-corner-all'></span>"},_buttonHtml:function(){return"<a class='ui-spinner-button ui-spinner-up ui-corner-tr'><span class='ui-icon "+this.options.icons.up+"'>&#9650;</span>"+"</a>"+"<a class='ui-spinner-button ui-spinner-down ui-corner-br'>"+"<span class='ui-icon "+this.options.icons.down+"'>&#9660;</span>"+"</a>"},_start:function(e){return this.spinning||this._trigger("start",e)!==!1?(this.counter||(this.counter=1),this.spinning=!0,!0):!1},_repeat:function(e,t,i){e=e||500,clearTimeout(this.timer),this.timer=this._delay(function(){this._repeat(40,t,i)},e),this._spin(t*this.options.step,i)},_spin:function(e,t){var i=this.value()||0;this.counter||(this.counter=1),i=this._adjustValue(i+e*this._increment(this.counter)),this.spinning&&this._trigger("spin",t,{value:i})===!1||(this._value(i),this.counter++)},_increment:function(t){var i=this.options.incremental;return i?e.isFunction(i)?i(t):Math.floor(t*t*t/5e4-t*t/500+17*t/200+1):1},_precision:function(){var e=this._precisionOf(this.options.step);return null!==this.options.min&&(e=Math.max(e,this._precisionOf(this.options.min))),e},_precisionOf:function(e){var t=""+e,i=t.indexOf(".");return-1===i?0:t.length-i-1},_adjustValue:function(e){var t,i,s=this.options;return t=null!==s.min?s.min:0,i=e-t,i=Math.round(i/s.step)*s.step,e=t+i,e=parseFloat(e.toFixed(this._precision())),null!==s.max&&e>s.max?s.max:null!==s.min&&s.min>e?s.min:e},_stop:function(e){this.spinning&&(clearTimeout(this.timer),clearTimeout(this.mousewheelTimer),this.counter=0,this.spinning=!1,this._trigger("stop",e))},_setOption:function(e,t){if("culture"===e||"numberFormat"===e){var i=this._parse(this.element.val());return this.options[e]=t,this.element.val(this._format(i)),void 0}("max"===e||"min"===e||"step"===e)&&"string"==typeof t&&(t=this._parse(t)),"icons"===e&&(this.buttons.first().find(".ui-icon").removeClass(this.options.icons.up).addClass(t.up),this.buttons.last().find(".ui-icon").removeClass(this.options.icons.down).addClass(t.down)),this._super(e,t),"disabled"===e&&(this.widget().toggleClass("ui-state-disabled",!!t),this.element.prop("disabled",!!t),this.buttons.button(t?"disable":"enable"))},_setOptions:s(function(e){this._super(e)}),_parse:function(e){return"string"==typeof e&&""!==e&&(e=window.Globalize&&this.options.numberFormat?Globalize.parseFloat(e,10,this.options.culture):+e),""===e||isNaN(e)?null:e},_format:function(e){return""===e?"":window.Globalize&&this.options.numberFormat?Globalize.format(e,this.options.numberFormat,this.options.culture):e},_refresh:function(){this.element.attr({"aria-valuemin":this.options.min,"aria-valuemax":this.options.max,"aria-valuenow":this._parse(this.element.val())})},isValid:function(){var e=this.value();return null===e?!1:e===this._adjustValue(e)},_value:function(e,t){var i;""!==e&&(i=this._parse(e),null!==i&&(t||(i=this._adjustValue(i)),e=this._format(i))),this.element.val(e),this._refresh()},_destroy:function(){this.element.removeClass("ui-spinner-input").prop("disabled",!1).removeAttr("autocomplete").removeAttr("role").removeAttr("aria-valuemin").removeAttr("aria-valuemax").removeAttr("aria-valuenow"),this.uiSpinner.replaceWith(this.element)},stepUp:s(function(e){this._stepUp(e)}),_stepUp:function(e){this._start()&&(this._spin((e||1)*this.options.step),this._stop())},stepDown:s(function(e){this._stepDown(e)}),_stepDown:function(e){this._start()&&(this._spin((e||1)*-this.options.step),this._stop())},pageUp:s(function(e){this._stepUp((e||1)*this.options.page)}),pageDown:s(function(e){this._stepDown((e||1)*this.options.page)}),value:function(e){return arguments.length?(s(this._value).call(this,e),void 0):this._parse(this.element.val())},widget:function(){return this.uiSpinner}})});/*!
 * jQuery Form Plugin
 * version: 3.51.0-2014.06.20
 * Requires jQuery v1.5 or later
 * Copyright (c) 2014 M. Alsup
 * Examples and documentation at: http://malsup.com/jquery/form/
 * Project repository: https://github.com/malsup/form
 * Dual licensed under the MIT and GPL licenses.
 * https://github.com/malsup/form#copyright-and-license
 */
!function(e){"use strict";"function"==typeof define&&define.amd?define(["jquery"],e):e("undefined"!=typeof jQuery?jQuery:window.Zepto)}(function(e){"use strict";function t(t){var r=t.data;t.isDefaultPrevented()||(t.preventDefault(),e(t.target).ajaxSubmit(r))}function r(t){var r=t.target,a=e(r);if(!a.is("[type=submit],[type=image]")){var n=a.closest("[type=submit]");if(0===n.length)return;r=n[0]}var i=this;if(i.clk=r,"image"==r.type)if(void 0!==t.offsetX)i.clk_x=t.offsetX,i.clk_y=t.offsetY;else if("function"==typeof e.fn.offset){var o=a.offset();i.clk_x=t.pageX-o.left,i.clk_y=t.pageY-o.top}else i.clk_x=t.pageX-r.offsetLeft,i.clk_y=t.pageY-r.offsetTop;setTimeout(function(){i.clk=i.clk_x=i.clk_y=null},100)}function a(){if(e.fn.ajaxSubmit.debug){var t="[jquery.form] "+Array.prototype.join.call(arguments,"");window.console&&window.console.log?window.console.log(t):window.opera&&window.opera.postError&&window.opera.postError(t)}}var n={};n.fileapi=void 0!==e("<input type='file'/>").get(0).files,n.formdata=void 0!==window.FormData;var i=!!e.fn.prop;e.fn.attr2=function(){if(!i)return this.attr.apply(this,arguments);var e=this.prop.apply(this,arguments);return e&&e.jquery||"string"==typeof e?e:this.attr.apply(this,arguments)},e.fn.ajaxSubmit=function(t){function r(r){var a,n,i=e.param(r,t.traditional).split("&"),o=i.length,s=[];for(a=0;o>a;a++)i[a]=i[a].replace(/\+/g," "),n=i[a].split("="),s.push([decodeURIComponent(n[0]),decodeURIComponent(n[1])]);return s}function o(a){for(var n=new FormData,i=0;i<a.length;i++)n.append(a[i].name,a[i].value);if(t.extraData){var o=r(t.extraData);for(i=0;i<o.length;i++)o[i]&&n.append(o[i][0],o[i][1])}t.data=null;var s=e.extend(!0,{},e.ajaxSettings,t,{contentType:!1,processData:!1,cache:!1,type:u||"POST"});t.uploadProgress&&(s.xhr=function(){var r=e.ajaxSettings.xhr();return r.upload&&r.upload.addEventListener("progress",function(e){var r=0,a=e.loaded||e.position,n=e.total;e.lengthComputable&&(r=Math.ceil(a/n*100)),t.uploadProgress(e,a,n,r)},!1),r}),s.data=null;var c=s.beforeSend;return s.beforeSend=function(e,r){r.data=t.formData?t.formData:n,c&&c.call(this,e,r)},e.ajax(s)}function s(r){function n(e){var t=null;try{e.contentWindow&&(t=e.contentWindow.document)}catch(r){a("cannot get iframe.contentWindow document: "+r)}if(t)return t;try{t=e.contentDocument?e.contentDocument:e.document}catch(r){a("cannot get iframe.contentDocument: "+r),t=e.document}return t}function o(){function t(){try{var e=n(g).readyState;a("state = "+e),e&&"uninitialized"==e.toLowerCase()&&setTimeout(t,50)}catch(r){a("Server abort: ",r," (",r.name,")"),s(k),j&&clearTimeout(j),j=void 0}}var r=f.attr2("target"),i=f.attr2("action"),o="multipart/form-data",c=f.attr("enctype")||f.attr("encoding")||o;w.setAttribute("target",p),(!u||/post/i.test(u))&&w.setAttribute("method","POST"),i!=m.url&&w.setAttribute("action",m.url),m.skipEncodingOverride||u&&!/post/i.test(u)||f.attr({encoding:"multipart/form-data",enctype:"multipart/form-data"}),m.timeout&&(j=setTimeout(function(){T=!0,s(D)},m.timeout));var l=[];try{if(m.extraData)for(var d in m.extraData)m.extraData.hasOwnProperty(d)&&l.push(e.isPlainObject(m.extraData[d])&&m.extraData[d].hasOwnProperty("name")&&m.extraData[d].hasOwnProperty("value")?e('<input type="hidden" name="'+m.extraData[d].name+'">').val(m.extraData[d].value).appendTo(w)[0]:e('<input type="hidden" name="'+d+'">').val(m.extraData[d]).appendTo(w)[0]);m.iframeTarget||v.appendTo("body"),g.attachEvent?g.attachEvent("onload",s):g.addEventListener("load",s,!1),setTimeout(t,15);try{w.submit()}catch(h){var x=document.createElement("form").submit;x.apply(w)}}finally{w.setAttribute("action",i),w.setAttribute("enctype",c),r?w.setAttribute("target",r):f.removeAttr("target"),e(l).remove()}}function s(t){if(!x.aborted&&!F){if(M=n(g),M||(a("cannot access response document"),t=k),t===D&&x)return x.abort("timeout"),void S.reject(x,"timeout");if(t==k&&x)return x.abort("server abort"),void S.reject(x,"error","server abort");if(M&&M.location.href!=m.iframeSrc||T){g.detachEvent?g.detachEvent("onload",s):g.removeEventListener("load",s,!1);var r,i="success";try{if(T)throw"timeout";var o="xml"==m.dataType||M.XMLDocument||e.isXMLDoc(M);if(a("isXml="+o),!o&&window.opera&&(null===M.body||!M.body.innerHTML)&&--O)return a("requeing onLoad callback, DOM not available"),void setTimeout(s,250);var u=M.body?M.body:M.documentElement;x.responseText=u?u.innerHTML:null,x.responseXML=M.XMLDocument?M.XMLDocument:M,o&&(m.dataType="xml"),x.getResponseHeader=function(e){var t={"content-type":m.dataType};return t[e.toLowerCase()]},u&&(x.status=Number(u.getAttribute("status"))||x.status,x.statusText=u.getAttribute("statusText")||x.statusText);var c=(m.dataType||"").toLowerCase(),l=/(json|script|text)/.test(c);if(l||m.textarea){var f=M.getElementsByTagName("textarea")[0];if(f)x.responseText=f.value,x.status=Number(f.getAttribute("status"))||x.status,x.statusText=f.getAttribute("statusText")||x.statusText;else if(l){var p=M.getElementsByTagName("pre")[0],h=M.getElementsByTagName("body")[0];p?x.responseText=p.textContent?p.textContent:p.innerText:h&&(x.responseText=h.textContent?h.textContent:h.innerText)}}else"xml"==c&&!x.responseXML&&x.responseText&&(x.responseXML=X(x.responseText));try{E=_(x,c,m)}catch(y){i="parsererror",x.error=r=y||i}}catch(y){a("error caught: ",y),i="error",x.error=r=y||i}x.aborted&&(a("upload aborted"),i=null),x.status&&(i=x.status>=200&&x.status<300||304===x.status?"success":"error"),"success"===i?(m.success&&m.success.call(m.context,E,"success",x),S.resolve(x.responseText,"success",x),d&&e.event.trigger("ajaxSuccess",[x,m])):i&&(void 0===r&&(r=x.statusText),m.error&&m.error.call(m.context,x,i,r),S.reject(x,"error",r),d&&e.event.trigger("ajaxError",[x,m,r])),d&&e.event.trigger("ajaxComplete",[x,m]),d&&!--e.active&&e.event.trigger("ajaxStop"),m.complete&&m.complete.call(m.context,x,i),F=!0,m.timeout&&clearTimeout(j),setTimeout(function(){m.iframeTarget?v.attr("src",m.iframeSrc):v.remove(),x.responseXML=null},100)}}}var c,l,m,d,p,v,g,x,y,b,T,j,w=f[0],S=e.Deferred();if(S.abort=function(e){x.abort(e)},r)for(l=0;l<h.length;l++)c=e(h[l]),i?c.prop("disabled",!1):c.removeAttr("disabled");if(m=e.extend(!0,{},e.ajaxSettings,t),m.context=m.context||m,p="jqFormIO"+(new Date).getTime(),m.iframeTarget?(v=e(m.iframeTarget),b=v.attr2("name"),b?p=b:v.attr2("name",p)):(v=e('<iframe name="'+p+'" src="'+m.iframeSrc+'" />'),v.css({position:"absolute",top:"-1000px",left:"-1000px"})),g=v[0],x={aborted:0,responseText:null,responseXML:null,status:0,statusText:"n/a",getAllResponseHeaders:function(){},getResponseHeader:function(){},setRequestHeader:function(){},abort:function(t){var r="timeout"===t?"timeout":"aborted";a("aborting upload... "+r),this.aborted=1;try{g.contentWindow.document.execCommand&&g.contentWindow.document.execCommand("Stop")}catch(n){}v.attr("src",m.iframeSrc),x.error=r,m.error&&m.error.call(m.context,x,r,t),d&&e.event.trigger("ajaxError",[x,m,r]),m.complete&&m.complete.call(m.context,x,r)}},d=m.global,d&&0===e.active++&&e.event.trigger("ajaxStart"),d&&e.event.trigger("ajaxSend",[x,m]),m.beforeSend&&m.beforeSend.call(m.context,x,m)===!1)return m.global&&e.active--,S.reject(),S;if(x.aborted)return S.reject(),S;y=w.clk,y&&(b=y.name,b&&!y.disabled&&(m.extraData=m.extraData||{},m.extraData[b]=y.value,"image"==y.type&&(m.extraData[b+".x"]=w.clk_x,m.extraData[b+".y"]=w.clk_y)));var D=1,k=2,A=e("meta[name=csrf-token]").attr("content"),L=e("meta[name=csrf-param]").attr("content");L&&A&&(m.extraData=m.extraData||{},m.extraData[L]=A),m.forceSync?o():setTimeout(o,10);var E,M,F,O=50,X=e.parseXML||function(e,t){return window.ActiveXObject?(t=new ActiveXObject("Microsoft.XMLDOM"),t.async="false",t.loadXML(e)):t=(new DOMParser).parseFromString(e,"text/xml"),t&&t.documentElement&&"parsererror"!=t.documentElement.nodeName?t:null},C=e.parseJSON||function(e){return window.eval("("+e+")")},_=function(t,r,a){var n=t.getResponseHeader("content-type")||"",i="xml"===r||!r&&n.indexOf("xml")>=0,o=i?t.responseXML:t.responseText;return i&&"parsererror"===o.documentElement.nodeName&&e.error&&e.error("parsererror"),a&&a.dataFilter&&(o=a.dataFilter(o,r)),"string"==typeof o&&("json"===r||!r&&n.indexOf("json")>=0?o=C(o):("script"===r||!r&&n.indexOf("javascript")>=0)&&e.globalEval(o)),o};return S}if(!this.length)return a("ajaxSubmit: skipping submit process - no element selected"),this;var u,c,l,f=this;"function"==typeof t?t={success:t}:void 0===t&&(t={}),u=t.type||this.attr2("method"),c=t.url||this.attr2("action"),l="string"==typeof c?e.trim(c):"",l=l||window.location.href||"",l&&(l=(l.match(/^([^#]+)/)||[])[1]),t=e.extend(!0,{url:l,success:e.ajaxSettings.success,type:u||e.ajaxSettings.type,iframeSrc:/^https/i.test(window.location.href||"")?"javascript:false":"about:blank"},t);var m={};if(this.trigger("form-pre-serialize",[this,t,m]),m.veto)return a("ajaxSubmit: submit vetoed via form-pre-serialize trigger"),this;if(t.beforeSerialize&&t.beforeSerialize(this,t)===!1)return a("ajaxSubmit: submit aborted via beforeSerialize callback"),this;var d=t.traditional;void 0===d&&(d=e.ajaxSettings.traditional);var p,h=[],v=this.formToArray(t.semantic,h);if(t.data&&(t.extraData=t.data,p=e.param(t.data,d)),t.beforeSubmit&&t.beforeSubmit(v,this,t)===!1)return a("ajaxSubmit: submit aborted via beforeSubmit callback"),this;if(this.trigger("form-submit-validate",[v,this,t,m]),m.veto)return a("ajaxSubmit: submit vetoed via form-submit-validate trigger"),this;var g=e.param(v,d);p&&(g=g?g+"&"+p:p),"GET"==t.type.toUpperCase()?(t.url+=(t.url.indexOf("?")>=0?"&":"?")+g,t.data=null):t.data=g;var x=[];if(t.resetForm&&x.push(function(){f.resetForm()}),t.clearForm&&x.push(function(){f.clearForm(t.includeHidden)}),!t.dataType&&t.target){var y=t.success||function(){};x.push(function(r){var a=t.replaceTarget?"replaceWith":"html";e(t.target)[a](r).each(y,arguments)})}else t.success&&x.push(t.success);if(t.success=function(e,r,a){for(var n=t.context||this,i=0,o=x.length;o>i;i++)x[i].apply(n,[e,r,a||f,f])},t.error){var b=t.error;t.error=function(e,r,a){var n=t.context||this;b.apply(n,[e,r,a,f])}}if(t.complete){var T=t.complete;t.complete=function(e,r){var a=t.context||this;T.apply(a,[e,r,f])}}var j=e("input[type=file]:enabled",this).filter(function(){return""!==e(this).val()}),w=j.length>0,S="multipart/form-data",D=f.attr("enctype")==S||f.attr("encoding")==S,k=n.fileapi&&n.formdata;a("fileAPI :"+k);var A,L=(w||D)&&!k;t.iframe!==!1&&(t.iframe||L)?t.closeKeepAlive?e.get(t.closeKeepAlive,function(){A=s(v)}):A=s(v):A=(w||D)&&k?o(v):e.ajax(t),f.removeData("jqxhr").data("jqxhr",A);for(var E=0;E<h.length;E++)h[E]=null;return this.trigger("form-submit-notify",[this,t]),this},e.fn.ajaxForm=function(n){if(n=n||{},n.delegation=n.delegation&&e.isFunction(e.fn.on),!n.delegation&&0===this.length){var i={s:this.selector,c:this.context};return!e.isReady&&i.s?(a("DOM not ready, queuing ajaxForm"),e(function(){e(i.s,i.c).ajaxForm(n)}),this):(a("terminating; zero elements found by selector"+(e.isReady?"":" (DOM not ready)")),this)}return n.delegation?(e(document).off("submit.form-plugin",this.selector,t).off("click.form-plugin",this.selector,r).on("submit.form-plugin",this.selector,n,t).on("click.form-plugin",this.selector,n,r),this):this.ajaxFormUnbind().bind("submit.form-plugin",n,t).bind("click.form-plugin",n,r)},e.fn.ajaxFormUnbind=function(){return this.unbind("submit.form-plugin click.form-plugin")},e.fn.formToArray=function(t,r){var a=[];if(0===this.length)return a;var i,o=this[0],s=this.attr("id"),u=t?o.getElementsByTagName("*"):o.elements;if(u&&!/MSIE [678]/.test(navigator.userAgent)&&(u=e(u).get()),s&&(i=e(':input[form="'+s+'"]').get(),i.length&&(u=(u||[]).concat(i))),!u||!u.length)return a;var c,l,f,m,d,p,h;for(c=0,p=u.length;p>c;c++)if(d=u[c],f=d.name,f&&!d.disabled)if(t&&o.clk&&"image"==d.type)o.clk==d&&(a.push({name:f,value:e(d).val(),type:d.type}),a.push({name:f+".x",value:o.clk_x},{name:f+".y",value:o.clk_y}));else if(m=e.fieldValue(d,!0),m&&m.constructor==Array)for(r&&r.push(d),l=0,h=m.length;h>l;l++)a.push({name:f,value:m[l]});else if(n.fileapi&&"file"==d.type){r&&r.push(d);var v=d.files;if(v.length)for(l=0;l<v.length;l++)a.push({name:f,value:v[l],type:d.type});else a.push({name:f,value:"",type:d.type})}else null!==m&&"undefined"!=typeof m&&(r&&r.push(d),a.push({name:f,value:m,type:d.type,required:d.required}));if(!t&&o.clk){var g=e(o.clk),x=g[0];f=x.name,f&&!x.disabled&&"image"==x.type&&(a.push({name:f,value:g.val()}),a.push({name:f+".x",value:o.clk_x},{name:f+".y",value:o.clk_y}))}return a},e.fn.formSerialize=function(t){return e.param(this.formToArray(t))},e.fn.fieldSerialize=function(t){var r=[];return this.each(function(){var a=this.name;if(a){var n=e.fieldValue(this,t);if(n&&n.constructor==Array)for(var i=0,o=n.length;o>i;i++)r.push({name:a,value:n[i]});else null!==n&&"undefined"!=typeof n&&r.push({name:this.name,value:n})}}),e.param(r)},e.fn.fieldValue=function(t){for(var r=[],a=0,n=this.length;n>a;a++){var i=this[a],o=e.fieldValue(i,t);null===o||"undefined"==typeof o||o.constructor==Array&&!o.length||(o.constructor==Array?e.merge(r,o):r.push(o))}return r},e.fieldValue=function(t,r){var a=t.name,n=t.type,i=t.tagName.toLowerCase();if(void 0===r&&(r=!0),r&&(!a||t.disabled||"reset"==n||"button"==n||("checkbox"==n||"radio"==n)&&!t.checked||("submit"==n||"image"==n)&&t.form&&t.form.clk!=t||"select"==i&&-1==t.selectedIndex))return null;if("select"==i){var o=t.selectedIndex;if(0>o)return null;for(var s=[],u=t.options,c="select-one"==n,l=c?o+1:u.length,f=c?o:0;l>f;f++){var m=u[f];if(m.selected){var d=m.value;if(d||(d=m.attributes&&m.attributes.value&&!m.attributes.value.specified?m.text:m.value),c)return d;s.push(d)}}return s}return e(t).val()},e.fn.clearForm=function(t){return this.each(function(){e("input,select,textarea",this).clearFields(t)})},e.fn.clearFields=e.fn.clearInputs=function(t){var r=/^(?:color|date|datetime|email|month|number|password|range|search|tel|text|time|url|week)$/i;return this.each(function(){var a=this.type,n=this.tagName.toLowerCase();r.test(a)||"textarea"==n?this.value="":"checkbox"==a||"radio"==a?this.checked=!1:"select"==n?this.selectedIndex=-1:"file"==a?/MSIE/.test(navigator.userAgent)?e(this).replaceWith(e(this).clone(!0)):e(this).val(""):t&&(t===!0&&/hidden/.test(a)||"string"==typeof t&&e(this).is(t))&&(this.value="")})},e.fn.resetForm=function(){return this.each(function(){("function"==typeof this.reset||"object"==typeof this.reset&&!this.reset.nodeType)&&this.reset()})},e.fn.enable=function(e){return void 0===e&&(e=!0),this.each(function(){this.disabled=!e})},e.fn.selected=function(t){return void 0===t&&(t=!0),this.each(function(){var r=this.type;if("checkbox"==r||"radio"==r)this.checked=t;else if("option"==this.tagName.toLowerCase()){var a=e(this).parent("select");t&&a[0]&&"select-one"==a[0].type&&a.find("option").selected(!1),this.selected=t}})},e.fn.ajaxSubmit.debug=!1});// https://github.com/smnh/FontLoader
// MIT license
(function(l,c){"function"===typeof define&&define.amd?define([],c):"object"===typeof exports?module.exports=c():l.FontLoader=c()})(window,function(){function l(a){this._validateFontDescriptor(a);this.family=a.family;this.weight=a.weight;this.style=a.style;this.stretch=a.stretch}function c(a,b,c,d){this.delegate=b;this.timeout="undefined"!==typeof c?c:3E3;this._fontsArray=this._parseFonts(a);this._started=!1;this._adobeBlankSizeWatcher=this._testContainer=this._testDiv=null;this._sizeWatchers=[];this._intervalId=
this._timeoutId=null;this._intervalDelay=50;this._numberOfLoadedFonts=0;this._numberOfFonts=this._fontsArray.length;this._fontsMap={};this._finished=!1;this._document=d||document}function h(a,b){this.width=a;this.height=b}function d(a,b){this._element=a;this._delegate=b.delegate;this._size=null;this._continuous=!!b.continuous;this._direction=b.direction?b.direction:d.directions.both;this._dimension=b.dimension?b.dimension:d.dimensions.both;this._sizeIncreaseWatcherElm=this._sizeDecreaseWatcherElm=
this._sizeIncreaseWatcherContentElm=null;this._state=d.states.initialized;this._scrollAmount=2;this._document=b.document||document;this._generateScrollWatchers(b.size);this._appendScrollWatchersToElement(b.container)}var n=/MSIE/i.test(navigator.userAgent),p=null;if(n){var q=/MSIE ([0-9]{1,}[.0-9]{0,})/.exec(navigator.userAgent);null!==q&&(p=parseFloat(q[1]))}l.prototype={constructor:l,variationKey:function(){return this.weight+this.style+this.stretch},fontKey:function(){return this.family+this.variationKey()},
toJSON:function(){return{family:this.family,weight:this.weight,style:this.style,stretch:this.stretch}},_validateFontDescriptor:function(a){var b,d;if(!a.family||!a.weight||!a.style)throw Error("Illegal font descriptor, family, weight and style properties are required.");if(!("possibleFontStyles"in c))for(b in c.possibleFontStyles=[],c.fontStyleAliasesMap)c.fontStyleAliasesMap.hasOwnProperty(b)&&c.possibleFontStyles.push(c.fontStyleAliasesMap[b]);if(-1===c.possibleFontStyles.indexOf(a.style))throw Error("Illegal font descriptor, style property must be one of the following: "+
c.possibleFontStyles.join(", "));if("stretch"in a){if(!("possibleFontStretches"in c))for(d in c.possibleFontStretches=[],c.fontStretchAliasesMap)c.fontStretchAliasesMap.hasOwnProperty(d)&&c.possibleFontStretches.push(c.fontStretchAliasesMap[d]);if(-1===c.possibleFontStretches.indexOf(a.stretch))throw Error("Illegal font descriptor, stretch property must be one of the following: "+c.possibleFontStretches.join(", "));}else a.stretch="normal"}};c.useAdobeBlank=!n||11<=p;c.useResizeEvent=n&&11>p&&"undefined"!==
typeof document.attachEvent;c.useIntervalChecking=window.opera||n&&11>p&&!c.useResizeEvent;c.referenceText=" !\"\\#$%&'()*+,-./0123456789:;<=>?@ABCDEFGHIJKLMNOPQRSTUVWXYZ[]^_`abcdefghijklmnopqrstuvwxyz{|}~";c.referenceFontFamilies=c.useAdobeBlank?["AdobeBlank"]:["serif","cursive"];c.adobeBlankFontFaceStyleId="fontLoaderAdobeBlankFontFace";c.adobeBlankReferenceSize=null;c.referenceFontFamilyVariationSizes={};c.adobeBlankFontFaceRule="@font-face{ font-family:AdobeBlank; src:url('data:font/opentype;base64,T1RUTwAKAIAAAwAgQ0ZGIM6ZbkwAAEPEAAAZM0RTSUcAAAABAABtAAAAAAhPUy8yAR6vMwAAARAAAABgY21hcDqI98oAACjEAAAa4GhlYWT+BQILAAAArAAAADZoaGVhCCID7wAAAOQAAAAkaG10eAPoAHwAAFz4AAAQBm1heHAIAVAAAAABCAAAAAZuYW1lD/tWxwAAAXAAACdScG9zdP+4ADIAAEOkAAAAIAABAAAAAQj1Snw1O18PPPUAAwPoAAAAAM2C2p8AAAAAzYLanwB8/4gDbANwAAAAAwACAAAAAAAAAAEAAANw/4gAyAPoAHwAfANsAAEAAAAAAAAAAAAAAAAAAAACAABQAAgBAAAABAAAAZAABQAAAooCWAAAAEsCigJYAAABXgAyANwAAAAAAAAAAAAAAAD3/67/+9///w/gAD8AAAAAQURCRQHAAAD//wNw/4gAyANwAHhgLwH/AAAAAAAAAAAAAAAgAAAAAAARANIAAQAAAAAAAQALAAAAAQAAAAAAAgAHAAsAAQAAAAAAAwAbABIAAQAAAAAABAALAAAAAQAAAAAABQA5AC0AAQAAAAAABgAKAGYAAwABBAkAAABuAHAAAwABBAkAAQAWAN4AAwABBAkAAgAOAPQAAwABBAkAAwA2AQIAAwABBAkABAAWAN4AAwABBAkABQByATgAAwABBAkABgAUAaoAAwABBAkACAA0Ab4AAwABBAkACwA0AfIAAwABBAkADSQSAiYAAwABBAkADgBIJjhBZG9iZSBCbGFua1JlZ3VsYXIxLjAzNTtBREJFO0Fkb2JlQmxhbms7QURPQkVWZXJzaW9uIDEuMDM1O1BTIDEuMDAzO2hvdGNvbnYgMS4wLjcwO21ha2VvdGYubGliMi41LjU5MDBBZG9iZUJsYW5rAKkAIAAyADAAMQAzACAAQQBkAG8AYgBlACAAUwB5AHMAdABlAG0AcwAgAEkAbgBjAG8AcgBwAG8AcgBhAHQAZQBkAC4AIABBAGwAbAAgAFIAaQBnAGgAdABzACAAUgBlAHMAZQByAHYAZQBkAC4AQQBkAG8AYgBlACAAQgBsAGEAbgBrAFIAZQBnAHUAbABhAHIAMQAuADAAMwA1ADsAQQBEAEIARQA7AEEAZABvAGIAZQBCAGwAYQBuAGsAOwBBAEQATwBCAEUAVgBlAHIAcwBpAG8AbgAgADEALgAwADMANQA7AFAAUwAgADEALgAwADAAMwA7AGgAbwB0AGMAbwBuAHYAIAAxAC4AMAAuADcAMAA7AG0AYQBrAGUAbwB0AGYALgBsAGkAYgAyAC4ANQAuADUAOQAwADAAQQBkAG8AYgBlAEIAbABhAG4AawBBAGQAbwBiAGUAIABTAHkAcwB0AGUAbQBzACAASQBuAGMAbwByAHAAbwByAGEAdABlAGQAaAB0AHQAcAA6AC8ALwB3AHcAdwAuAGEAZABvAGIAZQAuAGMAbwBtAC8AdAB5AHAAZQAvAEEAZABvAGIAZQAgAEIAbABhAG4AawAgAGkAcwAgAHIAZQBsAGUAYQBzAGUAZAAgAHUAbgBkAGUAcgAgAHQAaABlACAAUwBJAEwAIABPAHAAZQBuACAARgBvAG4AdAAgAEwAaQBjAGUAbgBzAGUAIAAtACAAcABsAGUAYQBzAGUAIAByAGUAYQBkACAAaQB0ACAAYwBhAHIAZQBmAHUAbABsAHkAIABhAG4AZAAgAGQAbwAgAG4AbwB0ACAAZABvAHcAbgBsAG8AYQBkACAAdABoAGUAIABmAG8AbgB0AHMAIAB1AG4AbABlAHMAcwAgAHkAbwB1ACAAYQBnAHIAZQBlACAAdABvACAAdABoAGUAIAB0AGgAZQAgAHQAZQByAG0AcwAgAG8AZgAgAHQAaABlACAAbABpAGMAZQBuAHMAZQA6AA0ACgANAAoAQwBvAHAAeQByAGkAZwBoAHQAIACpACAAMgAwADEAMwAgAEEAZABvAGIAZQAgAFMAeQBzAHQAZQBtAHMAIABJAG4AYwBvAHIAcABvAHIAYQB0AGUAZAAgACgAaAB0AHQAcAA6AC8ALwB3AHcAdwAuAGEAZABvAGIAZQAuAGMAbwBtAC8AKQAsACAAdwBpAHQAaAAgAFIAZQBzAGUAcgB2AGUAZAAgAEYAbwBuAHQAIABOAGEAbQBlACAAQQBkAG8AYgBlACAAQgBsAGEAbgBrAA0ACgANAAoAVABoAGkAcwAgAEYAbwBuAHQAIABTAG8AZgB0AHcAYQByAGUAIABpAHMAIABsAGkAYwBlAG4AcwBlAGQAIAB1AG4AZABlAHIAIAB0AGgAZQAgAFMASQBMACAATwBwAGUAbgAgAEYAbwBuAHQAIABMAGkAYwBlAG4AcwBlACwAIABWAGUAcgBzAGkAbwBuACAAMQAuADEALgANAAoADQAKAFQAaABpAHMAIABsAGkAYwBlAG4AcwBlACAAaQBzACAAYwBvAHAAaQBlAGQAIABiAGUAbABvAHcALAAgAGEAbgBkACAAaQBzACAAYQBsAHMAbwAgAGEAdgBhAGkAbABhAGIAbABlACAAdwBpAHQAaAAgAGEAIABGAEEAUQAgAGEAdAA6ACAAaAB0AHQAcAA6AC8ALwBzAGMAcgBpAHAAdABzAC4AcwBpAGwALgBvAHIAZwAvAE8ARgBMAA0ACgANAAoALQAtAC0ALQAtAC0ALQAtAC0ALQAtAC0ALQAtAC0ALQAtAC0ALQAtAC0ALQAtAC0ALQAtAC0ALQAtAC0ALQAtAC0ALQAtAC0ALQAtAC0ALQAtAC0ALQAtAC0ALQAtAC0ALQAtAC0ALQAtAC0ALQAtAC0ALQAtAA0ACgBTAEkATAAgAE8AUABFAE4AIABGAE8ATgBUACAATABJAEMARQBOAFMARQAgAFYAZQByAHMAaQBvAG4AIAAxAC4AMQAgAC0AIAAyADYAIABGAGUAYgByAHUAYQByAHkAIAAyADAAMAA3AA0ACgAtAC0ALQAtAC0ALQAtAC0ALQAtAC0ALQAtAC0ALQAtAC0ALQAtAC0ALQAtAC0ALQAtAC0ALQAtAC0ALQAtAC0ALQAtAC0ALQAtAC0ALQAtAC0ALQAtAC0ALQAtAC0ALQAtAC0ALQAtAC0ALQAtAC0ALQAtAC0ADQAKAA0ACgBQAFIARQBBAE0AQgBMAEUADQAKAFQAaABlACAAZwBvAGEAbABzACAAbwBmACAAdABoAGUAIABPAHAAZQBuACAARgBvAG4AdAAgAEwAaQBjAGUAbgBzAGUAIAAoAE8ARgBMACkAIABhAHIAZQAgAHQAbwAgAHMAdABpAG0AdQBsAGEAdABlACAAdwBvAHIAbABkAHcAaQBkAGUAIABkAGUAdgBlAGwAbwBwAG0AZQBuAHQAIABvAGYAIABjAG8AbABsAGEAYgBvAHIAYQB0AGkAdgBlACAAZgBvAG4AdAAgAHAAcgBvAGoAZQBjAHQAcwAsACAAdABvACAAcwB1AHAAcABvAHIAdAAgAHQAaABlACAAZgBvAG4AdAAgAGMAcgBlAGEAdABpAG8AbgAgAGUAZgBmAG8AcgB0AHMAIABvAGYAIABhAGMAYQBkAGUAbQBpAGMAIABhAG4AZAAgAGwAaQBuAGcAdQBpAHMAdABpAGMAIABjAG8AbQBtAHUAbgBpAHQAaQBlAHMALAAgAGEAbgBkACAAdABvACAAcAByAG8AdgBpAGQAZQAgAGEAIABmAHIAZQBlACAAYQBuAGQAIABvAHAAZQBuACAAZgByAGEAbQBlAHcAbwByAGsAIABpAG4AIAB3AGgAaQBjAGgAIABmAG8AbgB0AHMAIABtAGEAeQAgAGIAZQAgAHMAaABhAHIAZQBkACAAYQBuAGQAIABpAG0AcAByAG8AdgBlAGQAIABpAG4AIABwAGEAcgB0AG4AZQByAHMAaABpAHAAIAB3AGkAdABoACAAbwB0AGgAZQByAHMALgANAAoADQAKAFQAaABlACAATwBGAEwAIABhAGwAbABvAHcAcwAgAHQAaABlACAAbABpAGMAZQBuAHMAZQBkACAAZgBvAG4AdABzACAAdABvACAAYgBlACAAdQBzAGUAZAAsACAAcwB0AHUAZABpAGUAZAAsACAAbQBvAGQAaQBmAGkAZQBkACAAYQBuAGQAIAByAGUAZABpAHMAdAByAGkAYgB1AHQAZQBkACAAZgByAGUAZQBsAHkAIABhAHMAIABsAG8AbgBnACAAYQBzACAAdABoAGUAeQAgAGEAcgBlACAAbgBvAHQAIABzAG8AbABkACAAYgB5ACAAdABoAGUAbQBzAGUAbAB2AGUAcwAuACAAVABoAGUAIABmAG8AbgB0AHMALAAgAGkAbgBjAGwAdQBkAGkAbgBnACAAYQBuAHkAIABkAGUAcgBpAHYAYQB0AGkAdgBlACAAdwBvAHIAawBzACwAIABjAGEAbgAgAGIAZQAgAGIAdQBuAGQAbABlAGQALAAgAGUAbQBiAGUAZABkAGUAZAAsACAAcgBlAGQAaQBzAHQAcgBpAGIAdQB0AGUAZAAgAGEAbgBkAC8AbwByACAAcwBvAGwAZAAgAHcAaQB0AGgAIABhAG4AeQAgAHMAbwBmAHQAdwBhAHIAZQAgAHAAcgBvAHYAaQBkAGUAZAAgAHQAaABhAHQAIABhAG4AeQAgAHIAZQBzAGUAcgB2AGUAZAAgAG4AYQBtAGUAcwAgAGEAcgBlACAAbgBvAHQAIAB1AHMAZQBkACAAYgB5ACAAZABlAHIAaQB2AGEAdABpAHYAZQAgAHcAbwByAGsAcwAuACAAVABoAGUAIABmAG8AbgB0AHMAIABhAG4AZAAgAGQAZQByAGkAdgBhAHQAaQB2AGUAcwAsACAAaABvAHcAZQB2AGUAcgAsACAAYwBhAG4AbgBvAHQAIABiAGUAIAByAGUAbABlAGEAcwBlAGQAIAB1AG4AZABlAHIAIABhAG4AeQAgAG8AdABoAGUAcgAgAHQAeQBwAGUAIABvAGYAIABsAGkAYwBlAG4AcwBlAC4AIABUAGgAZQAgAHIAZQBxAHUAaQByAGUAbQBlAG4AdAAgAGYAbwByACAAZgBvAG4AdABzACAAdABvACAAcgBlAG0AYQBpAG4AIAB1AG4AZABlAHIAIAB0AGgAaQBzACAAbABpAGMAZQBuAHMAZQAgAGQAbwBlAHMAIABuAG8AdAAgAGEAcABwAGwAeQAgAHQAbwAgAGEAbgB5ACAAZABvAGMAdQBtAGUAbgB0ACAAYwByAGUAYQB0AGUAZAAgAHUAcwBpAG4AZwAgAHQAaABlACAAZgBvAG4AdABzACAAbwByACAAdABoAGUAaQByACAAZABlAHIAaQB2AGEAdABpAHYAZQBzAC4ADQAKAA0ACgBEAEUARgBJAE4ASQBUAEkATwBOAFMADQAKACIARgBvAG4AdAAgAFMAbwBmAHQAdwBhAHIAZQAiACAAcgBlAGYAZQByAHMAIAB0AG8AIAB0AGgAZQAgAHMAZQB0ACAAbwBmACAAZgBpAGwAZQBzACAAcgBlAGwAZQBhAHMAZQBkACAAYgB5ACAAdABoAGUAIABDAG8AcAB5AHIAaQBnAGgAdAAgAEgAbwBsAGQAZQByACgAcwApACAAdQBuAGQAZQByACAAdABoAGkAcwAgAGwAaQBjAGUAbgBzAGUAIABhAG4AZAAgAGMAbABlAGEAcgBsAHkAIABtAGEAcgBrAGUAZAAgAGEAcwAgAHMAdQBjAGgALgAgAFQAaABpAHMAIABtAGEAeQAgAGkAbgBjAGwAdQBkAGUAIABzAG8AdQByAGMAZQAgAGYAaQBsAGUAcwAsACAAYgB1AGkAbABkACAAcwBjAHIAaQBwAHQAcwAgAGEAbgBkACAAZABvAGMAdQBtAGUAbgB0AGEAdABpAG8AbgAuAA0ACgANAAoAIgBSAGUAcwBlAHIAdgBlAGQAIABGAG8AbgB0ACAATgBhAG0AZQAiACAAcgBlAGYAZQByAHMAIAB0AG8AIABhAG4AeQAgAG4AYQBtAGUAcwAgAHMAcABlAGMAaQBmAGkAZQBkACAAYQBzACAAcwB1AGMAaAAgAGEAZgB0AGUAcgAgAHQAaABlACAAYwBvAHAAeQByAGkAZwBoAHQAIABzAHQAYQB0AGUAbQBlAG4AdAAoAHMAKQAuAA0ACgANAAoAIgBPAHIAaQBnAGkAbgBhAGwAIABWAGUAcgBzAGkAbwBuACIAIAByAGUAZgBlAHIAcwAgAHQAbwAgAHQAaABlACAAYwBvAGwAbABlAGMAdABpAG8AbgAgAG8AZgAgAEYAbwBuAHQAIABTAG8AZgB0AHcAYQByAGUAIABjAG8AbQBwAG8AbgBlAG4AdABzACAAYQBzACAAZABpAHMAdAByAGkAYgB1AHQAZQBkACAAYgB5ACAAdABoAGUAIABDAG8AcAB5AHIAaQBnAGgAdAAgAEgAbwBsAGQAZQByACgAcwApAC4ADQAKAA0ACgAiAE0AbwBkAGkAZgBpAGUAZAAgAFYAZQByAHMAaQBvAG4AIgAgAHIAZQBmAGUAcgBzACAAdABvACAAYQBuAHkAIABkAGUAcgBpAHYAYQB0AGkAdgBlACAAbQBhAGQAZQAgAGIAeQAgAGEAZABkAGkAbgBnACAAdABvACwAIABkAGUAbABlAHQAaQBuAGcALAAgAG8AcgAgAHMAdQBiAHMAdABpAHQAdQB0AGkAbgBnACAALQAtACAAaQBuACAAcABhAHIAdAAgAG8AcgAgAGkAbgAgAHcAaABvAGwAZQAgAC0ALQAgAGEAbgB5ACAAbwBmACAAdABoAGUAIABjAG8AbQBwAG8AbgBlAG4AdABzACAAbwBmACAAdABoAGUAIABPAHIAaQBnAGkAbgBhAGwAIABWAGUAcgBzAGkAbwBuACwAIABiAHkAIABjAGgAYQBuAGcAaQBuAGcAIABmAG8AcgBtAGEAdABzACAAbwByACAAYgB5ACAAcABvAHIAdABpAG4AZwAgAHQAaABlACAARgBvAG4AdAAgAFMAbwBmAHQAdwBhAHIAZQAgAHQAbwAgAGEAIABuAGUAdwAgAGUAbgB2AGkAcgBvAG4AbQBlAG4AdAAuAA0ACgANAAoAIgBBAHUAdABoAG8AcgAiACAAcgBlAGYAZQByAHMAIAB0AG8AIABhAG4AeQAgAGQAZQBzAGkAZwBuAGUAcgAsACAAZQBuAGcAaQBuAGUAZQByACwAIABwAHIAbwBnAHIAYQBtAG0AZQByACwAIAB0AGUAYwBoAG4AaQBjAGEAbAAgAHcAcgBpAHQAZQByACAAbwByACAAbwB0AGgAZQByACAAcABlAHIAcwBvAG4AIAB3AGgAbwAgAGMAbwBuAHQAcgBpAGIAdQB0AGUAZAAgAHQAbwAgAHQAaABlACAARgBvAG4AdAAgAFMAbwBmAHQAdwBhAHIAZQAuAA0ACgANAAoAUABFAFIATQBJAFMAUwBJAE8ATgAgACYAIABDAE8ATgBEAEkAVABJAE8ATgBTAA0ACgBQAGUAcgBtAGkAcwBzAGkAbwBuACAAaQBzACAAaABlAHIAZQBiAHkAIABnAHIAYQBuAHQAZQBkACwAIABmAHIAZQBlACAAbwBmACAAYwBoAGEAcgBnAGUALAAgAHQAbwAgAGEAbgB5ACAAcABlAHIAcwBvAG4AIABvAGIAdABhAGkAbgBpAG4AZwAgAGEAIABjAG8AcAB5ACAAbwBmACAAdABoAGUAIABGAG8AbgB0ACAAUwBvAGYAdAB3AGEAcgBlACwAIAB0AG8AIAB1AHMAZQAsACAAcwB0AHUAZAB5ACwAIABjAG8AcAB5ACwAIABtAGUAcgBnAGUALAAgAGUAbQBiAGUAZAAsACAAbQBvAGQAaQBmAHkALAAgAHIAZQBkAGkAcwB0AHIAaQBiAHUAdABlACwAIABhAG4AZAAgAHMAZQBsAGwAIABtAG8AZABpAGYAaQBlAGQAIABhAG4AZAAgAHUAbgBtAG8AZABpAGYAaQBlAGQAIABjAG8AcABpAGUAcwAgAG8AZgAgAHQAaABlACAARgBvAG4AdAAgAFMAbwBmAHQAdwBhAHIAZQAsACAAcwB1AGIAagBlAGMAdAAgAHQAbwAgAHQAaABlACAAZgBvAGwAbABvAHcAaQBuAGcAIABjAG8AbgBkAGkAdABpAG8AbgBzADoADQAKAA0ACgAxACkAIABOAGUAaQB0AGgAZQByACAAdABoAGUAIABGAG8AbgB0ACAAUwBvAGYAdAB3AGEAcgBlACAAbgBvAHIAIABhAG4AeQAgAG8AZgAgAGkAdABzACAAaQBuAGQAaQB2AGkAZAB1AGEAbAAgAGMAbwBtAHAAbwBuAGUAbgB0AHMALAAgAGkAbgAgAE8AcgBpAGcAaQBuAGEAbAAgAG8AcgAgAE0AbwBkAGkAZgBpAGUAZAAgAFYAZQByAHMAaQBvAG4AcwAsACAAbQBhAHkAIABiAGUAIABzAG8AbABkACAAYgB5ACAAaQB0AHMAZQBsAGYALgANAAoADQAKADIAKQAgAE8AcgBpAGcAaQBuAGEAbAAgAG8AcgAgAE0AbwBkAGkAZgBpAGUAZAAgAFYAZQByAHMAaQBvAG4AcwAgAG8AZgAgAHQAaABlACAARgBvAG4AdAAgAFMAbwBmAHQAdwBhAHIAZQAgAG0AYQB5ACAAYgBlACAAYgB1AG4AZABsAGUAZAAsACAAcgBlAGQAaQBzAHQAcgBpAGIAdQB0AGUAZAAgAGEAbgBkAC8AbwByACAAcwBvAGwAZAAgAHcAaQB0AGgAIABhAG4AeQAgAHMAbwBmAHQAdwBhAHIAZQAsACAAcAByAG8AdgBpAGQAZQBkACAAdABoAGEAdAAgAGUAYQBjAGgAIABjAG8AcAB5ACAAYwBvAG4AdABhAGkAbgBzACAAdABoAGUAIABhAGIAbwB2AGUAIABjAG8AcAB5AHIAaQBnAGgAdAAgAG4AbwB0AGkAYwBlACAAYQBuAGQAIAB0AGgAaQBzACAAbABpAGMAZQBuAHMAZQAuACAAVABoAGUAcwBlACAAYwBhAG4AIABiAGUAIABpAG4AYwBsAHUAZABlAGQAIABlAGkAdABoAGUAcgAgAGEAcwAgAHMAdABhAG4AZAAtAGEAbABvAG4AZQAgAHQAZQB4AHQAIABmAGkAbABlAHMALAAgAGgAdQBtAGEAbgAtAHIAZQBhAGQAYQBiAGwAZQAgAGgAZQBhAGQAZQByAHMAIABvAHIAIABpAG4AIAB0AGgAZQAgAGEAcABwAHIAbwBwAHIAaQBhAHQAZQAgAG0AYQBjAGgAaQBuAGUALQByAGUAYQBkAGEAYgBsAGUAIABtAGUAdABhAGQAYQB0AGEAIABmAGkAZQBsAGQAcwAgAHcAaQB0AGgAaQBuACAAdABlAHgAdAAgAG8AcgAgAGIAaQBuAGEAcgB5ACAAZgBpAGwAZQBzACAAYQBzACAAbABvAG4AZwAgAGEAcwAgAHQAaABvAHMAZQAgAGYAaQBlAGwAZABzACAAYwBhAG4AIABiAGUAIABlAGEAcwBpAGwAeQAgAHYAaQBlAHcAZQBkACAAYgB5ACAAdABoAGUAIAB1AHMAZQByAC4ADQAKAA0ACgAzACkAIABOAG8AIABNAG8AZABpAGYAaQBlAGQAIABWAGUAcgBzAGkAbwBuACAAbwBmACAAdABoAGUAIABGAG8AbgB0ACAAUwBvAGYAdAB3AGEAcgBlACAAbQBhAHkAIAB1AHMAZQAgAHQAaABlACAAUgBlAHMAZQByAHYAZQBkACAARgBvAG4AdAAgAE4AYQBtAGUAKABzACkAIAB1AG4AbABlAHMAcwAgAGUAeABwAGwAaQBjAGkAdAAgAHcAcgBpAHQAdABlAG4AIABwAGUAcgBtAGkAcwBzAGkAbwBuACAAaQBzACAAZwByAGEAbgB0AGUAZAAgAGIAeQAgAHQAaABlACAAYwBvAHIAcgBlAHMAcABvAG4AZABpAG4AZwAgAEMAbwBwAHkAcgBpAGcAaAB0ACAASABvAGwAZABlAHIALgAgAFQAaABpAHMAIAByAGUAcwB0AHIAaQBjAHQAaQBvAG4AIABvAG4AbAB5ACAAYQBwAHAAbABpAGUAcwAgAHQAbwAgAHQAaABlACAAcAByAGkAbQBhAHIAeQAgAGYAbwBuAHQAIABuAGEAbQBlACAAYQBzACAAcAByAGUAcwBlAG4AdABlAGQAIAB0AG8AIAB0AGgAZQAgAHUAcwBlAHIAcwAuAA0ACgANAAoANAApACAAVABoAGUAIABuAGEAbQBlACgAcwApACAAbwBmACAAdABoAGUAIABDAG8AcAB5AHIAaQBnAGgAdAAgAEgAbwBsAGQAZQByACgAcwApACAAbwByACAAdABoAGUAIABBAHUAdABoAG8AcgAoAHMAKQAgAG8AZgAgAHQAaABlACAARgBvAG4AdAAgAFMAbwBmAHQAdwBhAHIAZQAgAHMAaABhAGwAbAAgAG4AbwB0ACAAYgBlACAAdQBzAGUAZAAgAHQAbwAgAHAAcgBvAG0AbwB0AGUALAAgAGUAbgBkAG8AcgBzAGUAIABvAHIAIABhAGQAdgBlAHIAdABpAHMAZQAgAGEAbgB5ACAATQBvAGQAaQBmAGkAZQBkACAAVgBlAHIAcwBpAG8AbgAsACAAZQB4AGMAZQBwAHQAIAB0AG8AIABhAGMAawBuAG8AdwBsAGUAZABnAGUAIAB0AGgAZQAgAGMAbwBuAHQAcgBpAGIAdQB0AGkAbwBuACgAcwApACAAbwBmACAAdABoAGUAIABDAG8AcAB5AHIAaQBnAGgAdAAgAEgAbwBsAGQAZQByACgAcwApACAAYQBuAGQAIAB0AGgAZQAgAEEAdQB0AGgAbwByACgAcwApACAAbwByACAAdwBpAHQAaAAgAHQAaABlAGkAcgAgAGUAeABwAGwAaQBjAGkAdAAgAHcAcgBpAHQAdABlAG4AIABwAGUAcgBtAGkAcwBzAGkAbwBuAC4ADQAKAA0ACgA1ACkAIABUAGgAZQAgAEYAbwBuAHQAIABTAG8AZgB0AHcAYQByAGUALAAgAG0AbwBkAGkAZgBpAGUAZAAgAG8AcgAgAHUAbgBtAG8AZABpAGYAaQBlAGQALAAgAGkAbgAgAHAAYQByAHQAIABvAHIAIABpAG4AIAB3AGgAbwBsAGUALAAgAG0AdQBzAHQAIABiAGUAIABkAGkAcwB0AHIAaQBiAHUAdABlAGQAIABlAG4AdABpAHIAZQBsAHkAIAB1AG4AZABlAHIAIAB0AGgAaQBzACAAbABpAGMAZQBuAHMAZQAsACAAYQBuAGQAIABtAHUAcwB0ACAAbgBvAHQAIABiAGUAIABkAGkAcwB0AHIAaQBiAHUAdABlAGQAIAB1AG4AZABlAHIAIABhAG4AeQAgAG8AdABoAGUAcgAgAGwAaQBjAGUAbgBzAGUALgAgAFQAaABlACAAcgBlAHEAdQBpAHIAZQBtAGUAbgB0ACAAZgBvAHIAIABmAG8AbgB0AHMAIAB0AG8AIAByAGUAbQBhAGkAbgAgAHUAbgBkAGUAcgAgAHQAaABpAHMAIABsAGkAYwBlAG4AcwBlACAAZABvAGUAcwAgAG4AbwB0ACAAYQBwAHAAbAB5ACAAdABvACAAYQBuAHkAIABkAG8AYwB1AG0AZQBuAHQAIABjAHIAZQBhAHQAZQBkACAAdQBzAGkAbgBnACAAdABoAGUAIABGAG8AbgB0ACAAUwBvAGYAdAB3AGEAcgBlAC4ADQAKAA0ACgBUAEUAUgBNAEkATgBBAFQASQBPAE4ADQAKAFQAaABpAHMAIABsAGkAYwBlAG4AcwBlACAAYgBlAGMAbwBtAGUAcwAgAG4AdQBsAGwAIABhAG4AZAAgAHYAbwBpAGQAIABpAGYAIABhAG4AeQAgAG8AZgAgAHQAaABlACAAYQBiAG8AdgBlACAAYwBvAG4AZABpAHQAaQBvAG4AcwAgAGEAcgBlACAAbgBvAHQAIABtAGUAdAAuAA0ACgANAAoARABJAFMAQwBMAEEASQBNAEUAUgANAAoAVABIAEUAIABGAE8ATgBUACAAUwBPAEYAVABXAEEAUgBFACAASQBTACAAUABSAE8AVgBJAEQARQBEACAAIgBBAFMAIABJAFMAIgAsACAAVwBJAFQASABPAFUAVAAgAFcAQQBSAFIAQQBOAFQAWQAgAE8ARgAgAEEATgBZACAASwBJAE4ARAAsACAARQBYAFAAUgBFAFMAUwAgAE8AUgAgAEkATQBQAEwASQBFAEQALAAgAEkATgBDAEwAVQBEAEkATgBHACAAQgBVAFQAIABOAE8AVAAgAEwASQBNAEkAVABFAEQAIABUAE8AIABBAE4AWQAgAFcAQQBSAFIAQQBOAFQASQBFAFMAIABPAEYAIABNAEUAUgBDAEgAQQBOAFQAQQBCAEkATABJAFQAWQAsACAARgBJAFQATgBFAFMAUwAgAEYATwBSACAAQQAgAFAAQQBSAFQASQBDAFUATABBAFIAIABQAFUAUgBQAE8AUwBFACAAQQBOAEQAIABOAE8ATgBJAE4ARgBSAEkATgBHAEUATQBFAE4AVAAgAE8ARgAgAEMATwBQAFkAUgBJAEcASABUACwAIABQAEEAVABFAE4AVAAsACAAVABSAEEARABFAE0AQQBSAEsALAAgAE8AUgAgAE8AVABIAEUAUgAgAFIASQBHAEgAVAAuACAASQBOACAATgBPACAARQBWAEUATgBUACAAUwBIAEEATABMACAAVABIAEUAIABDAE8AUABZAFIASQBHAEgAVAAgAEgATwBMAEQARQBSACAAQgBFACAATABJAEEAQgBMAEUAIABGAE8AUgAgAEEATgBZACAAQwBMAEEASQBNACwAIABEAEEATQBBAEcARQBTACAATwBSACAATwBUAEgARQBSACAATABJAEEAQgBJAEwASQBUAFkALAAgAEkATgBDAEwAVQBEAEkATgBHACAAQQBOAFkAIABHAEUATgBFAFIAQQBMACwAIABTAFAARQBDAEkAQQBMACwAIABJAE4ARABJAFIARQBDAFQALAAgAEkATgBDAEkARABFAE4AVABBAEwALAAgAE8AUgAgAEMATwBOAFMARQBRAFUARQBOAFQASQBBAEwAIABEAEEATQBBAEcARQBTACwAIABXAEgARQBUAEgARQBSACAASQBOACAAQQBOACAAQQBDAFQASQBPAE4AIABPAEYAIABDAE8ATgBUAFIAQQBDAFQALAAgAFQATwBSAFQAIABPAFIAIABPAFQASABFAFIAVwBJAFMARQAsACAAQQBSAEkAUwBJAE4ARwAgAEYAUgBPAE0ALAAgAE8AVQBUACAATwBGACAAVABIAEUAIABVAFMARQAgAE8AUgAgAEkATgBBAEIASQBMAEkAVABZACAAVABPACAAVQBTAEUAIABUAEgARQAgAEYATwBOAFQAIABTAE8ARgBUAFcAQQBSAEUAIABPAFIAIABGAFIATwBNACAATwBUAEgARQBSACAARABFAEEATABJAE4ARwBTACAASQBOACAAVABIAEUAIABGAE8ATgBUACAAUwBPAEYAVABXAEEAUgBFAC4ADQAKAGgAdAB0AHAAOgAvAC8AdwB3AHcALgBhAGQAbwBiAGUALgBjAG8AbQAvAHQAeQBwAGUALwBsAGUAZwBhAGwALgBoAHQAbQBsAAAAAAAFAAAAAwAAADgAAAAEAAABUAABAAAAAAAsAAMAAQAAADgAAwAKAAABUAAGAAwAAAAAAAEAAAAEARgAAABCAEAABQACB/8P/xf/H/8n/y//N/8//0f/T/9X/1//Z/9v/3f/f/+H/4//l/+f/6f/r/+3/7//x//P/9f/5//v//f//c///f//AAAAAAgAEAAYACAAKAAwADgAQABIAFAAWABgAGgAcAB4AIAAiACQAJgAoACoALAAuADAAMgA0ADgAOgA8AD4AP3w//8AAfgB8AHoAeAB2AHQAcgBwAG4AbABqAGgAZgBkAGIAYABeAFwAWgBYAFYAVABSAFAATgBMAEgARgBEAEIAQgBAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADAAAAAAZkAAAAAAAAAIgAAAAAAAAB/8AAAABAAAIAAAAD/8AAAABAAAQAAAAF/8AAAABAAAYAAAAH/8AAAABAAAgAAAAJ/8AAAABAAAoAAAAL/8AAAABAAAwAAAAN/8AAAABAAA4AAAAP/8AAAABAABAAAAAR/8AAAABAABIAAAAT/8AAAABAABQAAAAV/8AAAABAABYAAAAX/8AAAABAABgAAAAZ/8AAAABAABoAAAAb/8AAAABAABwAAAAd/8AAAABAAB4AAAAf/8AAAABAACAAAAAh/8AAAABAACIAAAAj/8AAAABAACQAAAAl/8AAAABAACYAAAAn/8AAAABAACgAAAAp/8AAAABAACoAAAAr/8AAAABAACwAAAAt/8AAAABAAC4AAAAv/8AAAABAADAAAAAx/8AAAABAADIAAAAz/8AAAABAADQAAAA1/8AAAABAADgAAAA5/8AAAABAADoAAAA7/8AAAABAADwAAAA9/8AAAABAAD4AAAA/c8AAAABAAD98AAA//0AAAXxAAEAAAABB/8AAAABAAEIAAABD/8AAAABAAEQAAABF/8AAAABAAEYAAABH/8AAAABAAEgAAABJ/8AAAABAAEoAAABL/8AAAABAAEwAAABN/8AAAABAAE4AAABP/8AAAABAAFAAAABR/8AAAABAAFIAAABT/8AAAABAAFQAAABV/8AAAABAAFYAAABX/8AAAABAAFgAAABZ/8AAAABAAFoAAABb/8AAAABAAFwAAABd/8AAAABAAF4AAABf/8AAAABAAGAAAABh/8AAAABAAGIAAABj/8AAAABAAGQAAABl/8AAAABAAGYAAABn/8AAAABAAGgAAABp/8AAAABAAGoAAABr/8AAAABAAGwAAABt/8AAAABAAG4AAABv/8AAAABAAHAAAABx/8AAAABAAHIAAABz/8AAAABAAHQAAAB1/8AAAABAAHYAAAB3/8AAAABAAHgAAAB5/8AAAABAAHoAAAB7/8AAAABAAHwAAAB9/8AAAABAAH4AAAB//0AAAABAAIAAAACB/8AAAABAAIIAAACD/8AAAABAAIQAAACF/8AAAABAAIYAAACH/8AAAABAAIgAAACJ/8AAAABAAIoAAACL/8AAAABAAIwAAACN/8AAAABAAI4AAACP/8AAAABAAJAAAACR/8AAAABAAJIAAACT/8AAAABAAJQAAACV/8AAAABAAJYAAACX/8AAAABAAJgAAACZ/8AAAABAAJoAAACb/8AAAABAAJwAAACd/8AAAABAAJ4AAACf/8AAAABAAKAAAACh/8AAAABAAKIAAACj/8AAAABAAKQAAACl/8AAAABAAKYAAACn/8AAAABAAKgAAACp/8AAAABAAKoAAACr/8AAAABAAKwAAACt/8AAAABAAK4AAACv/8AAAABAALAAAACx/8AAAABAALIAAACz/8AAAABAALQAAAC1/8AAAABAALYAAAC3/8AAAABAALgAAAC5/8AAAABAALoAAAC7/8AAAABAALwAAAC9/8AAAABAAL4AAAC//0AAAABAAMAAAADB/8AAAABAAMIAAADD/8AAAABAAMQAAADF/8AAAABAAMYAAADH/8AAAABAAMgAAADJ/8AAAABAAMoAAADL/8AAAABAAMwAAADN/8AAAABAAM4AAADP/8AAAABAANAAAADR/8AAAABAANIAAADT/8AAAABAANQAAADV/8AAAABAANYAAADX/8AAAABAANgAAADZ/8AAAABAANoAAADb/8AAAABAANwAAADd/8AAAABAAN4AAADf/8AAAABAAOAAAADh/8AAAABAAOIAAADj/8AAAABAAOQAAADl/8AAAABAAOYAAADn/8AAAABAAOgAAADp/8AAAABAAOoAAADr/8AAAABAAOwAAADt/8AAAABAAO4AAADv/8AAAABAAPAAAADx/8AAAABAAPIAAADz/8AAAABAAPQAAAD1/8AAAABAAPYAAAD3/8AAAABAAPgAAAD5/8AAAABAAPoAAAD7/8AAAABAAPwAAAD9/8AAAABAAP4AAAD//0AAAABAAQAAAAEB/8AAAABAAQIAAAED/8AAAABAAQQAAAEF/8AAAABAAQYAAAEH/8AAAABAAQgAAAEJ/8AAAABAAQoAAAEL/8AAAABAAQwAAAEN/8AAAABAAQ4AAAEP/8AAAABAARAAAAER/8AAAABAARIAAAET/8AAAABAARQAAAEV/8AAAABAARYAAAEX/8AAAABAARgAAAEZ/8AAAABAARoAAAEb/8AAAABAARwAAAEd/8AAAABAAR4AAAEf/8AAAABAASAAAAEh/8AAAABAASIAAAEj/8AAAABAASQAAAEl/8AAAABAASYAAAEn/8AAAABAASgAAAEp/8AAAABAASoAAAEr/8AAAABAASwAAAEt/8AAAABAAS4AAAEv/8AAAABAATAAAAEx/8AAAABAATIAAAEz/8AAAABAATQAAAE1/8AAAABAATYAAAE3/8AAAABAATgAAAE5/8AAAABAAToAAAE7/8AAAABAATwAAAE9/8AAAABAAT4AAAE//0AAAABAAUAAAAFB/8AAAABAAUIAAAFD/8AAAABAAUQAAAFF/8AAAABAAUYAAAFH/8AAAABAAUgAAAFJ/8AAAABAAUoAAAFL/8AAAABAAUwAAAFN/8AAAABAAU4AAAFP/8AAAABAAVAAAAFR/8AAAABAAVIAAAFT/8AAAABAAVQAAAFV/8AAAABAAVYAAAFX/8AAAABAAVgAAAFZ/8AAAABAAVoAAAFb/8AAAABAAVwAAAFd/8AAAABAAV4AAAFf/8AAAABAAWAAAAFh/8AAAABAAWIAAAFj/8AAAABAAWQAAAFl/8AAAABAAWYAAAFn/8AAAABAAWgAAAFp/8AAAABAAWoAAAFr/8AAAABAAWwAAAFt/8AAAABAAW4AAAFv/8AAAABAAXAAAAFx/8AAAABAAXIAAAFz/8AAAABAAXQAAAF1/8AAAABAAXYAAAF3/8AAAABAAXgAAAF5/8AAAABAAXoAAAF7/8AAAABAAXwAAAF9/8AAAABAAX4AAAF//0AAAABAAYAAAAGB/8AAAABAAYIAAAGD/8AAAABAAYQAAAGF/8AAAABAAYYAAAGH/8AAAABAAYgAAAGJ/8AAAABAAYoAAAGL/8AAAABAAYwAAAGN/8AAAABAAY4AAAGP/8AAAABAAZAAAAGR/8AAAABAAZIAAAGT/8AAAABAAZQAAAGV/8AAAABAAZYAAAGX/8AAAABAAZgAAAGZ/8AAAABAAZoAAAGb/8AAAABAAZwAAAGd/8AAAABAAZ4AAAGf/8AAAABAAaAAAAGh/8AAAABAAaIAAAGj/8AAAABAAaQAAAGl/8AAAABAAaYAAAGn/8AAAABAAagAAAGp/8AAAABAAaoAAAGr/8AAAABAAawAAAGt/8AAAABAAa4AAAGv/8AAAABAAbAAAAGx/8AAAABAAbIAAAGz/8AAAABAAbQAAAG1/8AAAABAAbYAAAG3/8AAAABAAbgAAAG5/8AAAABAAboAAAG7/8AAAABAAbwAAAG9/8AAAABAAb4AAAG//0AAAABAAcAAAAHB/8AAAABAAcIAAAHD/8AAAABAAcQAAAHF/8AAAABAAcYAAAHH/8AAAABAAcgAAAHJ/8AAAABAAcoAAAHL/8AAAABAAcwAAAHN/8AAAABAAc4AAAHP/8AAAABAAdAAAAHR/8AAAABAAdIAAAHT/8AAAABAAdQAAAHV/8AAAABAAdYAAAHX/8AAAABAAdgAAAHZ/8AAAABAAdoAAAHb/8AAAABAAdwAAAHd/8AAAABAAd4AAAHf/8AAAABAAeAAAAHh/8AAAABAAeIAAAHj/8AAAABAAeQAAAHl/8AAAABAAeYAAAHn/8AAAABAAegAAAHp/8AAAABAAeoAAAHr/8AAAABAAewAAAHt/8AAAABAAe4AAAHv/8AAAABAAfAAAAHx/8AAAABAAfIAAAHz/8AAAABAAfQAAAH1/8AAAABAAfYAAAH3/8AAAABAAfgAAAH5/8AAAABAAfoAAAH7/8AAAABAAfwAAAH9/8AAAABAAf4AAAH//0AAAABAAgAAAAIB/8AAAABAAgIAAAID/8AAAABAAgQAAAIF/8AAAABAAgYAAAIH/8AAAABAAggAAAIJ/8AAAABAAgoAAAIL/8AAAABAAgwAAAIN/8AAAABAAg4AAAIP/8AAAABAAhAAAAIR/8AAAABAAhIAAAIT/8AAAABAAhQAAAIV/8AAAABAAhYAAAIX/8AAAABAAhgAAAIZ/8AAAABAAhoAAAIb/8AAAABAAhwAAAId/8AAAABAAh4AAAIf/8AAAABAAiAAAAIh/8AAAABAAiIAAAIj/8AAAABAAiQAAAIl/8AAAABAAiYAAAIn/8AAAABAAigAAAIp/8AAAABAAioAAAIr/8AAAABAAiwAAAIt/8AAAABAAi4AAAIv/8AAAABAAjAAAAIx/8AAAABAAjIAAAIz/8AAAABAAjQAAAI1/8AAAABAAjYAAAI3/8AAAABAAjgAAAI5/8AAAABAAjoAAAI7/8AAAABAAjwAAAI9/8AAAABAAj4AAAI//0AAAABAAkAAAAJB/8AAAABAAkIAAAJD/8AAAABAAkQAAAJF/8AAAABAAkYAAAJH/8AAAABAAkgAAAJJ/8AAAABAAkoAAAJL/8AAAABAAkwAAAJN/8AAAABAAk4AAAJP/8AAAABAAlAAAAJR/8AAAABAAlIAAAJT/8AAAABAAlQAAAJV/8AAAABAAlYAAAJX/8AAAABAAlgAAAJZ/8AAAABAAloAAAJb/8AAAABAAlwAAAJd/8AAAABAAl4AAAJf/8AAAABAAmAAAAJh/8AAAABAAmIAAAJj/8AAAABAAmQAAAJl/8AAAABAAmYAAAJn/8AAAABAAmgAAAJp/8AAAABAAmoAAAJr/8AAAABAAmwAAAJt/8AAAABAAm4AAAJv/8AAAABAAnAAAAJx/8AAAABAAnIAAAJz/8AAAABAAnQAAAJ1/8AAAABAAnYAAAJ3/8AAAABAAngAAAJ5/8AAAABAAnoAAAJ7/8AAAABAAnwAAAJ9/8AAAABAAn4AAAJ//0AAAABAAoAAAAKB/8AAAABAAoIAAAKD/8AAAABAAoQAAAKF/8AAAABAAoYAAAKH/8AAAABAAogAAAKJ/8AAAABAAooAAAKL/8AAAABAAowAAAKN/8AAAABAAo4AAAKP/8AAAABAApAAAAKR/8AAAABAApIAAAKT/8AAAABAApQAAAKV/8AAAABAApYAAAKX/8AAAABAApgAAAKZ/8AAAABAApoAAAKb/8AAAABAApwAAAKd/8AAAABAAp4AAAKf/8AAAABAAqAAAAKh/8AAAABAAqIAAAKj/8AAAABAAqQAAAKl/8AAAABAAqYAAAKn/8AAAABAAqgAAAKp/8AAAABAAqoAAAKr/8AAAABAAqwAAAKt/8AAAABAAq4AAAKv/8AAAABAArAAAAKx/8AAAABAArIAAAKz/8AAAABAArQAAAK1/8AAAABAArYAAAK3/8AAAABAArgAAAK5/8AAAABAAroAAAK7/8AAAABAArwAAAK9/8AAAABAAr4AAAK//0AAAABAAsAAAALB/8AAAABAAsIAAALD/8AAAABAAsQAAALF/8AAAABAAsYAAALH/8AAAABAAsgAAALJ/8AAAABAAsoAAALL/8AAAABAAswAAALN/8AAAABAAs4AAALP/8AAAABAAtAAAALR/8AAAABAAtIAAALT/8AAAABAAtQAAALV/8AAAABAAtYAAALX/8AAAABAAtgAAALZ/8AAAABAAtoAAALb/8AAAABAAtwAAALd/8AAAABAAt4AAALf/8AAAABAAuAAAALh/8AAAABAAuIAAALj/8AAAABAAuQAAALl/8AAAABAAuYAAALn/8AAAABAAugAAALp/8AAAABAAuoAAALr/8AAAABAAuwAAALt/8AAAABAAu4AAALv/8AAAABAAvAAAALx/8AAAABAAvIAAALz/8AAAABAAvQAAAL1/8AAAABAAvYAAAL3/8AAAABAAvgAAAL5/8AAAABAAvoAAAL7/8AAAABAAvwAAAL9/8AAAABAAv4AAAL//0AAAABAAwAAAAMB/8AAAABAAwIAAAMD/8AAAABAAwQAAAMF/8AAAABAAwYAAAMH/8AAAABAAwgAAAMJ/8AAAABAAwoAAAML/8AAAABAAwwAAAMN/8AAAABAAw4AAAMP/8AAAABAAxAAAAMR/8AAAABAAxIAAAMT/8AAAABAAxQAAAMV/8AAAABAAxYAAAMX/8AAAABAAxgAAAMZ/8AAAABAAxoAAAMb/8AAAABAAxwAAAMd/8AAAABAAx4AAAMf/8AAAABAAyAAAAMh/8AAAABAAyIAAAMj/8AAAABAAyQAAAMl/8AAAABAAyYAAAMn/8AAAABAAygAAAMp/8AAAABAAyoAAAMr/8AAAABAAywAAAMt/8AAAABAAy4AAAMv/8AAAABAAzAAAAMx/8AAAABAAzIAAAMz/8AAAABAAzQAAAM1/8AAAABAAzYAAAM3/8AAAABAAzgAAAM5/8AAAABAAzoAAAM7/8AAAABAAzwAAAM9/8AAAABAAz4AAAM//0AAAABAA0AAAANB/8AAAABAA0IAAAND/8AAAABAA0QAAANF/8AAAABAA0YAAANH/8AAAABAA0gAAANJ/8AAAABAA0oAAANL/8AAAABAA0wAAANN/8AAAABAA04AAANP/8AAAABAA1AAAANR/8AAAABAA1IAAANT/8AAAABAA1QAAANV/8AAAABAA1YAAANX/8AAAABAA1gAAANZ/8AAAABAA1oAAANb/8AAAABAA1wAAANd/8AAAABAA14AAANf/8AAAABAA2AAAANh/8AAAABAA2IAAANj/8AAAABAA2QAAANl/8AAAABAA2YAAANn/8AAAABAA2gAAANp/8AAAABAA2oAAANr/8AAAABAA2wAAANt/8AAAABAA24AAANv/8AAAABAA3AAAANx/8AAAABAA3IAAANz/8AAAABAA3QAAAN1/8AAAABAA3YAAAN3/8AAAABAA3gAAAN5/8AAAABAA3oAAAN7/8AAAABAA3wAAAN9/8AAAABAA34AAAN//0AAAABAA4AAAAOB/8AAAABAA4IAAAOD/8AAAABAA4QAAAOF/8AAAABAA4YAAAOH/8AAAABAA4gAAAOJ/8AAAABAA4oAAAOL/8AAAABAA4wAAAON/8AAAABAA44AAAOP/8AAAABAA5AAAAOR/8AAAABAA5IAAAOT/8AAAABAA5QAAAOV/8AAAABAA5YAAAOX/8AAAABAA5gAAAOZ/8AAAABAA5oAAAOb/8AAAABAA5wAAAOd/8AAAABAA54AAAOf/8AAAABAA6AAAAOh/8AAAABAA6IAAAOj/8AAAABAA6QAAAOl/8AAAABAA6YAAAOn/8AAAABAA6gAAAOp/8AAAABAA6oAAAOr/8AAAABAA6wAAAOt/8AAAABAA64AAAOv/8AAAABAA7AAAAOx/8AAAABAA7IAAAOz/8AAAABAA7QAAAO1/8AAAABAA7YAAAO3/8AAAABAA7gAAAO5/8AAAABAA7oAAAO7/8AAAABAA7wAAAO9/8AAAABAA74AAAO//0AAAABAA8AAAAPB/8AAAABAA8IAAAPD/8AAAABAA8QAAAPF/8AAAABAA8YAAAPH/8AAAABAA8gAAAPJ/8AAAABAA8oAAAPL/8AAAABAA8wAAAPN/8AAAABAA84AAAPP/8AAAABAA9AAAAPR/8AAAABAA9IAAAPT/8AAAABAA9QAAAPV/8AAAABAA9YAAAPX/8AAAABAA9gAAAPZ/8AAAABAA9oAAAPb/8AAAABAA9wAAAPd/8AAAABAA94AAAPf/8AAAABAA+AAAAPh/8AAAABAA+IAAAPj/8AAAABAA+QAAAPl/8AAAABAA+YAAAPn/8AAAABAA+gAAAPp/8AAAABAA+oAAAPr/8AAAABAA+wAAAPt/8AAAABAA+4AAAPv/8AAAABAA/AAAAPx/8AAAABAA/IAAAPz/8AAAABAA/QAAAP1/8AAAABAA/YAAAP3/8AAAABAA/gAAAP5/8AAAABAA/oAAAP7/8AAAABAA/wAAAP9/8AAAABAA/4AAAP//0AAAABABAAAAAQB/8AAAABABAIAAAQD/8AAAABABAQAAAQF/8AAAABABAYAAAQH/8AAAABABAgAAAQJ/8AAAABABAoAAAQL/8AAAABABAwAAAQN/8AAAABABA4AAAQP/8AAAABABBAAAAQR/8AAAABABBIAAAQT/8AAAABABBQAAAQV/8AAAABABBYAAAQX/8AAAABABBgAAAQZ/8AAAABABBoAAAQb/8AAAABABBwAAAQd/8AAAABABB4AAAQf/8AAAABABCAAAAQh/8AAAABABCIAAAQj/8AAAABABCQAAAQl/8AAAABABCYAAAQn/8AAAABABCgAAAQp/8AAAABABCoAAAQr/8AAAABABCwAAAQt/8AAAABABC4AAAQv/8AAAABABDAAAAQx/8AAAABABDIAAAQz/8AAAABABDQAAAQ1/8AAAABABDYAAAQ3/8AAAABABDgAAAQ5/8AAAABABDoAAAQ7/8AAAABABDwAAAQ9/8AAAABABD4AAAQ//0AAAABAAMAAAAAAAD/tQAyAAAAAAAAAAAAAAAAAAAAAAAAAAABAAQCAAEBAQtBZG9iZUJsYW5rAAEBATD4G/gciwwe+B0B+B4Ci/sM+gD6BAUeGgA/DB8cCAEMIvdMD/dZEfdRDCUcGRYMJAAFAQEGDk1YZ0Fkb2JlSWRlbnRpdHlDb3B5cmlnaHQgMjAxMyBBZG9iZSBTeXN0ZW1zIEluY29ycG9yYXRlZC4gQWxsIFJpZ2h0cyBSZXNlcnZlZC5BZG9iZSBCbGFua0Fkb2JlQmxhbmstMjA0OQAAAgABB/8DAAEAAAAIAQgBAgABAEsATABNAE4ATwBQAFEAUgBTAFQAVQBWAFcAWABZAFoAWwBcAF0AXgBfAGAAYQBiAGMAZABlAGYAZwBoAGkAagBrAGwAbQBuAG8AcABxAHIAcwB0AHUAdgB3AHgAeQB6AHsAfAB9AH4AfwCAAIEAggCDAIQAhQCGAIcAiACJAIoAiwCMAI0AjgCPAJAAkQCSAJMAlACVAJYAlwCYAJkAmgCbAJwAnQCeAJ8AoAChAKIAowCkAKUApgCnAKgAqQCqAKsArACtAK4ArwCwALEAsgCzALQAtQC2ALcAuAC5ALoAuwC8AL0AvgC/AMAAwQDCAMMAxADFAMYAxwDIAMkAygDLAMwAzQDOAM8A0ADRANIA0wDUANUA1gDXANgA2QDaANsA3ADdAN4A3wDgAOEA4gDjAOQA5QDmAOcA6ADpAOoA6wDsAO0A7gDvAPAA8QDyAPMA9AD1APYA9wD4APkA+gD7APwA/QD+AP8BAAEBAQIBAwEEAQUBBgEHAQgBCQEKAQsBDAENAQ4BDwEQAREBEgETARQBFQEWARcBGAEZARoBGwEcAR0BHgEfASABIQEiASMBJAElASYBJwEoASkBKgErASwBLQEuAS8BMAExATIBMwE0ATUBNgE3ATgBOQE6ATsBPAE9AT4BPwFAAUEBQgFDAUQBRQFGAUcBSAFJAUoBSwFMAU0BTgFPAVABUQFSAVMBVAFVAVYBVwFYAVkBWgFbAVwBXQFeAV8BYAFhAWIBYwFkAWUBZgFnAWgBaQFqAWsBbAFtAW4BbwFwAXEBcgFzAXQBdQF2AXcBeAF5AXoBewF8AX0BfgF/AYABgQGCAYMBhAGFAYYBhwGIAYkBigGLAYwBjQGOAY8BkAGRAZIBkwGUAZUBlgGXAZgBmQGaAZsBnAGdAZ4BnwGgAaEBogGjAaQBpQGmAacBqAGpAaoBqwGsAa0BrgGvAbABsQGyAbMBtAG1AbYBtwG4AbkBugG7AbwBvQG+Ab8BwAHBAcIBwwHEAcUBxgHHAcgByQHKAcsBzAHNAc4BzwHQAdEB0gHTAdQB1QHWAdcB2AHZAdoB2wHcAd0B3gHfAeAB4QHiAeMB5AHlAeYB5wHoAekB6gHrAewB7QHuAe8B8AHxAfIB8wH0AfUB9gH3AfgB+QH6AfsB/AH9Af4B/wIAAgECAgIDAgQCBQIGAgcCCAIJAgoCCwIMAg0CDgIPAhACEQISAhMCFAIVAhYCFwIYAhkCGgIbAhwCHQIeAh8CIAIhAiICIwIkAiUCJgInAigCKQIqAisCLAItAi4CLwIwAjECMgIzAjQCNQI2AjcCOAI5AjoCOwI8Aj0CPgI/AkACQQJCAkMCRAJFAkYCRwJIAkkCSgJLAkwCTQJOAk8CUAJRAlICUwJUAlUCVgJXAlgCWQJaAlsCXAJdAl4CXwJgAmECYgJjAmQCZQJmAmcCaAJpAmoCawJsAm0CbgJvAnACcQJyAnMCdAJ1AnYCdwJ4AnkCegJ7AnwCfQJ+An8CgAKBAoICgwKEAoUChgKHAogCiQKKAosCjAKNAo4CjwKQApECkgKTApQClQKWApcCmAKZApoCmwKcAp0CngKfAqACoQKiAqMCpAKlAqYCpwKoAqkCqgKrAqwCrQKuAq8CsAKxArICswK0ArUCtgK3ArgCuQK6ArsCvAK9Ar4CvwLAAsECwgLDAsQCxQLGAscCyALJAsoCywLMAs0CzgLPAtAC0QLSAtMC1ALVAtYC1wLYAtkC2gLbAtwC3QLeAt8C4ALhAuIC4wLkAuUC5gLnAugC6QLqAusC7ALtAu4C7wLwAvEC8gLzAvQC9QL2AvcC+AL5AvoC+wL8Av0C/gL/AwADAQMCAwMDBAMFAwYDBwMIAwkDCgMLAwwDDQMOAw8DEAMRAxIDEwMUAxUDFgMXAxgDGQMaAxsDHAMdAx4DHwMgAyEDIgMjAyQDJQMmAycDKAMpAyoDKwMsAy0DLgMvAzADMQMyAzMDNAM1AzYDNwM4AzkDOgM7AzwDPQM+Az8DQANBA0IDQwNEA0UDRgNHA0gDSQNKA0sDTANNA04DTwNQA1EDUgNTA1QDVQNWA1cDWANZA1oDWwNcA10DXgNfA2ADYQNiA2MDZANlA2YDZwNoA2kDagNrA2wDbQNuA28DcANxA3IDcwN0A3UDdgN3A3gDeQN6A3sDfAN9A34DfwOAA4EDggODA4QDhQOGA4cDiAOJA4oDiwOMA40DjgOPA5ADkQOSA5MDlAOVA5YDlwOYA5kDmgObA5wDnQOeA58DoAOhA6IDowOkA6UDpgOnA6gDqQOqA6sDrAOtA64DrwOwA7EDsgOzA7QDtQO2A7cDuAO5A7oDuwO8A70DvgO/A8ADwQPCA8MDxAPFA8YDxwPIA8kDygPLA8wDzQPOA88D0APRA9ID0wPUA9UD1gPXA9gD2QPaA9sD3APdA94D3wPgA+ED4gPjA+QD5QPmA+cD6APpA+oD6wPsA+0D7gPvA/AD8QPyA/MD9AP1A/YD9wP4A/kD+gP7A/wD/QP+A/8EAAQBBAIEAwQEBAUEBgQHBAgECQQKBAsEDAQNBA4EDwQQBBEEEgQTBBQEFQQWBBcEGAQZBBoEGwQcBB0EHgQfBCAEIQQiBCMEJAQlBCYEJwQoBCkEKgQrBCwELQQuBC8EMAQxBDIEMwQ0BDUENgQ3BDgEOQQ6BDsEPAQ9BD4EPwRABEEEQgRDBEQERQRGBEcESARJBEoESwRMBE0ETgRPBFAEUQRSBFMEVARVBFYEVwRYBFkEWgRbBFwEXQReBF8EYARhBGIEYwRkBGUEZgRnBGgEaQRqBGsEbARtBG4EbwRwBHEEcgRzBHQEdQR2BHcEeAR5BHoEewR8BH0EfgR/BIAEgQSCBIMEhASFBIYEhwSIBIkEigSLBIwEjQSOBI8EkASRBJIEkwSUBJUElgSXBJgEmQSaBJsEnASdBJ4EnwSgBKEEogSjBKQEpQSmBKcEqASpBKoEqwSsBK0ErgSvBLAEsQSyBLMEtAS1BLYEtwS4BLkEugS7BLwEvQS+BL8EwATBBMIEwwTEBMUExgTHBMgEyQTKBMsEzATNBM4EzwTQBNEE0gTTBNQE1QTWBNcE2ATZBNoE2wTcBN0E3gTfBOAE4QTiBOME5ATlBOYE5wToBOkE6gTrBOwE7QTuBO8E8ATxBPIE8wT0BPUE9gT3BPgE+QT6BPsE/AT9BP4E/wUABQEFAgUDBQQFBQUGBQcFCAUJBQoFCwUMBQ0FDgUPBRAFEQUSBRMFFAUVBRYFFwUYBRkFGgUbBRwFHQUeBR8FIAUhBSIFIwUkBSUFJgUnBSgFKQUqBSsFLAUtBS4FLwUwBTEFMgUzBTQFNQU2BTcFOAU5BToFOwU8BT0FPgU/BUAFQQVCBUMFRAVFBUYFRwVIBUkFSgVLBUwFTQVOBU8FUAVRBVIFUwVUBVUFVgVXBVgFWQVaBVsFXAVdBV4FXwVgBWEFYgVjBWQFZQVmBWcFaAVpBWoFawVsBW0FbgVvBXAFcQVyBXMFdAV1BXYFdwV4BXkFegV7BXwFfQV+BX8FgAWBBYIFgwWEBYUFhgWHBYgFiQWKBYsFjAWNBY4FjwWQBZEFkgWTBZQFlQWWBZcFmAWZBZoFmwWcBZ0FngWfBaAFoQWiBaMFpAWlBaYFpwWoBakFqgWrBawFrQWuBa8FsAWxBbIFswW0BbUFtgW3BbgFuQW6BbsFvAW9Bb4FvwXABcEFwgXDBcQFxQXGBccFyAXJBcoFywXMBc0FzgXPBdAF0QXSBdMF1AXVBdYF1wXYBdkF2gXbBdwF3QXeBd8F4AXhBeIF4wXkBeUF5gXnBegF6QXqBesF7AXtBe4F7wXwBfEF8gXzBfQF9QX2BfcF+AX5BfoF+wX8Bf0F/gX/BgAGAQYCBgMGBAYFBgYGBwYIBgkGCgYLBgwGDQYOBg8GEAYRBhIGEwYUBhUGFgYXBhgGGQYaBhsGHAYdBh4GHwYgBiEGIgYjBiQGJQYmBicGKAYpBioGKwYsBi0GLgYvBjAGMQYyBjMGNAY1BjYGNwY4BjkGOgY7BjwGPQY+Bj8GQAZBBkIGQwZEBkUGRgZHBkgGSQZKBksGTAZNBk4GTwZQBlEGUgZTBlQGVQZWBlcGWAZZBloGWwZcBl0GXgZfBmAGYQZiBmMGZAZlBmYGZwZoBmkGagZrBmwGbQZuBm8GcAZxBnIGcwZ0BnUGdgZ3BngGeQZ6BnsGfAZ9Bn4GfwaABoEGggaDBoQGhQaGBocGiAaJBooGiwaMBo0GjgaPBpAGkQaSBpMGlAaVBpYGlwaYBpkGmgabBpwGnQaeBp8GoAahBqIGowakBqUGpganBqgGqQaqBqsGrAatBq4GrwawBrEGsgazBrQGtQa2BrcGuAa5BroGuwa8Br0Gvga/BsAGwQbCBsMGxAbFBsYGxwbIBskGygbLBswGzQbOBs8G0AbRBtIG0wbUBtUG1gbXBtgG2QbaBtsG3AbdBt4G3wbgBuEG4gbjBuQG5QbmBucG6AbpBuoG6wbsBu0G7gbvBvAG8QbyBvMG9Ab1BvYG9wb4BvkG+gb7BvwG/Qb+Bv8HAAcBBwIHAwcEBwUHBgcHBwgHCQcKBwsHDAcNBw4HDwcQBxEHEgcTBxQHFQcWBxcHGAcZBxoHGwccBx0HHgcfByAHIQciByMHJAclByYHJwcoBykHKgcrBywHLQcuBy8HMAcxBzIHMwc0BzUHNgc3BzgHOQc6BzsHPAc9Bz4HPwdAB0EHQgdDB0QHRQdGB0cHSAdJB0oHSwdMB00HTgdPB1AHUQdSB1MHVAdVB1YHVwdYB1kHWgdbB1wHXQdeB18HYAdhB2IHYwdkB2UHZgdnB2gHaQdqB2sHbAdtB24HbwdwB3EHcgdzB3QHdQd2B3cHeAd5B3oHewd8B30Hfgd/B4AHgQeCB4MHhAeFB4YHhweIB4kHigeLB4wHjQeOB48HkAeRB5IHkweUB5UHlgeXB5gHmQeaB5sHnAedB54HnwegB6EHogejB6QHpQemB6cHqAepB6oHqwesB60HrgevB7AHsQeyB7MHtAe1B7YHtwe4B7kHuge7B7wHvQe+B78HwAfBB8IHwwfEB8UHxgfHB8gHyQfKB8sHzAfNB84HzwfQB9EH0gfTB9QH1QfWB9cH2AfZB9oH2wfcB90H3gffB+AH4QfiB+MH5AflB+YH5wfoB+kH6gfrB+wH7QfuB+8H8AfxB/IH8wf0B/UH9gf3B/gH+Qf6B/sH/Af9B/4H/wgACAEIAggDCAQIBQgGCAcICAgJCAoICwgMCA0IDggPCBAIEQgSCBMIFAgVCBYIFwgYCBkIGggbCBwIHQgeCB8IIAghCCIIIwgkCCUIJggnCCgIKQgqCCsILAgtCC4ILwgwCDEIMggzCDQINQg2CDcIOAg5CDoIOwg8CD0IPgg/CEAIQQhCCEMIRAhFCEYIRwhICEkISghLIPsMt/oktwH3ELf5LLcD9xD6BBX+fPmE+nwH/Vj+JxX50gf3xfwzBaawFfvF+DcF+PYGpmIV/dIH+8X4MwVwZhX3xfw3Bfz2Bg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODgABAQEK+B8MJpocGSQS+46LHAVGiwa9Cr0L+ucVAAPoAHwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAA') format('truetype'); }";
c.fontStyleAliasesMap={n:"normal",b:"bold",i:"italic",o:"oblique"};c.fontStretchAliasesMap={a:"ultra-condensed",b:"extra-condensed",c:"condensed",d:"semi-condensed",n:"normal",e:"semi-expanded",f:"expanded",g:"extra-expanded",h:"ultra-expanded"};c.prototype={constructor:c,loadFonts:function(){var a=this;if(this._started)throw Error("FontLoader: loadFonts can not be called twice. Create new FontLoader to load different fonts.");this._started=!0;if(0===this._numberOfFonts)this._finish();else if(null!==
this.timeout&&(this._timeoutId=window.setTimeout(function(){a._finish()},this.timeout)),this._testContainer=this._document.createElement("div"),this._testContainer.style.cssText="position:absolute; left:-10000px; top:-10000px; white-space:nowrap; font-size:20px; line-height:20px;",this._testDiv=this._document.createElement("div"),this._testDiv.style.position="absolute",this._testDiv.appendChild(this._document.createTextNode(c.referenceText)),c.useAdobeBlank)c.adobeBlankReferenceSize?this._loadFonts():
this._loadAdobeBlankFont();else{var b=this._getNewFontVariationsFromFonts(this._fontsArray);b.length&&this._extractReferenceFontSizes(b);this._loadFonts()}},_extractReferenceFontSizes:function(a){var b,d;var f=this._testDiv.cloneNode(!0);this._testContainer.appendChild(f);this._document.body.appendChild(this._testContainer);for(d=0;d<a.length;d++){var g=a[d];var e=g.key;c.referenceFontFamilyVariationSizes[e]=[];for(b=0;b<c.referenceFontFamilies.length;b++){f.style.fontFamily=c.referenceFontFamilies[b];
f.style.fontWeight=g.weight;f.style.fontStyle=g.style;f.style.fontStretch=g.stretch;var k=new h(f.offsetWidth,f.offsetHeight);c.referenceFontFamilyVariationSizes[e].push(k)}}this._testContainer.parentNode.removeChild(this._testContainer);f.parentNode.removeChild(f)},_loadAdobeBlankFont:function(){var a=this;this._addAdobeBlankFontFaceIfNeeded();var b=this._testDiv.cloneNode(!0);this._testContainer.appendChild(b);this._document.body.appendChild(this._testContainer);c.useIntervalChecking?(b.style.fontFamily=
c.referenceFontFamilies[0]+", serif",this._testContainer.appendChild(b),this._intervalId=window.setInterval(function(){a._checkAdobeBlankSize()},this._intervalDelay),this._checkAdobeBlankSize()):(b.style.fontFamily="serif",this._adobeBlankSizeWatcher=new d(b,{container:this._testContainer,delegate:this,continuous:!0,direction:d.directions.decrease,dimension:d.dimensions.horizontal,document:this._document}),this._adobeBlankSizeWatcher.prepareForWatch(),this._adobeBlankSizeWatcher.beginWatching(),b.style.fontFamily=
c.referenceFontFamilies[0]+", serif")},_getNewFontVariationsFromFonts:function(a){var b,d=[],f={};for(b=0;b<a.length;b++){var g=a[b];var e=g.variationKey();e in f||e in c.referenceFontFamilyVariationSizes||(f[e]=!0,d.push({key:e,weight:g.weight,style:g.style,stretch:g.stretch}))}return d},_parseFonts:function(a){var b=[],c,d={};for(c=0;c<a.length;c++){var g=a[c];"string"===typeof g?-1<g.indexOf(":")?b=b.concat(this._parseFVD(g)):b.push(new l({family:g,weight:400,style:"normal",stretch:"normal"})):
b.push(new l(g))}a=[];for(c=0;c<b.length;c++)g=b[c].fontKey(),g in d||(d[g]=!0,a.push(b[c]));return a},_parseFVD:function(a){var b=[],d=a.split(":"),f;var g=d[0];d=d[1].split(",");for(f=0;f<d.length;f++){var e=d[f];if(2>e.length||3<e.length)throw Error("Invalid Font Variation Description: '"+a+"', number of variation characters must be 2 or 3");var k=e[0];var h=e[1];var m="n";3===e.length&&(m=e[2]);if(k in c.fontStyleAliasesMap)e=c.fontStyleAliasesMap[k];else throw Error("Invalid Font Variation Description: '"+
a+"', the first variant character is not complying to FVD font-style specification");h=parseInt(h,10);if(isNaN(h))throw Error("Invalid Font Variation Description: '"+a+"', the second variant character is not complying to FVD font-weight specification");h*=100;if(m in c.fontStretchAliasesMap)m=c.fontStretchAliasesMap[m];else throw Error("Invalid Font Variation Description: '"+a+"', the third variant character is not complying to FVD font-stretch specification");b.push(new l({family:g,weight:h,style:e,
stretch:m}))}return b},_addAdobeBlankFontFaceIfNeeded:function(){if(!this._document.getElementById(c.adobeBlankFontFaceStyleId)){var a=this._document.createElement("style");a.setAttribute("type","text/css");a.setAttribute("id",c.adobeBlankFontFaceStyleId);a.appendChild(this._document.createTextNode(c.adobeBlankFontFaceRule));this._document.getElementsByTagName("head")[0].appendChild(a)}},_checkAdobeBlankSize:function(){this._adobeBlankLoaded(this._testContainer.firstChild)},_adobeBlankLoaded:function(a){0===
a.offsetWidth&&(c.adobeBlankReferenceSize=new h(a.offsetWidth,a.offsetHeight),null!==this._adobeBlankSizeWatcher?(this._adobeBlankSizeWatcher.endWatching(),this._adobeBlankSizeWatcher.removeScrollWatchers(),this._adobeBlankSizeWatcher=null):(window.clearInterval(this._intervalId),a.parentNode.removeChild(a)),this._testContainer.parentNode.removeChild(this._testContainer),this._loadFonts())},_cloneNodeSetStyleAndAttributes:function(a,b,c){var d=this._testDiv.cloneNode(!0);d.style.fontWeight=a.weight;
d.style.fontStyle=a.style;d.style.fontStretch=a.stretch;d.setAttribute("data-font-map-key",b);d.setAttribute("data-ref-font-family-index",String(c));return d},_getFontMapKeyFromElement:function(a){return a.getAttribute("data-font-map-key")},_getFontFromElement:function(a){a=this._getFontMapKeyFromElement(a);return this._fontsMap[a]},_getFontFamilyFromElement:function(a){return this._getFontFromElement(a).family},_getReferenceFontFamilyIndexFromElement:function(a){return a.getAttribute("data-ref-font-family-index")},
_getReferenceFontFamilyFromElement:function(a){a=this._getReferenceFontFamilyIndexFromElement(a);return c.referenceFontFamilies[a]},_loadFonts:function(){var a,b,h=this;for(a=0;a<this._numberOfFonts;a++){var f=this._fontsArray[a];var g=f.fontKey();this._fontsMap[g]=f;for(b=0;b<c.referenceFontFamilies.length;b++){var e=this._cloneNodeSetStyleAndAttributes(f,g,b);if(c.useResizeEvent)e.style.fontFamily=c.referenceFontFamilies[b],this._testContainer.appendChild(e);else if(c.useIntervalChecking)e.style.fontFamily=
"'"+f.family+"', "+c.referenceFontFamilies[b],this._testContainer.appendChild(e);else{e.style.fontFamily=c.referenceFontFamilies[b];if(c.useAdobeBlank){var k=c.adobeBlankReferenceSize;var l=d.directions.increase;var m=d.dimensions.horizontal}else k=f.variationKey(),k=c.referenceFontFamilyVariationSizes[k][b],l=d.directions.both,m=d.dimensions.both;k=new d(e,{container:this._testContainer,delegate:this,size:k,direction:l,dimension:m,document:this._document});this._sizeWatchers.push(k)}}}this._document.body.appendChild(this._testContainer);
if(c.useResizeEvent){for(b=0;b<this._testContainer.childNodes.length;b++)e=this._testContainer.childNodes[b],e.attachEvent("onresize",function(a,b){return function(){a._elementSizeChanged(b)}}(this,e));window.setTimeout(function(){for(b=0;b<h._testContainer.childNodes.length;b++)e=h._testContainer.childNodes[b],e.style.fontFamily="'"+h._getFontFamilyFromElement(e)+"', "+h._getReferenceFontFamilyFromElement(e)},0)}else if(c.useIntervalChecking)this._intervalId=window.setInterval(function(){h._checkSizes()},
this._intervalDelay),this._checkSizes();else{for(a=0;a<this._sizeWatchers.length;a++)k=this._sizeWatchers[a],k.prepareForWatch();for(a=0;a<this._sizeWatchers.length;a++)k=this._sizeWatchers[a],k.beginWatching(),e=k.getWatchedElement(),e.style.fontFamily="'"+this._getFontFamilyFromElement(e)+"', "+h._getReferenceFontFamilyFromElement(e)}},_checkSizes:function(){var a;for(a=this._testContainer.childNodes.length-1;0<=a;a--){var b=this._testContainer.childNodes[a];var d=new h(b.offsetWidth,b.offsetHeight);
if(c.useAdobeBlank)var f=c.adobeBlankReferenceSize;else{f=this._getFontFromElement(b);f=f.variationKey();var g=this._getReferenceFontFamilyIndexFromElement(b);f=c.referenceFontFamilyVariationSizes[f][g]}f.isEqual(d)||(b.parentNode.removeChild(b),this._elementSizeChanged(b))}},_elementSizeChanged:function(a){if(!this._finished){var b=this._getFontMapKeyFromElement(a);"undefined"!==typeof this._fontsMap[b]&&(a=this._fontsMap[b],this._numberOfLoadedFonts++,delete this._fontsMap[b],this.delegate&&"function"===
typeof this.delegate.fontLoaded&&this.delegate.fontLoaded(a.toJSON()),this._numberOfLoadedFonts===this._numberOfFonts&&this._finish())}},_finish:function(){var a,b,c=[];if(!this._finished){this._finished=!0;null!==this._adobeBlankSizeWatcher&&(this._adobeBlankSizeWatcher.getState()===d.states.watchingForSizeChange&&this._adobeBlankSizeWatcher.endWatching(),this._adobeBlankSizeWatcher=null);for(a=0;a<this._sizeWatchers.length;a++){var f=this._sizeWatchers[a];f.getState()===d.states.watchingForSizeChange&&
f.endWatching()}this._sizeWatchers=[];null!==this._testContainer&&this._testContainer.parentNode.removeChild(this._testContainer);null!==this._timeoutId&&window.clearTimeout(this._timeoutId);null!==this._intervalId&&window.clearInterval(this._intervalId);if(this.delegate){if(this._numberOfLoadedFonts<this._numberOfFonts){for(b in this._fontsMap)this._fontsMap.hasOwnProperty(b)&&c.push(this._fontsMap[b].toJSON());a={message:"Not all fonts were loaded ("+this._numberOfLoadedFonts+"/"+this._numberOfFonts+
")",notLoadedFonts:c}}else a=null;"function"===typeof this.delegate.complete?this.delegate.complete(a):"function"===typeof this.delegate.fontsLoaded&&this.delegate.fontsLoaded(a)}}},sizeWatcherChangedSize:function(a){var b=a.getWatchedElement();a===this._adobeBlankSizeWatcher?this._adobeBlankLoaded(b):this._elementSizeChanged(b)}};h.sizeFromString=function(a){a=a.split(",");return 2!==a.length?null:new h(a[0],a[1])};h.prototype.isEqual=function(a){return this.width===a.width&&this.height===a.height};
h.prototype.toString=function(){return this.width+","+this.height};d.states={initialized:0,generatedScrollWatchers:1,appendedScrollWatchers:2,preparedScrollWatchers:3,watchingForSizeChange:4};d.directions={decrease:1,increase:2,both:3};d.dimensions={horizontal:1,vertical:2,both:3};d.prototype={constructor:d,getWatchedElement:function(){return this._element},getState:function(){return this._state},setSize:function(a){this._size=a;this._direction&d.directions.increase&&(this._sizeIncreaseWatcherContentElm.style.cssText=
"width: "+(a.width+this._scrollAmount)+"px; height: "+(a.height+this._scrollAmount)+"px;");this._direction&d.directions.decrease&&(this._sizeDecreaseWatcherElm.style.cssText="position:absolute; left: 0px; top: 0px; overflow: hidden; width: "+(a.width-this._scrollAmount)+"px; height: "+(a.height-this._scrollAmount)+"px;")},_generateScrollWatchers:function(a){this._element.style.position="absolute";this._direction&d.directions.increase&&(this._sizeIncreaseWatcherContentElm=this._document.createElement("div"),
this._sizeIncreaseWatcherElm=this._document.createElement("div"),this._sizeIncreaseWatcherElm.style.cssText="position: absolute; left: 0; top: 0; width: 100%; height: 100%; overflow: hidden;",this._sizeIncreaseWatcherElm.appendChild(this._sizeIncreaseWatcherContentElm),this._element.appendChild(this._sizeIncreaseWatcherElm));this._direction&d.directions.decrease&&(this._sizeDecreaseWatcherElm=this._document.createElement("div"),this._sizeDecreaseWatcherElm.appendChild(this._element));a&&this.setSize(a);
this._state=d.states.generatedScrollWatchers},_appendScrollWatchersToElement:function(a){if(this._state!==d.states.generatedScrollWatchers)throw Error("SizeWatcher._appendScrollWatchersToElement() was invoked before SizeWatcher._generateScrollWatchers()");this._direction&d.directions.decrease?a.appendChild(this._sizeDecreaseWatcherElm):a.appendChild(this._element);this._state=d.states.appendedScrollWatchers},removeScrollWatchers:function(){this._direction&d.directions.decrease?this._sizeDecreaseWatcherElm.parentNode&&
this._sizeDecreaseWatcherElm.parentNode.removeChild(this._sizeDecreaseWatcherElm):this._element.parentNode&&this._element.parentNode.removeChild(this._element)},prepareForWatch:function(){var a,b=a=!0;if(this._state!==d.states.appendedScrollWatchers)throw Error("SizeWatcher.prepareForWatch() invoked before SizeWatcher._appendScrollWatchersToElement()");null===this._size&&this.setSize(new h(this._element.offsetWidth,this._element.offsetHeight));this._direction&d.directions.decrease&&(a=this._scrollElementToBottomRight(this._sizeDecreaseWatcherElm));
this._direction&d.directions.increase&&(b=this._scrollElementToBottomRight(this._sizeIncreaseWatcherElm));if(!a||!b){for(a=this._element.parentNode;a!==this._document&&null!==a;)a=a.parentNode;if(null===a)throw Error("Can't set scroll position of scroll watchers. SizeWatcher is not in the DOM tree.");console&&"function"===typeof console.warn&&console.warn("SizeWatcher can't set scroll position of scroll watchers.")}this._state=d.states.preparedScrollWatchers},_scrollElementToBottomRight:function(a){var b=
!0;this._dimension&d.dimensions.vertical&&(a.scrollTop=this._scrollAmount,b=b&&0<a.scrollTop);this._dimension&d.dimensions.horizontal&&(a.scrollLeft=this._scrollAmount,b=b&&0<a.scrollLeft);return b},beginWatching:function(){if(this._state!==d.states.preparedScrollWatchers)throw Error("SizeWatcher.beginWatching() invoked before SizeWatcher.prepareForWatch()");this._direction&d.directions.decrease&&this._sizeDecreaseWatcherElm.addEventListener("scroll",this,!1);this._direction&d.directions.increase&&
this._sizeIncreaseWatcherElm.addEventListener("scroll",this,!1);this._state=d.states.watchingForSizeChange},endWatching:function(){if(this._state!==d.states.watchingForSizeChange)throw Error("SizeWatcher.endWatching() invoked before SizeWatcher.beginWatching()");this._direction&d.directions.decrease&&this._sizeDecreaseWatcherElm.removeEventListener("scroll",this,!1);this._direction&d.directions.increase&&this._sizeIncreaseWatcherElm.removeEventListener("scroll",this,!1);this._state=d.states.appendedScrollWatchers},
handleEvent:function(a){if(this._state===d.states.watchingForSizeChange&&(a=new h(this._element.offsetWidth,this._element.offsetHeight),!this._size.isEqual(a))){if(this._delegate&&"function"===typeof this._delegate.sizeWatcherChangedSize&&(this._delegate.sizeWatcherChangedSize(this),this._state!==d.states.watchingForSizeChange))return;this._continuous?(this.setSize(a),this._state=d.states.appendedScrollWatchers,this.prepareForWatch(),this._state=d.states.watchingForSizeChange):this.endWatching()}}};
return c});/**
 * A class to parse color values
 * @author Stoyan Stefanov <sstoo@gmail.com>
 * @link   http://www.phpied.com/rgb-color-parser-in-javascript/
 * @license Use it if you like it
 *     http://www.phpied.com/rgb-color-parser-in-javascript/   :
 *      "Feel free to use the code for your own color picker tool or whatever you feel like. If you let me know how you use it, that would be even greater."
 */
function RGBColor(b){this.ok=!1;"#"==b.charAt(0)&&(b=b.substr(1,6));b=b.replace(/ /g,"");b=b.toLowerCase();var k={},e;for(e in k)b==e&&(b=k[e]);var f=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(a){return[parseInt(a[1]),parseInt(a[2]),parseInt(a[3])]}},{re:/^(\w{2})(\w{2})(\w{2})$/,example:["#00ff00","336699"],process:function(a){return[parseInt(a[1],16),parseInt(a[2],16),parseInt(a[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,example:["#fb0",
"f0f"],process:function(a){return[parseInt(a[1]+a[1],16),parseInt(a[2]+a[2],16),parseInt(a[3]+a[3],16)]}}];for(e=0;e<f.length;e++){var n=f[e].process,g=f[e].re.exec(b);g&&(channels=n(g),this.r=channels[0],this.g=channels[1],this.b=channels[2],this.ok=!0)}this.r=0>this.r||isNaN(this.r)?0:255<this.r?255:this.r;this.g=0>this.g||isNaN(this.g)?0:255<this.g?255:this.g;this.b=0>this.b||isNaN(this.b)?0:255<this.b?255:this.b;this.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"};this.toHex=
function(){var a=this.r.toString(16),c=this.g.toString(16),d=this.b.toString(16);1==a.length&&(a="0"+a);1==c.length&&(c="0"+c);1==d.length&&(d="0"+d);return"#"+a+c+d};this.getHelpXML=function(){for(var a=[],c=0;c<f.length;c++)for(var d=f[c].example,b=0;b<d.length;b++)a[a.length]=d[b];for(var e in k)a[a.length]=e;d=document.createElement("ul");d.setAttribute("id","rgbcolor-examples");for(c=0;c<a.length;c++)try{var l=document.createElement("li"),h=new RGBColor(a[c]),m=document.createElement("div");
m.style.cssText="margin: 3px; border: 1px solid black; background:"+h.toHex()+"; color:"+h.toHex();m.appendChild(document.createTextNode("test"));var g=document.createTextNode(" "+a[c]+" -> "+h.toRGB()+" -> "+h.toHex());l.appendChild(m);l.appendChild(g);d.appendChild(l)}catch(n){}return d}};


/*
 * canvg.js - Javascript SVG parser and renderer on Canvas
 * MIT Licensed
 * Gabe Lerner (gabelerner@gmail.com)
 * http://code.google.com/p/canvg/
 *
 *  :     textPath,     -:
 *          736ec64d637b43edf3854423397ef73e11090fbb
 *          Add support for <textPath> elements
 *          #519 opened on 21 Feb by dgorbash
 *          
 *        :
 *        
 *        svg.Element.textPath = function (node) {
            this.base = svg.Element.TextElementBase;
            this.base(node);
            this.children = []; <---        tspan  textpath,  Dmitry Gorbash
 * 
 *  :      feColorMatrix -       ,  :
 *  imSet(srcData.data, x, y, width, height, 0, m(0,r)+m(1,g)+m(2,b)+m(3,a)+m(4,255)); // 1   255
 *  imSet(srcData.data, x, y, width, height, 1, m(5,r)+m(6,g)+m(7,b)+m(8,a)+m(9,255)); // 1   255
 *  imSet(srcData.data, x, y, width, height, 2, m(10,r)+m(11,g)+m(12,b)+m(13,a)+m(14,255)); // 1   255
 *  imSet(srcData.data, x, y, width, height, 3, m(15,r)+m(16,g)+m(17,b)+m(18,a)+m(19,255)); // 1   255
 * 
 * 
 * Requires: rgbcolor.js (  ) - http://www.phpied.com/rgb-color-parser-in-javascript/
 */
(function(x,y){"undefined"!==typeof define&&define.amd?define("canvgModule",["rgbcolor","stackblur"],y):"undefined"!==typeof module&&module.exports&&(module.exports=y(require("rgbcolor"),require("stackblur")));x.canvg=y(x.RGBColor,x.stackBlur)})("undefined"!==typeof window?window:this,function(x,y){function A(p){var a=[0,0,0],r=function(d,c){var b=p.match(d);null!=b&&(a[c]+=b.length,p=p.replace(d," "))};p=p.replace(/:not\(([^\)]*)\)/g,"     $1 ");p=p.replace(/{[\s\S]*/gm," ");r(B,1);r(C,0);r(D,1);
r(E,2);r(F,1);r(G,1);p=p.replace(/[\*\s\+>~]/g," ");p=p.replace(/[#\.]/g," ");r(H,2);return a.join("")}function I(p){var a={opts:p,FRAMERATE:30,MAX_VIRTUAL_PIXELS:3E4,log:function(a){}};1==a.opts.log&&"undefined"!=typeof console&&(a.log=function(a){console.log(a)});a.init=function(d){var c=0;a.UniqueId=function(){c++;return"canvg"+c};a.Definitions={};a.Styles={};a.StylesSpecificity={};a.Animations=[];a.Images=[];a.ctx=d;a.ViewPort=new function(){this.viewPorts=[];this.Clear=function(){this.viewPorts=
[]};this.SetCurrent=function(b,a){this.viewPorts.push({width:b,height:a})};this.RemoveCurrent=function(){this.viewPorts.pop()};this.Current=function(){return this.viewPorts[this.viewPorts.length-1]};this.width=function(){return this.Current().width};this.height=function(){return this.Current().height};this.ComputeSize=function(b){return null!=b&&"number"==typeof b?b:"x"==b?this.width():"y"==b?this.height():Math.sqrt(Math.pow(this.width(),2)+Math.pow(this.height(),2))/Math.sqrt(2)}}};a.init();a.ImagesLoaded=
function(){for(var d=0;d<a.Images.length;d++)if(!a.Images[d].loaded)return!1;return!0};a.trim=function(a){return a.replace(/^\s+|\s+$/g,"")};a.compressSpaces=function(a){return a.replace(/[\s\r\t\n]+/gm," ")};a.ajax=function(a){var c=window.XMLHttpRequest?new XMLHttpRequest:new ActiveXObject("Microsoft.XMLHTTP");c.open("GET",a,!1);c.send(null);return c.responseText};a.parseXml=function(a){if("undefined"!=typeof Windows&&"undefined"!=typeof Windows.Data&&"undefined"!=typeof Windows.Data.Xml){var c=
new Windows.Data.Xml.Dom.XmlDocument,b=new Windows.Data.Xml.Dom.XmlLoadSettings;b.prohibitDtd=!1;c.loadXml(a,b);return c}if(window.DOMParser)try{return c=new DOMParser,c.parseFromString(a,"image/svg+xml")}catch(f){return c=new DOMParser,c.parseFromString(a,"text/xml")}else return a=a.replace(/<!DOCTYPE svg[^>]*>/,""),c=new ActiveXObject("Microsoft.XMLDOM"),c.async="false",c.loadXML(a),c};a.Property=function(a,c){this.name=a;this.value=c};a.Property.prototype.getValue=function(){return this.value};
a.Property.prototype.hasValue=function(){return null!=this.value&&""!==this.value};a.Property.prototype.numValue=function(){if(!this.hasValue())return 0;var a=parseFloat(this.value);(this.value+"").match(/%$/)&&(a/=100);return a};a.Property.prototype.valueOrDefault=function(a){return this.hasValue()?this.value:a};a.Property.prototype.numValueOrDefault=function(a){return this.hasValue()?this.numValue():a};a.Property.prototype.addOpacity=function(d){var c=this.value;if(null!=d.value&&""!=d.value&&"string"==
typeof this.value){var b=new x(this.value);b.ok&&(c="rgba("+b.r+", "+b.g+", "+b.b+", "+d.numValue()+")")}return new a.Property(this.name,c)};a.Property.prototype.getDefinition=function(){var d=this.value.match(/#([^\)'"]+)/);d&&(d=d[1]);d||(d=this.value);return a.Definitions[d]};a.Property.prototype.isUrlDefinition=function(){return 0==this.value.indexOf("url(")};a.Property.prototype.getFillStyleDefinition=function(d,c){var b=this.getDefinition();if(null!=b&&b.createGradient)return b.createGradient(a.ctx,
d,c);if(null!=b&&b.createPattern){if(b.getHrefAttribute().hasValue()){var f=b.attribute("patternTransform");b=b.getHrefAttribute().getDefinition();f.hasValue()&&(b.attribute("patternTransform",!0).value=f.value)}return b.createPattern(a.ctx,d)}return null};a.Property.prototype.getDPI=function(a){return 96};a.Property.prototype.getEM=function(d){var c=12,b=new a.Property("fontSize",a.Font.Parse(a.ctx.font).fontSize);b.hasValue()&&(c=b.toPixels(d));return c};a.Property.prototype.getUnits=function(){return(this.value+
"").replace(/[0-9\.\-]/g,"")};a.Property.prototype.toPixels=function(d,c){if(!this.hasValue())return 0;var b=this.value+"";if(b.match(/em$/))return this.numValue()*this.getEM(d);if(b.match(/ex$/))return this.numValue()*this.getEM(d)/2;if(b.match(/px$/))return this.numValue();if(b.match(/pt$/))return this.numValue()*this.getDPI(d)*(1/72);if(b.match(/pc$/))return 15*this.numValue();if(b.match(/cm$/))return this.numValue()*this.getDPI(d)/2.54;if(b.match(/mm$/))return this.numValue()*this.getDPI(d)/25.4;
if(b.match(/in$/))return this.numValue()*this.getDPI(d);if(b.match(/%$/))return this.numValue()*a.ViewPort.ComputeSize(d);b=this.numValue();return c&&1>b?b*a.ViewPort.ComputeSize(d):b};a.Property.prototype.toMilliseconds=function(){if(!this.hasValue())return 0;var a=this.value+"";if(a.match(/s$/))return 1E3*this.numValue();a.match(/ms$/);return this.numValue()};a.Property.prototype.toRadians=function(){if(!this.hasValue())return 0;var a=this.value+"";return a.match(/deg$/)?this.numValue()*(Math.PI/
180):a.match(/grad$/)?this.numValue()*(Math.PI/200):a.match(/rad$/)?this.numValue():this.numValue()*(Math.PI/180)};var r={baseline:"alphabetic","before-edge":"top","text-before-edge":"top",middle:"middle",central:"middle","after-edge":"bottom","text-after-edge":"bottom",ideographic:"ideographic",alphabetic:"alphabetic",hanging:"hanging",mathematical:"alphabetic"};a.Property.prototype.toTextBaseline=function(){return this.hasValue()?r[this.value]:null};a.Font=new function(){this.Styles="normal|italic|oblique|inherit";
this.Variants="normal|small-caps|inherit";this.Weights="normal|bold|bolder|lighter|100|200|300|400|500|600|700|800|900|inherit";this.CreateFont=function(c,b,f,g,e,k){k=null!=k?this.Parse(k):this.CreateFont("","","","","",a.ctx.font);return{fontFamily:e||k.fontFamily,fontSize:g||k.fontSize,fontStyle:c||k.fontStyle,fontWeight:f||k.fontWeight,fontVariant:b||k.fontVariant,toString:function(){return[this.fontStyle,this.fontVariant,this.fontWeight,this.fontSize,this.fontFamily].join(" ")}}};var d=this;
this.Parse=function(c){var b={};c=a.trim(a.compressSpaces(c||"")).split(" ");for(var f=!1,g=!1,e=!1,k=!1,h="",l=0;l<c.length;l++)g||-1==d.Styles.indexOf(c[l])?k||-1==d.Variants.indexOf(c[l])?e||-1==d.Weights.indexOf(c[l])?f?"inherit"!=c[l]&&(h+=c[l]):("inherit"!=c[l]&&(b.fontSize=c[l].split("/")[0]),g=k=e=f=!0):("inherit"!=c[l]&&(b.fontWeight=c[l]),g=k=e=!0):("inherit"!=c[l]&&(b.fontVariant=c[l]),g=k=!0):("inherit"!=c[l]&&(b.fontStyle=c[l]),g=!0);""!=h&&(b.fontFamily=h);return b}};a.ToNumberArray=
function(d){d=a.trim(a.compressSpaces((d||"").replace(/,/g," "))).split(" ");for(var c=0;c<d.length;c++)d[c]=parseFloat(d[c]);return d};a.Point=function(a,c){this.x=a;this.y=c};a.Point.prototype.angleTo=function(a){return Math.atan2(a.y-this.y,a.x-this.x)};a.Point.prototype.applyTransform=function(a){var c=this.x*a[1]+this.y*a[3]+a[5];this.x=this.x*a[0]+this.y*a[2]+a[4];this.y=c};a.CreatePoint=function(d){d=a.ToNumberArray(d);return new a.Point(d[0],d[1])};a.CreatePath=function(d){d=a.ToNumberArray(d);
for(var c=[],b=0;b<d.length;b+=2)c.push(new a.Point(d[b],d[b+1]));return c};a.BoundingBox=function(a,c,b,f){this.y2=this.x2=this.y1=this.x1=Number.NaN;this.x=function(){return this.x1};this.y=function(){return this.y1};this.width=function(){return this.x2-this.x1};this.height=function(){return this.y2-this.y1};this.addPoint=function(b,a){if(null!=b){if(isNaN(this.x1)||isNaN(this.x2))this.x2=this.x1=b;b<this.x1&&(this.x1=b);b>this.x2&&(this.x2=b)}if(null!=a){if(isNaN(this.y1)||isNaN(this.y2))this.y2=
this.y1=a;a<this.y1&&(this.y1=a);a>this.y2&&(this.y2=a)}};this.addX=function(b){this.addPoint(b,null)};this.addY=function(b){this.addPoint(null,b)};this.addBoundingBox=function(b){this.addPoint(b.x1,b.y1);this.addPoint(b.x2,b.y2)};this.addQuadraticCurve=function(b,a,f,c,d,m){f=b+2/3*(f-b);c=a+2/3*(c-a);this.addBezierCurve(b,a,f,f+1/3*(d-b),c,c+1/3*(m-a),d,m)};this.addBezierCurve=function(b,a,f,c,d,m,n,q){var e=[b,a],g=[f,c],k=[d,m],h=[n,q];this.addPoint(e[0],e[1]);this.addPoint(h[0],h[1]);for(i=0;1>=
i;i++)b=function(b){return Math.pow(1-b,3)*e[i]+3*Math.pow(1-b,2)*b*g[i]+3*(1-b)*Math.pow(b,2)*k[i]+Math.pow(b,3)*h[i]},a=6*e[i]-12*g[i]+6*k[i],f=-3*e[i]+9*g[i]-9*k[i]+3*h[i],c=3*g[i]-3*e[i],0==f?0!=a&&(a=-c/a,0<a&&1>a&&(0==i&&this.addX(b(a)),1==i&&this.addY(b(a)))):(c=Math.pow(a,2)-4*c*f,0>c||(d=(-a+Math.sqrt(c))/(2*f),0<d&&1>d&&(0==i&&this.addX(b(d)),1==i&&this.addY(b(d))),a=(-a-Math.sqrt(c))/(2*f),0<a&&1>a&&(0==i&&this.addX(b(a)),1==i&&this.addY(b(a)))))};this.isPointInBox=function(b,a){return this.x1<=
b&&b<=this.x2&&this.y1<=a&&a<=this.y2};this.addPoint(a,c);this.addPoint(b,f)};a.Transform=function(d){var c=this;this.Type={};this.Type.translate=function(b){this.p=a.CreatePoint(b);this.apply=function(b){b.translate(this.p.x||0,this.p.y||0)};this.unapply=function(b){b.translate(-1*this.p.x||0,-1*this.p.y||0)};this.applyToPoint=function(b){b.applyTransform([1,0,0,1,this.p.x||0,this.p.y||0])}};this.Type.rotate=function(b){b=a.ToNumberArray(b);this.angle=new a.Property("angle",b[0]);this.cx=b[1]||0;
this.cy=b[2]||0;this.apply=function(b){b.translate(this.cx,this.cy);b.rotate(this.angle.toRadians());b.translate(-this.cx,-this.cy)};this.unapply=function(b){b.translate(this.cx,this.cy);b.rotate(-1*this.angle.toRadians());b.translate(-this.cx,-this.cy)};this.applyToPoint=function(b){var a=this.angle.toRadians();b.applyTransform([1,0,0,1,this.p.x||0,this.p.y||0]);b.applyTransform([Math.cos(a),Math.sin(a),-Math.sin(a),Math.cos(a),0,0]);b.applyTransform([1,0,0,1,-this.p.x||0,-this.p.y||0])}};this.Type.scale=
function(b){this.p=a.CreatePoint(b);this.apply=function(b){b.scale(this.p.x||1,this.p.y||this.p.x||1)};this.unapply=function(b){b.scale(1/this.p.x||1,1/this.p.y||this.p.x||1)};this.applyToPoint=function(b){b.applyTransform([this.p.x||0,0,0,this.p.y||0,0,0])}};this.Type.matrix=function(b){this.m=a.ToNumberArray(b);this.apply=function(b){b.transform(this.m[0],this.m[1],this.m[2],this.m[3],this.m[4],this.m[5])};this.unapply=function(b){var a=this.m[0],f=this.m[2],c=this.m[4],e=this.m[1],g=this.m[3],
k=this.m[5],d=1/(a*(1*g-0*k)-f*(1*e-0*k)+c*(0*e-0*g));b.transform(d*(1*g-0*k),d*(0*k-1*e),d*(0*c-1*f),d*(1*a-0*c),d*(f*k-c*g),d*(c*e-a*k))};this.applyToPoint=function(b){b.applyTransform(this.m)}};this.Type.SkewBase=function(b){this.base=c.Type.matrix;this.base(b);this.angle=new a.Property("angle",b)};this.Type.SkewBase.prototype=new this.Type.matrix;this.Type.skewX=function(b){this.base=c.Type.SkewBase;this.base(b);this.m=[1,0,Math.tan(this.angle.toRadians()),1,0,0]};this.Type.skewX.prototype=new this.Type.SkewBase;
this.Type.skewY=function(b){this.base=c.Type.SkewBase;this.base(b);this.m=[1,Math.tan(this.angle.toRadians()),0,1,0,0]};this.Type.skewY.prototype=new this.Type.SkewBase;this.transforms=[];this.apply=function(b){for(var a=0;a<this.transforms.length;a++)this.transforms[a].apply(b)};this.unapply=function(b){for(var a=this.transforms.length-1;0<=a;a--)this.transforms[a].unapply(b)};this.applyToPoint=function(b){for(var a=0;a<this.transforms.length;a++)this.transforms[a].applyToPoint(b)};d=a.trim(a.compressSpaces(d)).replace(/\)([a-zA-Z])/g,
") $1").replace(/\)(\s?,\s?)/g,") ").split(/\s(?=[a-z])/);for(var b=0;b<d.length;b++){var f=a.trim(d[b].split("(")[0]),g=d[b].split("(")[1].replace(")",""),e=this.Type[f];"undefined"!=typeof e&&(g=new e(g),g.type=f,this.transforms.push(g))}};a.AspectRatio=function(d,c,b,f,g,e,k,h,l,m){c=a.compressSpaces(c);c=c.replace(/^defer\s/,"");var n=c.split(" ")[0]||"xMidYMid";c=c.split(" ")[1]||"meet";var q=b/f,u=g/e,t=Math.min(q,u),v=Math.max(q,u);"meet"==c&&(f*=t,e*=t);"slice"==c&&(f*=v,e*=v);l=new a.Property("refX",
l);m=new a.Property("refY",m);l.hasValue()&&m.hasValue()?d.translate(-t*l.toPixels("x"),-t*m.toPixels("y")):(n.match(/^xMid/)&&("meet"==c&&t==u||"slice"==c&&v==u)&&d.translate(b/2-f/2,0),n.match(/YMid$/)&&("meet"==c&&t==q||"slice"==c&&v==q)&&d.translate(0,g/2-e/2),n.match(/^xMax/)&&("meet"==c&&t==u||"slice"==c&&v==u)&&d.translate(b-f,0),n.match(/YMax$/)&&("meet"==c&&t==q||"slice"==c&&v==q)&&d.translate(0,g-e));"none"==n?d.scale(q,u):"meet"==c?d.scale(t,t):"slice"==c&&d.scale(v,v);d.translate(null==
k?0:-k,null==h?0:-h)};a.Element={};a.EmptyProperty=new a.Property("EMPTY","");a.Element.ElementBase=function(d){this.attributes={};this.styles={};this.stylesSpecificity={};this.children=[];this.attribute=function(b,f){var c=this.attributes[b];if(null!=c)return c;1==f&&(c=new a.Property(b,""),this.attributes[b]=c);return c||a.EmptyProperty};this.getHrefAttribute=function(){for(var b in this.attributes)if("href"==b||b.match(/:href$/))return this.attributes[b];return a.EmptyProperty};this.style=function(b,
c,f){var e=this.styles[b];if(null!=e)return e;var g=this.attribute(b);if(null!=g&&g.hasValue())return this.styles[b]=g;if(1!=f&&(f=this.parent,null!=f&&(f=f.style(b),null!=f&&f.hasValue())))return f;1==c&&(e=new a.Property(b,""),this.styles[b]=e);return e||a.EmptyProperty};this.render=function(b){if("none"!=this.style("display").value&&"hidden"!=this.style("visibility").value){b.save();if(this.style("mask").hasValue()){var a=this.style("mask").getDefinition();null!=a&&a.apply(b,this)}else this.style("filter").hasValue()?
(a=this.style("filter").getDefinition(),null!=a&&a.apply(b,this)):(this.setContext(b),this.renderChildren(b),this.clearContext(b));b.restore()}};this.setContext=function(b){};this.clearContext=function(b){};this.renderChildren=function(b){for(var a=0;a<this.children.length;a++)this.children[a].render(b)};this.addChild=function(b,f){var c=b;f&&(c=a.CreateElement(b));c.parent=this;"title"!=c.type&&this.children.push(c)};this.addStylesFromStyleDefinition=function(){for(var b in a.Styles)if("@"!=b[0]&&
w(d,b)){var f=a.Styles[b],c=a.StylesSpecificity[b];if(null!=f)for(var e in f){var g=this.stylesSpecificity[e];"undefined"==typeof g&&(g="000");c>g&&(this.styles[e]=f[e],this.stylesSpecificity[e]=c)}}};var c=/^[A-Z-]+$/,b=function(b){return c.test(b)?b.toLowerCase():b};if(null!=d&&1==d.nodeType){for(var f=0;f<d.attributes.length;f++){var g=d.attributes[f],e=b(g.nodeName);this.attributes[e]=new a.Property(e,g.value)}this.addStylesFromStyleDefinition();if(this.attribute("style").hasValue())for(b=this.attribute("style").value.split(";"),
f=0;f<b.length;f++)""!=a.trim(b[f])&&(e=b[f].split(":"),g=a.trim(e[0]),e=a.trim(e[1]),this.styles[g]=new a.Property(g,e));this.attribute("id").hasValue()&&null==a.Definitions[this.attribute("id").value]&&(a.Definitions[this.attribute("id").value]=this);for(f=0;f<d.childNodes.length;f++)b=d.childNodes[f],1==b.nodeType&&this.addChild(b,!0),!this.captureTextNodes||3!=b.nodeType&&4!=b.nodeType||""!=a.compressSpaces(b.value||b.text||b.textContent||"")&&this.addChild(new a.Element.tspan(b),!1)}};a.Element.RenderedElementBase=
function(d){this.base=a.Element.ElementBase;this.base(d);this.setContext=function(c){if(this.style("fill").isUrlDefinition()){var b=this.style("fill").getFillStyleDefinition(this,this.style("fill-opacity"));null!=b&&(c.fillStyle=b)}else this.style("fill").hasValue()&&(b=this.style("fill"),"currentColor"==b.value&&(b.value=this.style("color").value),"inherit"!=b.value&&(c.fillStyle="none"==b.value?"rgba(0,0,0,0)":b.value));this.style("fill-opacity").hasValue()&&(b=new a.Property("fill",c.fillStyle),
b=b.addOpacity(this.style("fill-opacity")),c.fillStyle=b.value);this.style("stroke").isUrlDefinition()?(b=this.style("stroke").getFillStyleDefinition(this,this.style("stroke-opacity")),null!=b&&(c.strokeStyle=b)):this.style("stroke").hasValue()&&(b=this.style("stroke"),"currentColor"==b.value&&(b.value=this.style("color").value),"inherit"!=b.value&&(c.strokeStyle="none"==b.value?"rgba(0,0,0,0)":b.value));this.style("stroke-opacity").hasValue()&&(b=new a.Property("stroke",c.strokeStyle),b=b.addOpacity(this.style("stroke-opacity")),
c.strokeStyle=b.value);this.style("stroke-width").hasValue()&&(b=this.style("stroke-width").toPixels(),c.lineWidth=0==b?.001:b);this.style("stroke-linecap").hasValue()&&(c.lineCap=this.style("stroke-linecap").value);this.style("stroke-linejoin").hasValue()&&(c.lineJoin=this.style("stroke-linejoin").value);this.style("stroke-miterlimit").hasValue()&&(c.miterLimit=this.style("stroke-miterlimit").value);this.style("stroke-dasharray").hasValue()&&"none"!=this.style("stroke-dasharray").value&&(b=a.ToNumberArray(this.style("stroke-dasharray").value),
"undefined"!=typeof c.setLineDash?c.setLineDash(b):"undefined"!=typeof c.webkitLineDash?c.webkitLineDash=b:"undefined"==typeof c.mozDash||1==b.length&&0==b[0]||(c.mozDash=b),b=this.style("stroke-dashoffset").numValueOrDefault(1),"undefined"!=typeof c.lineDashOffset?c.lineDashOffset=b:"undefined"!=typeof c.webkitLineDashOffset?c.webkitLineDashOffset=b:"undefined"!=typeof c.mozDashOffset&&(c.mozDashOffset=b));"undefined"!=typeof c.font&&(c.font=a.Font.CreateFont(this.style("font-style").value,this.style("font-variant").value,
this.style("font-weight").value,this.style("font-size").hasValue()?this.style("font-size").toPixels()+"px":"",this.style("font-family").value).toString());this.style("transform",!1,!0).hasValue()&&(new a.Transform(this.style("transform",!1,!0).value)).apply(c);this.style("clip-path",!1,!0).hasValue()&&(b=this.style("clip-path",!1,!0).getDefinition(),null!=b&&b.apply(c));this.style("opacity").hasValue()&&(c.globalAlpha=this.style("opacity").numValue())}};a.Element.RenderedElementBase.prototype=new a.Element.ElementBase;
a.Element.PathElementBase=function(d){this.base=a.Element.RenderedElementBase;this.base(d);this.path=function(c){null!=c&&c.beginPath();return new a.BoundingBox};this.renderChildren=function(c){this.path(c);a.Mouse.checkPath(this,c);""!=c.fillStyle&&("inherit"!=this.style("fill-rule").valueOrDefault("inherit")?c.fill(this.style("fill-rule").value):c.fill());""!=c.strokeStyle&&c.stroke();var b=this.getMarkers();if(null!=b){if(this.style("marker-start").isUrlDefinition()){var f=this.style("marker-start").getDefinition();
f.render(c,b[0][0],b[0][1])}if(this.style("marker-mid").isUrlDefinition()){f=this.style("marker-mid").getDefinition();for(var g=1;g<b.length-1;g++)f.render(c,b[g][0],b[g][1])}this.style("marker-end").isUrlDefinition()&&(f=this.style("marker-end").getDefinition(),f.render(c,b[b.length-1][0],b[b.length-1][1]))}};this.getBoundingBox=function(){return this.path()};this.getMarkers=function(){return null}};a.Element.PathElementBase.prototype=new a.Element.RenderedElementBase;a.Element.svg=function(d){this.base=
a.Element.RenderedElementBase;this.base(d);this.baseClearContext=this.clearContext;this.clearContext=function(c){this.baseClearContext(c);a.ViewPort.RemoveCurrent()};this.baseSetContext=this.setContext;this.setContext=function(c){c.strokeStyle="rgba(0,0,0,0)";c.lineCap="butt";c.lineJoin="miter";c.miterLimit=4;"undefined"!=typeof c.font&&"undefined"!=typeof window.getComputedStyle&&(c.font=window.getComputedStyle(c.canvas).getPropertyValue("font"));this.baseSetContext(c);this.attribute("x").hasValue()||
(this.attribute("x",!0).value=0);this.attribute("y").hasValue()||(this.attribute("y",!0).value=0);c.translate(this.attribute("x").toPixels("x"),this.attribute("y").toPixels("y"));var b=a.ViewPort.width(),f=a.ViewPort.height();this.attribute("width").hasValue()||(this.attribute("width",!0).value="100%");this.attribute("height").hasValue()||(this.attribute("height",!0).value="100%");if("undefined"==typeof this.root){b=this.attribute("width").toPixels("x");f=this.attribute("height").toPixels("y");var g=
0,e=0;this.attribute("refX").hasValue()&&this.attribute("refY").hasValue()&&(g=-this.attribute("refX").toPixels("x"),e=-this.attribute("refY").toPixels("y"));"visible"!=this.attribute("overflow").valueOrDefault("hidden")&&(c.beginPath(),c.moveTo(g,e),c.lineTo(b,e),c.lineTo(b,f),c.lineTo(g,f),c.closePath(),c.clip())}a.ViewPort.SetCurrent(b,f);if(this.attribute("viewBox").hasValue()){g=a.ToNumberArray(this.attribute("viewBox").value);e=g[0];var d=g[1];b=g[2];f=g[3];a.AspectRatio(c,this.attribute("preserveAspectRatio").value,
a.ViewPort.width(),b,a.ViewPort.height(),f,e,d,this.attribute("refX").value,this.attribute("refY").value);a.ViewPort.RemoveCurrent();a.ViewPort.SetCurrent(g[2],g[3])}}};a.Element.svg.prototype=new a.Element.RenderedElementBase;a.Element.rect=function(d){this.base=a.Element.PathElementBase;this.base(d);this.path=function(c){var b=this.attribute("x").toPixels("x"),f=this.attribute("y").toPixels("y"),g=this.attribute("width").toPixels("x"),e=this.attribute("height").toPixels("y"),d=this.attribute("rx").toPixels("x"),
h=this.attribute("ry").toPixels("y");this.attribute("rx").hasValue()&&!this.attribute("ry").hasValue()&&(h=d);this.attribute("ry").hasValue()&&!this.attribute("rx").hasValue()&&(d=h);d=Math.min(d,g/2);h=Math.min(h,e/2);null!=c&&(c.beginPath(),c.moveTo(b+d,f),c.lineTo(b+g-d,f),c.quadraticCurveTo(b+g,f,b+g,f+h),c.lineTo(b+g,f+e-h),c.quadraticCurveTo(b+g,f+e,b+g-d,f+e),c.lineTo(b+d,f+e),c.quadraticCurveTo(b,f+e,b,f+e-h),c.lineTo(b,f+h),c.quadraticCurveTo(b,f,b+d,f),c.closePath());return new a.BoundingBox(b,
f,b+g,f+e)}};a.Element.rect.prototype=new a.Element.PathElementBase;a.Element.circle=function(d){this.base=a.Element.PathElementBase;this.base(d);this.path=function(c){var b=this.attribute("cx").toPixels("x"),f=this.attribute("cy").toPixels("y"),g=this.attribute("r").toPixels();null!=c&&(c.beginPath(),c.arc(b,f,g,0,2*Math.PI,!0),c.closePath());return new a.BoundingBox(b-g,f-g,b+g,f+g)}};a.Element.circle.prototype=new a.Element.PathElementBase;a.Element.ellipse=function(d){this.base=a.Element.PathElementBase;
this.base(d);this.path=function(c){var b=(Math.sqrt(2)-1)/3*4,f=this.attribute("rx").toPixels("x"),g=this.attribute("ry").toPixels("y"),e=this.attribute("cx").toPixels("x"),d=this.attribute("cy").toPixels("y");null!=c&&(c.beginPath(),c.moveTo(e,d-g),c.bezierCurveTo(e+b*f,d-g,e+f,d-b*g,e+f,d),c.bezierCurveTo(e+f,d+b*g,e+b*f,d+g,e,d+g),c.bezierCurveTo(e-b*f,d+g,e-f,d+b*g,e-f,d),c.bezierCurveTo(e-f,d-b*g,e-b*f,d-g,e,d-g),c.closePath());return new a.BoundingBox(e-f,d-g,e+f,d+g)}};a.Element.ellipse.prototype=
new a.Element.PathElementBase;a.Element.line=function(d){this.base=a.Element.PathElementBase;this.base(d);this.getPoints=function(){return[new a.Point(this.attribute("x1").toPixels("x"),this.attribute("y1").toPixels("y")),new a.Point(this.attribute("x2").toPixels("x"),this.attribute("y2").toPixels("y"))]};this.path=function(c){var b=this.getPoints();null!=c&&(c.beginPath(),c.moveTo(b[0].x,b[0].y),c.lineTo(b[1].x,b[1].y));return new a.BoundingBox(b[0].x,b[0].y,b[1].x,b[1].y)};this.getMarkers=function(){var a=
this.getPoints(),b=a[0].angleTo(a[1]);return[[a[0],b],[a[1],b]]}};a.Element.line.prototype=new a.Element.PathElementBase;a.Element.polyline=function(d){this.base=a.Element.PathElementBase;this.base(d);this.points=a.CreatePath(this.attribute("points").value);this.path=function(c){var b=new a.BoundingBox(this.points[0].x,this.points[0].y);null!=c&&(c.beginPath(),c.moveTo(this.points[0].x,this.points[0].y));for(var f=1;f<this.points.length;f++)b.addPoint(this.points[f].x,this.points[f].y),null!=c&&c.lineTo(this.points[f].x,
this.points[f].y);return b};this.getMarkers=function(){for(var a=[],b=0;b<this.points.length-1;b++)a.push([this.points[b],this.points[b].angleTo(this.points[b+1])]);0<a.length&&a.push([this.points[this.points.length-1],a[a.length-1][1]]);return a}};a.Element.polyline.prototype=new a.Element.PathElementBase;a.Element.polygon=function(d){this.base=a.Element.polyline;this.base(d);this.basePath=this.path;this.path=function(a){var b=this.basePath(a);null!=a&&(a.lineTo(this.points[0].x,this.points[0].y),
a.closePath());return b}};a.Element.polygon.prototype=new a.Element.polyline;a.Element.path=function(d){this.base=a.Element.PathElementBase;this.base(d);d=this.attribute("d").value;d=d.replace(/,/gm," ");for(var c=0;2>c;c++)d=d.replace(/([MmZzLlHhVvCcSsQqTtAa])([^\s])/gm,"$1 $2");d=d.replace(/([^\s])([MmZzLlHhVvCcSsQqTtAa])/gm,"$1 $2");d=d.replace(/([0-9])([+\-])/gm,"$1 $2");for(c=0;2>c;c++)d=d.replace(/(\.[0-9]*)(\.)/gm,"$1 $2");d=d.replace(/([Aa](\s+[0-9]+){3})\s+([01])\s*([01])/gm,"$1 $3 $4 ");
d=a.compressSpaces(d);d=a.trim(d);this.PathParser=new function(b){this.tokens=b.split(" ");this.reset=function(){this.i=-1;this.previousCommand=this.command="";this.start=new a.Point(0,0);this.control=new a.Point(0,0);this.current=new a.Point(0,0);this.points=[];this.angles=[]};this.isEnd=function(){return this.i>=this.tokens.length-1};this.isCommandOrEnd=function(){return this.isEnd()?!0:null!=this.tokens[this.i+1].match(/^[A-Za-z]$/)};this.isRelativeCommand=function(){switch(this.command){case "m":case "l":case "h":case "v":case "c":case "s":case "q":case "t":case "a":case "z":return!0}return!1};
this.getToken=function(){this.i++;return this.tokens[this.i]};this.getScalar=function(){return parseFloat(this.getToken())};this.nextCommand=function(){this.previousCommand=this.command;this.command=this.getToken()};this.getPoint=function(){var b=new a.Point(this.getScalar(),this.getScalar());return this.makeAbsolute(b)};this.getAsControlPoint=function(){var b=this.getPoint();return this.control=b};this.getAsCurrentPoint=function(){var b=this.getPoint();return this.current=b};this.getReflectedControlPoint=
function(){return"c"!=this.previousCommand.toLowerCase()&&"s"!=this.previousCommand.toLowerCase()&&"q"!=this.previousCommand.toLowerCase()&&"t"!=this.previousCommand.toLowerCase()?this.current:new a.Point(2*this.current.x-this.control.x,2*this.current.y-this.control.y)};this.makeAbsolute=function(b){this.isRelativeCommand()&&(b.x+=this.current.x,b.y+=this.current.y);return b};this.addMarker=function(b,a,c){null!=c&&0<this.angles.length&&null==this.angles[this.angles.length-1]&&(this.angles[this.angles.length-
1]=this.points[this.points.length-1].angleTo(c));this.addMarkerAngle(b,null==a?null:a.angleTo(b))};this.addMarkerAngle=function(b,a){this.points.push(b);this.angles.push(a)};this.getMarkerPoints=function(){return this.points};this.getMarkerAngles=function(){for(var b=0;b<this.angles.length;b++)if(null==this.angles[b])for(var a=b+1;a<this.angles.length;a++)if(null!=this.angles[a]){this.angles[b]=this.angles[a];break}return this.angles}}(d);this.path=function(b){var c=this.PathParser;c.reset();var g=
new a.BoundingBox;for(null!=b&&b.beginPath();!c.isEnd();)switch(c.nextCommand(),c.command){case "M":case "m":var e=c.getAsCurrentPoint();c.addMarker(e);g.addPoint(e.x,e.y);null!=b&&b.moveTo(e.x,e.y);for(c.start=c.current;!c.isCommandOrEnd();)e=c.getAsCurrentPoint(),c.addMarker(e,c.start),g.addPoint(e.x,e.y),null!=b&&b.lineTo(e.x,e.y);break;case "L":case "l":for(;!c.isCommandOrEnd();){var d=c.current;e=c.getAsCurrentPoint();c.addMarker(e,d);g.addPoint(e.x,e.y);null!=b&&b.lineTo(e.x,e.y)}break;case "H":case "h":for(;!c.isCommandOrEnd();)e=
new a.Point((c.isRelativeCommand()?c.current.x:0)+c.getScalar(),c.current.y),c.addMarker(e,c.current),c.current=e,g.addPoint(c.current.x,c.current.y),null!=b&&b.lineTo(c.current.x,c.current.y);break;case "V":case "v":for(;!c.isCommandOrEnd();)e=new a.Point(c.current.x,(c.isRelativeCommand()?c.current.y:0)+c.getScalar()),c.addMarker(e,c.current),c.current=e,g.addPoint(c.current.x,c.current.y),null!=b&&b.lineTo(c.current.x,c.current.y);break;case "C":case "c":for(;!c.isCommandOrEnd();){var h=c.current;
d=c.getPoint();var l=c.getAsControlPoint();e=c.getAsCurrentPoint();c.addMarker(e,l,d);g.addBezierCurve(h.x,h.y,d.x,d.y,l.x,l.y,e.x,e.y);null!=b&&b.bezierCurveTo(d.x,d.y,l.x,l.y,e.x,e.y)}break;case "S":case "s":for(;!c.isCommandOrEnd();)h=c.current,d=c.getReflectedControlPoint(),l=c.getAsControlPoint(),e=c.getAsCurrentPoint(),c.addMarker(e,l,d),g.addBezierCurve(h.x,h.y,d.x,d.y,l.x,l.y,e.x,e.y),null!=b&&b.bezierCurveTo(d.x,d.y,l.x,l.y,e.x,e.y);break;case "Q":case "q":for(;!c.isCommandOrEnd();)h=c.current,
l=c.getAsControlPoint(),e=c.getAsCurrentPoint(),c.addMarker(e,l,l),g.addQuadraticCurve(h.x,h.y,l.x,l.y,e.x,e.y),null!=b&&b.quadraticCurveTo(l.x,l.y,e.x,e.y);break;case "T":case "t":for(;!c.isCommandOrEnd();)h=c.current,l=c.getReflectedControlPoint(),c.control=l,e=c.getAsCurrentPoint(),c.addMarker(e,l,l),g.addQuadraticCurve(h.x,h.y,l.x,l.y,e.x,e.y),null!=b&&b.quadraticCurveTo(l.x,l.y,e.x,e.y);break;case "A":case "a":for(;!c.isCommandOrEnd();){h=c.current;var m=c.getScalar(),n=c.getScalar();d=c.getScalar()*
(Math.PI/180);var q=c.getScalar();l=c.getScalar();e=c.getAsCurrentPoint();var u=new a.Point(Math.cos(d)*(h.x-e.x)/2+Math.sin(d)*(h.y-e.y)/2,-Math.sin(d)*(h.x-e.x)/2+Math.cos(d)*(h.y-e.y)/2),t=Math.pow(u.x,2)/Math.pow(m,2)+Math.pow(u.y,2)/Math.pow(n,2);1<t&&(m*=Math.sqrt(t),n*=Math.sqrt(t));q=(q==l?-1:1)*Math.sqrt((Math.pow(m,2)*Math.pow(n,2)-Math.pow(m,2)*Math.pow(u.y,2)-Math.pow(n,2)*Math.pow(u.x,2))/(Math.pow(m,2)*Math.pow(u.y,2)+Math.pow(n,2)*Math.pow(u.x,2)));isNaN(q)&&(q=0);var v=new a.Point(q*
m*u.y/n,q*-n*u.x/m);h=new a.Point((h.x+e.x)/2+Math.cos(d)*v.x-Math.sin(d)*v.y,(h.y+e.y)/2+Math.sin(d)*v.x+Math.cos(d)*v.y);var p=function(b,a){return(b[0]*a[0]+b[1]*a[1])/(Math.sqrt(Math.pow(b[0],2)+Math.pow(b[1],2))*Math.sqrt(Math.pow(a[0],2)+Math.pow(a[1],2)))},r=function(b,a){return(b[0]*a[1]<b[1]*a[0]?-1:1)*Math.acos(p(b,a))};q=r([1,0],[(u.x-v.x)/m,(u.y-v.y)/n]);t=[(u.x-v.x)/m,(u.y-v.y)/n];v=[(-u.x-v.x)/m,(-u.y-v.y)/n];u=r(t,v);-1>=p(t,v)&&(u=Math.PI);1<=p(t,v)&&(u=0);t=1-l?1:-1;v=q+u/2*t;r=new a.Point(h.x+
m*Math.cos(v),h.y+n*Math.sin(v));c.addMarkerAngle(r,v-t*Math.PI/2);c.addMarkerAngle(e,v-t*Math.PI);g.addPoint(e.x,e.y);null!=b&&(p=m>n?m:n,e=m>n?1:m/n,m=m>n?n/m:1,b.translate(h.x,h.y),b.rotate(d),b.scale(e,m),b.arc(0,0,p,q,q+u,1-l),b.scale(1/e,1/m),b.rotate(-d),b.translate(-h.x,-h.y))}break;case "Z":case "z":null!=b&&b.closePath(),c.current=c.start}return g};this.getMarkers=function(){for(var b=this.PathParser.getMarkerPoints(),a=this.PathParser.getMarkerAngles(),c=[],e=0;e<b.length;e++)c.push([b[e],
a[e]]);return c}};a.Element.path.prototype=new a.Element.PathElementBase;a.Element.pattern=function(d){this.base=a.Element.ElementBase;this.base(d);this.createPattern=function(c,b){var f=this.attribute("width").toPixels("x",!0),d=this.attribute("height").toPixels("y",!0),e=new a.Element.svg;e.attributes.viewBox=new a.Property("viewBox",this.attribute("viewBox").value);e.attributes.width=new a.Property("width",f+"px");e.attributes.height=new a.Property("height",d+"px");e.attributes.transform=new a.Property("transform",
this.attribute("patternTransform").value);e.children=this.children;var k=document.createElement("canvas");k.width=f;k.height=d;f=k.getContext("2d");this.attribute("x").hasValue()&&this.attribute("y").hasValue()&&f.translate(this.attribute("x").toPixels("x",!0),this.attribute("y").toPixels("y",!0));for(d=-1;1>=d;d++)for(var h=-1;1>=h;h++)f.save(),e.attributes.x=new a.Property("x",d*k.width),e.attributes.y=new a.Property("y",h*k.height),e.render(f),f.restore();return c.createPattern(k,"repeat")}};a.Element.pattern.prototype=
new a.Element.ElementBase;a.Element.marker=function(d){this.base=a.Element.ElementBase;this.base(d);this.baseRender=this.render;this.render=function(c,b,f){c.translate(b.x,b.y);"auto"==this.attribute("orient").valueOrDefault("auto")&&c.rotate(f);"strokeWidth"==this.attribute("markerUnits").valueOrDefault("strokeWidth")&&c.scale(c.lineWidth,c.lineWidth);c.save();var d=new a.Element.svg;d.attributes.viewBox=new a.Property("viewBox",this.attribute("viewBox").value);d.attributes.refX=new a.Property("refX",
this.attribute("refX").value);d.attributes.refY=new a.Property("refY",this.attribute("refY").value);d.attributes.width=new a.Property("width",this.attribute("markerWidth").value);d.attributes.height=new a.Property("height",this.attribute("markerHeight").value);d.attributes.fill=new a.Property("fill",this.attribute("fill").valueOrDefault("black"));d.attributes.stroke=new a.Property("stroke",this.attribute("stroke").valueOrDefault("none"));d.children=this.children;d.render(c);c.restore();"strokeWidth"==
this.attribute("markerUnits").valueOrDefault("strokeWidth")&&c.scale(1/c.lineWidth,1/c.lineWidth);"auto"==this.attribute("orient").valueOrDefault("auto")&&c.rotate(-f);c.translate(-b.x,-b.y)}};a.Element.marker.prototype=new a.Element.ElementBase;a.Element.defs=function(d){this.base=a.Element.ElementBase;this.base(d);this.render=function(a){}};a.Element.defs.prototype=new a.Element.ElementBase;a.Element.GradientBase=function(d){this.base=a.Element.ElementBase;this.base(d);this.stops=[];for(d=0;d<this.children.length;d++){var c=
this.children[d];"stop"==c.type&&this.stops.push(c)}this.getGradient=function(){};this.gradientUnits=function(){return this.attribute("gradientUnits").valueOrDefault("objectBoundingBox")};this.attributesToInherit=["gradientUnits"];this.inheritStopContainer=function(b){for(var a=0;a<this.attributesToInherit.length;a++){var c=this.attributesToInherit[a];!this.attribute(c).hasValue()&&b.attribute(c).hasValue()&&(this.attribute(c,!0).value=b.attribute(c).value)}};this.createGradient=function(b,c,d){var e=
this;this.getHrefAttribute().hasValue()&&(e=this.getHrefAttribute().getDefinition(),this.inheritStopContainer(e));var f=function(b){return d.hasValue()?(new a.Property("color",b)).addOpacity(d).value:b};b=this.getGradient(b,c);if(null==b)return f(e.stops[e.stops.length-1].color);for(c=0;c<e.stops.length;c++)b.addColorStop(e.stops[c].offset,f(e.stops[c].color));return this.attribute("gradientTransform").hasValue()?(e=a.ViewPort.viewPorts[0],f=new a.Element.rect,f.attributes.x=new a.Property("x",-a.MAX_VIRTUAL_PIXELS/
3),f.attributes.y=new a.Property("y",-a.MAX_VIRTUAL_PIXELS/3),f.attributes.width=new a.Property("width",a.MAX_VIRTUAL_PIXELS),f.attributes.height=new a.Property("height",a.MAX_VIRTUAL_PIXELS),c=new a.Element.g,c.attributes.transform=new a.Property("transform",this.attribute("gradientTransform").value),c.children=[f],f=new a.Element.svg,f.attributes.x=new a.Property("x",0),f.attributes.y=new a.Property("y",0),f.attributes.width=new a.Property("width",e.width),f.attributes.height=new a.Property("height",
e.height),f.children=[c],c=document.createElement("canvas"),c.width=e.width,c.height=e.height,e=c.getContext("2d"),e.fillStyle=b,f.render(e),e.createPattern(c,"no-repeat")):b}};a.Element.GradientBase.prototype=new a.Element.ElementBase;a.Element.linearGradient=function(d){this.base=a.Element.GradientBase;this.base(d);this.attributesToInherit.push("x1");this.attributesToInherit.push("y1");this.attributesToInherit.push("x2");this.attributesToInherit.push("y2");this.getGradient=function(a,b){var c="objectBoundingBox"==
this.gradientUnits()?b.getBoundingBox():null;this.attribute("x1").hasValue()||this.attribute("y1").hasValue()||this.attribute("x2").hasValue()||this.attribute("y2").hasValue()||(this.attribute("x1",!0).value=0,this.attribute("y1",!0).value=0,this.attribute("x2",!0).value=1,this.attribute("y2",!0).value=0);var d="objectBoundingBox"==this.gradientUnits()?c.x()+c.width()*this.attribute("x1").numValue():this.attribute("x1").toPixels("x"),e="objectBoundingBox"==this.gradientUnits()?c.y()+c.height()*this.attribute("y1").numValue():
this.attribute("y1").toPixels("y"),k="objectBoundingBox"==this.gradientUnits()?c.x()+c.width()*this.attribute("x2").numValue():this.attribute("x2").toPixels("x");c="objectBoundingBox"==this.gradientUnits()?c.y()+c.height()*this.attribute("y2").numValue():this.attribute("y2").toPixels("y");return d==k&&e==c?null:a.createLinearGradient(d,e,k,c)}};a.Element.linearGradient.prototype=new a.Element.GradientBase;a.Element.radialGradient=function(d){this.base=a.Element.GradientBase;this.base(d);this.attributesToInherit.push("cx");
this.attributesToInherit.push("cy");this.attributesToInherit.push("r");this.attributesToInherit.push("fx");this.attributesToInherit.push("fy");this.getGradient=function(a,b){var c=b.getBoundingBox();this.attribute("cx").hasValue()||(this.attribute("cx",!0).value="50%");this.attribute("cy").hasValue()||(this.attribute("cy",!0).value="50%");this.attribute("r").hasValue()||(this.attribute("r",!0).value="50%");var d="objectBoundingBox"==this.gradientUnits()?c.x()+c.width()*this.attribute("cx").numValue():
this.attribute("cx").toPixels("x"),e="objectBoundingBox"==this.gradientUnits()?c.y()+c.height()*this.attribute("cy").numValue():this.attribute("cy").toPixels("y"),k=d,h=e;this.attribute("fx").hasValue()&&(k="objectBoundingBox"==this.gradientUnits()?c.x()+c.width()*this.attribute("fx").numValue():this.attribute("fx").toPixels("x"));this.attribute("fy").hasValue()&&(h="objectBoundingBox"==this.gradientUnits()?c.y()+c.height()*this.attribute("fy").numValue():this.attribute("fy").toPixels("y"));c="objectBoundingBox"==
this.gradientUnits()?(c.width()+c.height())/2*this.attribute("r").numValue():this.attribute("r").toPixels();return a.createRadialGradient(k,h,0,d,e,c)}};a.Element.radialGradient.prototype=new a.Element.GradientBase;a.Element.stop=function(d){this.base=a.Element.ElementBase;this.base(d);this.offset=this.attribute("offset").numValue();0>this.offset&&(this.offset=0);1<this.offset&&(this.offset=1);d=this.style("stop-color",!0);""===d.value&&(d.value="#000");this.style("stop-opacity").hasValue()&&(d=d.addOpacity(this.style("stop-opacity")));
this.color=d.value};a.Element.stop.prototype=new a.Element.ElementBase;a.Element.AnimateBase=function(d){this.base=a.Element.ElementBase;this.base(d);a.Animations.push(this);this.duration=0;this.begin=this.attribute("begin").toMilliseconds();this.maxDuration=this.begin+this.attribute("dur").toMilliseconds();this.getProperty=function(){var a=this.attribute("attributeType").value,b=this.attribute("attributeName").value;return"CSS"==a?this.parent.style(b,!0):this.parent.attribute(b,!0)};this.initialValue=
null;this.initialUnits="";this.removed=!1;this.calcValue=function(){return""};this.update=function(a){null==this.initialValue&&(this.initialValue=this.getProperty().value,this.initialUnits=this.getProperty().getUnits());if(this.duration>this.maxDuration){if("indefinite"==this.attribute("repeatCount").value||"indefinite"==this.attribute("repeatDur").value)this.duration=0;else if("freeze"==this.attribute("fill").valueOrDefault("remove")&&!this.frozen)this.frozen=!0,this.parent.animationFrozen=!0,this.parent.animationFrozenValue=
this.getProperty().value;else if("remove"==this.attribute("fill").valueOrDefault("remove")&&!this.removed)return this.removed=!0,this.getProperty().value=this.parent.animationFrozen?this.parent.animationFrozenValue:this.initialValue,!0;return!1}this.duration+=a;a=!1;this.begin<this.duration&&(a=this.calcValue(),this.attribute("type").hasValue()&&(a=this.attribute("type").value+"("+a+")"),this.getProperty().value=a,a=!0);return a};this.from=this.attribute("from");this.to=this.attribute("to");this.values=
this.attribute("values");this.values.hasValue()&&(this.values.value=this.values.value.split(";"));this.progress=function(){var c={progress:(this.duration-this.begin)/(this.maxDuration-this.begin)};if(this.values.hasValue()){var b=c.progress*(this.values.value.length-1),d=Math.floor(b),g=Math.ceil(b);c.from=new a.Property("from",parseFloat(this.values.value[d]));c.to=new a.Property("to",parseFloat(this.values.value[g]));c.progress=(b-d)/(g-d)}else c.from=this.from,c.to=this.to;return c}};a.Element.AnimateBase.prototype=
new a.Element.ElementBase;a.Element.animate=function(d){this.base=a.Element.AnimateBase;this.base(d);this.calcValue=function(){var a=this.progress();return a.from.numValue()+(a.to.numValue()-a.from.numValue())*a.progress+this.initialUnits}};a.Element.animate.prototype=new a.Element.AnimateBase;a.Element.animateColor=function(d){this.base=a.Element.AnimateBase;this.base(d);this.calcValue=function(){var a=this.progress(),b=new x(a.from.value),d=new x(a.to.value);if(b.ok&&d.ok){var g=b.g+(d.g-b.g)*a.progress,
e=b.b+(d.b-b.b)*a.progress;return"rgb("+parseInt(b.r+(d.r-b.r)*a.progress,10)+","+parseInt(g,10)+","+parseInt(e,10)+")"}return this.attribute("from").value}};a.Element.animateColor.prototype=new a.Element.AnimateBase;a.Element.animateTransform=function(d){this.base=a.Element.AnimateBase;this.base(d);this.calcValue=function(){for(var c=this.progress(),b=a.ToNumberArray(c.from.value),d=a.ToNumberArray(c.to.value),g="",e=0;e<b.length;e++)g+=b[e]+(d[e]-b[e])*c.progress+" ";return g}};a.Element.animateTransform.prototype=
new a.Element.animate;a.Element.font=function(d){this.base=a.Element.ElementBase;this.base(d);this.horizAdvX=this.attribute("horiz-adv-x").numValue();this.isArabic=this.isRTL=!1;this.missingGlyph=this.fontFace=null;this.glyphs=[];for(d=0;d<this.children.length;d++){var c=this.children[d];"font-face"==c.type?(this.fontFace=c,c.style("font-family").hasValue()&&(a.Definitions[c.style("font-family").value]=this)):"missing-glyph"==c.type?this.missingGlyph=c:"glyph"==c.type&&(""!=c.arabicForm?(this.isArabic=
this.isRTL=!0,"undefined"==typeof this.glyphs[c.unicode]&&(this.glyphs[c.unicode]=[]),this.glyphs[c.unicode][c.arabicForm]=c):this.glyphs[c.unicode]=c)}};a.Element.font.prototype=new a.Element.ElementBase;a.Element.fontface=function(d){this.base=a.Element.ElementBase;this.base(d);this.ascent=this.attribute("ascent").value;this.descent=this.attribute("descent").value;this.unitsPerEm=this.attribute("units-per-em").numValue()};a.Element.fontface.prototype=new a.Element.ElementBase;a.Element.missingglyph=
function(d){this.base=a.Element.path;this.base(d);this.horizAdvX=0};a.Element.missingglyph.prototype=new a.Element.path;a.Element.glyph=function(d){this.base=a.Element.path;this.base(d);this.horizAdvX=this.attribute("horiz-adv-x").numValue();this.unicode=this.attribute("unicode").value;this.arabicForm=this.attribute("arabic-form").value};a.Element.glyph.prototype=new a.Element.path;a.Element.text=function(d){this.captureTextNodes=!0;this.base=a.Element.RenderedElementBase;this.base(d);this.baseSetContext=
this.setContext;this.setContext=function(a){this.baseSetContext(a);var b=this.style("dominant-baseline").toTextBaseline();null==b&&(b=this.style("alignment-baseline").toTextBaseline());null!=b&&(a.textBaseline=b)};this.getBoundingBox=function(){var c=this.attribute("x").toPixels("x"),b=this.attribute("y").toPixels("y"),d=this.parent.style("font-size").numValueOrDefault(a.Font.Parse(a.ctx.font).fontSize);return new a.BoundingBox(c,b-d,c+Math.floor(2*d/3)*this.children[0].getText().length,b)};this.renderChildren=
function(a){this.x=this.attribute("x").toPixels("x");this.y=this.attribute("y").toPixels("y");this.attribute("dx").hasValue()&&(this.x+=this.attribute("dx").toPixels("x"));this.attribute("dy").hasValue()&&(this.y+=this.attribute("dy").toPixels("y"));this.x+=this.getAnchorDelta(a,this,0);for(var b=0;b<this.children.length;b++)this.renderChild(a,this,this,b)};this.getAnchorDelta=function(a,b,d){var c=this.style("text-anchor").valueOrDefault("start");if("start"!=c){for(var e=0,f=d;f<b.children.length;f++){var h=
b.children[f];if(f>d&&h.attribute("x").hasValue())break;e+=h.measureTextRecursive(a)}return-1*("end"==c?e:e/2)}return 0};this.renderChild=function(a,b,d,g){var c=d.children[g];c.attribute("x").hasValue()?(c.x=c.attribute("x").toPixels("x")+b.getAnchorDelta(a,d,g),c.attribute("dx").hasValue()&&(c.x+=c.attribute("dx").toPixels("x"))):(c.attribute("dx").hasValue()&&(b.x+=c.attribute("dx").toPixels("x")),c.x=b.x);b.x=c.x+c.measureText(a);c.attribute("y").hasValue()?(c.y=c.attribute("y").toPixels("y"),
c.attribute("dy").hasValue()&&(c.y+=c.attribute("dy").toPixels("y"))):(c.attribute("dy").hasValue()&&(b.y+=c.attribute("dy").toPixels("y")),c.y=b.y);b.y=c.y;c.render(a);for(g=0;g<c.children.length;g++)b.renderChild(a,b,c,g)}};a.Element.text.prototype=new a.Element.RenderedElementBase;a.Element.TextElementBase=function(d){this.base=a.Element.RenderedElementBase;this.base(d);this.getGlyph=function(a,b,d){var c=b[d],e=null;if(a.isArabic){var f="isolated";(0==d||" "==b[d-1])&&d<b.length-2&&" "!=b[d+1]&&
(f="terminal");0<d&&" "!=b[d-1]&&d<b.length-2&&" "!=b[d+1]&&(f="medial");0<d&&" "!=b[d-1]&&(d==b.length-1||" "==b[d+1])&&(f="initial");"undefined"!=typeof a.glyphs[c]&&(e=a.glyphs[c][f],null==e&&"glyph"==a.glyphs[c].type&&(e=a.glyphs[c]))}else e=a.glyphs[c];null==e&&(e=a.missingGlyph);return e};this.renderChildren=function(c){var b=this.parent.style("font-family").getDefinition();if(null!=b){var d=this.parent.style("font-size").numValueOrDefault(a.Font.Parse(a.ctx.font).fontSize),g=this.parent.style("font-style").valueOrDefault(a.Font.Parse(a.ctx.font).fontStyle),
e=this.getText();b.isRTL&&(e=e.split("").reverse().join(""));for(var k=a.ToNumberArray(this.parent.attribute("dx").value),h=0;h<e.length;h++){var l=this.getGlyph(b,e,h),m=d/b.fontFace.unitsPerEm;c.translate(this.x,this.y);c.scale(m,-m);var n=c.lineWidth;c.lineWidth=c.lineWidth*b.fontFace.unitsPerEm/d;"italic"==g&&c.transform(1,0,.4,1,0,0);l.render(c);"italic"==g&&c.transform(1,0,-.4,1,0,0);c.lineWidth=n;c.scale(1/m,-1/m);c.translate(-this.x,-this.y);this.x+=d*(l.horizAdvX||b.horizAdvX)/b.fontFace.unitsPerEm;
"undefined"==typeof k[h]||isNaN(k[h])||(this.x+=k[h])}}else""!=c.fillStyle&&c.fillText(a.compressSpaces(this.getText()),this.x,this.y),""!=c.strokeStyle&&c.strokeText(a.compressSpaces(this.getText()),this.x,this.y)};this.getText=function(){};this.measureTextRecursive=function(a){for(var b=this.measureText(a),c=0;c<this.children.length;c++)b+=this.children[c].measureTextRecursive(a);return b};this.measureText=function(c){var b=this.parent.style("font-family").getDefinition();if(null!=b){c=this.parent.style("font-size").numValueOrDefault(a.Font.Parse(a.ctx.font).fontSize);
var d=0,g=this.getText();b.isRTL&&(g=g.split("").reverse().join(""));for(var e=a.ToNumberArray(this.parent.attribute("dx").value),k=0;k<g.length;k++){var h=this.getGlyph(b,g,k);d+=(h.horizAdvX||b.horizAdvX)*c/b.fontFace.unitsPerEm;"undefined"==typeof e[k]||isNaN(e[k])||(d+=e[k])}return d}b=a.compressSpaces(this.getText());if(!c.measureText)return 10*b.length;c.save();this.setContext(c);b=c.measureText(b).width;c.restore();return b}};a.Element.TextElementBase.prototype=new a.Element.RenderedElementBase;
a.Element.tspan=function(d){this.captureTextNodes=!0;this.base=a.Element.TextElementBase;this.base(d);this.text=a.compressSpaces(d.value||d.text||d.textContent||"");this.getText=function(){return 0<this.children.length?"":this.text}};a.Element.tspan.prototype=new a.Element.TextElementBase;a.Element.tref=function(d){this.base=a.Element.TextElementBase;this.base(d);this.getText=function(){var a=this.getHrefAttribute().getDefinition();if(null!=a)return a.children[0].getText()}};a.Element.tref.prototype=
new a.Element.TextElementBase;a.Element.a=function(d){this.base=a.Element.TextElementBase;this.base(d);this.hasText=0<d.childNodes.length;for(var c=0;c<d.childNodes.length;c++)3!=d.childNodes[c].nodeType&&(this.hasText=!1);this.text=this.hasText?d.childNodes[0].value:"";this.getText=function(){return this.text};this.baseRenderChildren=this.renderChildren;this.renderChildren=function(b){if(this.hasText){this.baseRenderChildren(b);var c=new a.Property("fontSize",a.Font.Parse(a.ctx.font).fontSize);a.Mouse.checkBoundingBox(this,
new a.BoundingBox(this.x,this.y-c.toPixels("y"),this.x+this.measureText(b),this.y))}else 0<this.children.length&&(c=new a.Element.g,c.children=this.children,c.parent=this,c.render(b))};this.onclick=function(){window.open(this.getHrefAttribute().value)};this.onmousemove=function(){a.ctx.canvas.style.cursor="pointer"}};a.Element.a.prototype=new a.Element.TextElementBase;a.Element.textPath=function(d){this.base=a.Element.TextElementBase;this.base(d);this.children=[];var c=this.getHrefAttribute().getDefinition();
this.text=a.compressSpaces(d.value||d.text||d.textContent||"");this.renderChildren=function(b){this.setTextData(b);b.save();var c=this.parent.style("text-decoration").value,d=this.fontSize(),e=this.glyphInfo,k=b.fillStyle;"underline"===c&&b.beginPath();for(var h=0;h<e.length;h++){var l=e[h].p0,m=e[h].p1,n=e[h].text;b.save();b.translate(l.x,l.y);b.rotate(e[h].rotation);""!=b.fillStyle&&b.fillText(a.compressSpaces(n),0,0);""!=b.strokeStyle&&b.strokeText(a.compressSpaces(n),0,0);b.restore();"underline"===
c&&(0===h&&b.moveTo(l.x,l.y+d/8),b.lineTo(m.x,m.y+d/5))}"underline"===c&&(b.lineWidth=d/20,b.strokeStyle=k,b.stroke(),b.closePath());b.restore()};this.path=function(b){var a=this.dataArray;null!=b&&b.beginPath();for(var c=0;c<a.length;c++){var d=a[c].points;switch(a[c].command){case "L":null!=b&&b.lineTo(d[0],d[1]);break;case "M":null!=b&&b.moveTo(d[0],d[1]);break;case "C":null!=b&&b.bezierCurveTo(d[0],d[1],d[2],d[3],d[4],d[5]);break;case "Q":null!=b&&b.quadraticCurveTo(d[0],d[1],d[2],d[3]);break;
case "A":var k=d[0],h=d[1],l=d[2],m=d[3],n=d[4],q=d[5],u=d[6];d=d[7];var t=l>m?l:m,p=l>m?1:l/m;l=l>m?m/l:1;null!=b&&(b.translate(k,h),b.rotate(u),b.scale(p,l),b.arc(0,0,t,n,n+q,1-d),b.scale(1/p,1/l),b.rotate(-u),b.translate(-k,-h));break;case "z":null!=b&&b.closePath()}}};this.getText=function(){return this.text};this.fontSize=function(){return this.parent.style("font-size").numValueOrDefault(a.Font.Parse(a.ctx.font).fontSize)};this.measureText=function(b,c){var d=this.parent.style("font-family").getDefinition();
c=c||this.getText();if(null!=d){var e=this.fontSize(),f=0;d.isRTL&&(c=c.split("").reverse().join(""));for(var h=a.ToNumberArray(this.parent.attribute("dx").value),l=0;l<c.length;l++){var m=this.getGlyph(d,c,l);f+=(m.horizAdvX||d.horizAdvX)*e/d.fontFace.unitsPerEm;"undefined"==typeof h[l]||isNaN(h[l])||(f+=h[l])}return f}d=a.compressSpaces(c);if(!b.measureText)return 10*d.length;b.save();this.setContext(b);d=b.measureText(d).width;b.restore();return d};this.setTextData=function(b){if(!this.hasOwnProperty("glyphInfo")){var c=
this,d=this.getText().split(""),e=this.getText().split(" ").length-1,k=a.ToNumberArray(this.parent.attribute("dx").valueOrDefault("0")),h=this.parent.style("letter-spacing").numValueOrDefault(0),l=this.parent.style("text-anchor").valueOrDefault("start");this.letterSpacingCache=[];for(var m=0;m<this.getText().length;m++)this.letterSpacingCache.push(void 0!==k[m]?k[m]:h);m=this.letterSpacingCache.reduce(function(b,a){return b+a||0},0);this.textWidth=this.measureText(b);this.textHeight=this.fontSize();
var n=Math.max(this.textWidth+m,0);this.glyphInfo=[];var q=this.getPathLength();m=this.style("startOffset").numValueOrDefault(0)*q;var u=0;if("middle"===l||"center"===l)u=-n/2;if("end"===l||"right"===l)u=-n;u+=m;k=function(a,d){var f=c.measureText(b,a);" "===a&&"justify"===l&&n<q&&(f+=(q-n)/e);-1<d&&(u+=c.letterSpacingCache[d||0]||0);var g=c.textHeight/20;g={p0:c.getEquidistantPointOnPath(u,g),p1:c.getEquidistantPointOnPath(u+f,g)};u+=f;return g};for(m=0;m<d.length;m++)if(h=k(d[m],m),void 0!==h.p0&&
void 0!==h.p1){var t=c.getLineLength(h.p0.x,h.p0.y,h.p1.x,h.p1.y);t=c.getPointOnLine(0+t/2,h.p0.x,h.p0.y,h.p1.x,h.p1.y);this.glyphInfo.push({transposeX:t.x,transposeY:t.y,text:d[m],rotation:Math.atan2(h.p1.y-h.p0.y,h.p1.x-h.p0.x),p0:h.p0,p1:h.p1})}}};this.parsePathData=function(b){this.pathLength=void 0;if(!b)return[];var c=[];b=b.PathParser;for(b.reset();!b.isEnd();){var d=[],e=null,k=b.current?b.current.x:0,h=b.current?b.current.y:0;b.nextCommand();var l=b.command.toUpperCase();switch(b.command){case "M":case "m":var m=
b.getAsCurrentPoint();d.push(m.x,m.y);for(b.start=b.current;!b.isCommandOrEnd();)m=b.getAsCurrentPoint(),d.push(m.x,m.y),e="L";break;case "L":case "l":for(;!b.isCommandOrEnd();)m=b.getAsCurrentPoint(),d.push(m.x,m.y);e="L";break;case "H":case "h":for(;!b.isCommandOrEnd();)e=new a.Point((b.isRelativeCommand()?b.current.x:0)+b.getScalar(),b.current.y),d.push(e.x,e.y),b.current=e;e="L";break;case "V":case "v":for(;!b.isCommandOrEnd();)e=new a.Point(b.current.x,(b.isRelativeCommand()?b.current.y:0)+b.getScalar()),
d.push(e.x,e.y),b.current=e;e="L";break;case "C":case "c":for(;!b.isCommandOrEnd();){m=b.getPoint();var n=b.getAsControlPoint(),q=b.getAsCurrentPoint();d.push(m.x,m.y,n.x,n.y,q.x,q.y)}break;case "S":case "s":for(;!b.isCommandOrEnd();)m=b.getReflectedControlPoint(),n=b.getAsControlPoint(),q=b.getAsCurrentPoint(),d.push(m.x,m.y,n.x,n.y,q.x,q.y);e="C";break;case "Q":case "q":for(;!b.isCommandOrEnd();)n=b.getAsControlPoint(),q=b.getAsCurrentPoint(),d.push(n.x,n.y,q.x,q.y);break;case "T":case "t":for(;!b.isCommandOrEnd();)n=
b.getReflectedControlPoint(),b.control=n,q=b.getAsCurrentPoint(),d.push(n.x,n.y,q.x,q.y);e="Q";break;case "A":case "a":for(;!b.isCommandOrEnd();){var u=b.current;d=b.getScalar();m=b.getScalar();n=b.getScalar()*(Math.PI/180);var t=b.getScalar(),p=b.getScalar();q=b.getAsCurrentPoint();var r=new a.Point(Math.cos(n)*(u.x-q.x)/2+Math.sin(n)*(u.y-q.y)/2,-Math.sin(n)*(u.x-q.x)/2+Math.cos(n)*(u.y-q.y)/2),w=Math.pow(r.x,2)/Math.pow(d,2)+Math.pow(r.y,2)/Math.pow(m,2);1<w&&(d*=Math.sqrt(w),m*=Math.sqrt(w));
t=(t==p?-1:1)*Math.sqrt((Math.pow(d,2)*Math.pow(m,2)-Math.pow(d,2)*Math.pow(r.y,2)-Math.pow(m,2)*Math.pow(r.x,2))/(Math.pow(d,2)*Math.pow(r.y,2)+Math.pow(m,2)*Math.pow(r.x,2)));isNaN(t)&&(t=0);t=new a.Point(t*d*r.y/m,t*-m*r.x/d);q=new a.Point((u.x+q.x)/2+Math.cos(n)*t.x-Math.sin(n)*t.y,(u.y+q.y)/2+Math.sin(n)*t.x+Math.cos(n)*t.y);var x=function(b,a){return(b[0]*a[0]+b[1]*a[1])/(Math.sqrt(Math.pow(b[0],2)+Math.pow(b[1],2))*Math.sqrt(Math.pow(a[0],2)+Math.pow(a[1],2)))},y=function(b,a){return(b[0]*
a[1]<b[1]*a[0]?-1:1)*Math.acos(x(b,a))};u=y([1,0],[(r.x-t.x)/d,(r.y-t.y)/m]);w=[(r.x-t.x)/d,(r.y-t.y)/m];r=[(-r.x-t.x)/d,(-r.y-t.y)/m];t=y(w,r);-1>=x(w,r)&&(t=Math.PI);1<=x(w,r)&&(t=0);0===p&&0<t&&(t-=2*Math.PI);1===p&&0>t&&(t+=2*Math.PI);d=[q.x,q.y,d,m,u,t,n,p]}break;case "Z":case "z":b.current=b.start}"Z"!==l?c.push({command:e||l,points:d,start:{x:k,y:h},pathLength:this.calcLength(k,h,e||l,d)}):c.push({command:"z",points:[],start:void 0,pathLength:0})}return c};this.getPathLength=function(){if(void 0===
this.pathLength||null===this.pathLength||isNaN(this.pathLength))for(var b=this.pathLength=0;b<this.dataArray.length;b++)0<this.dataArray[b].pathLength&&(this.pathLength+=this.dataArray[b].pathLength);return this.pathLength};this.getPointOnPath=function(b){var a=0,c=this.getPathLength(),d=void 0;if(!(-5E-5>b||b-5E-5>c))for(var k=0;k<this.dataArray.length;k++)if((c=this.dataArray[k])&&(5E-5>c.pathLength||a+c.pathLength+5E-5<b))a+=c.pathLength;else{k=b-a;switch(c.command){case "L":d=this.getPointOnLine(k,
c.start.x,c.start.y,c.points[0],c.points[1],c.start.x,c.start.y);break;case "A":b=c.points[5];a=c.points[4]+b;k=c.points[4]+k/c.pathLength*b;if(0>b&&k<a||0<=b&&k>a)break;d=this.getPointOnEllipticalArc(c.points[0],c.points[1],c.points[2],c.points[3],k,c.points[6]);break;case "C":k/=c.pathLength;1<k&&(k=1);d=this.getPointOnCubicBezier(k,c.start.x,c.start.y,c.points[0],c.points[1],c.points[2],c.points[3],c.points[4],c.points[5]);break;case "Q":k/=c.pathLength,1<k&&(k=1),d=this.getPointOnQuadraticBezier(k,
c.start.x,c.start.y,c.points[0],c.points[1],c.points[2],c.points[3])}if(void 0!==d&&d!=={})return d;break}};this.buildEquidistantCache=function(b,a){var c=this.getPathLength();a=a||.25;b=b||c/100;this.equidistantCache=this.equidistantCache||{};if(!this.equidistantCache.hasOwnProperty("points")||this.equidistantCache.step!=b||this.equidistantCache.precision!=a){this.equidistantCache={step:b,precision:a,points:[]};for(var d=0,f=0;f<=c;f+=a){var h=this.getPointOnPath(f),l=this.getPointOnPath(f+a);void 0!==
h&&void 0!==l&&(d+=this.getLineLength(h.x,h.y,l.x,l.y),d>=b&&(this.equidistantCache.points.push({x:h.x,y:h.y,distance:f}),d-=b))}}};this.getEquidistantPointOnPath=function(b,a,c){this.buildEquidistantCache(a,c);if(!(0>b||5E-5<b-this.getPathLength()))return b=Math.round(b/this.getPathLength()*(this.equidistantCache.points.length-1)),this.equidistantCache.points[b]||void 0};this.getLineLength=function(b,a,c,d){return Math.sqrt((c-b)*(c-b)+(d-a)*(d-a))};this.getPointOnLine=function(b,a,c,d,k,h,l){void 0===
h&&(h=a);void 0===l&&(l=c);var e=(k-c)/(d-a+1E-8),f=Math.sqrt(b*b/(1+e*e));d<a&&(f*=-1);var g=e*f;if(d===a)a={x:h,y:l+g};else if((l-c)/(h-a+1E-8)===e)a={x:h+f,y:l+g};else{g=this.getLineLength(a,c,d,k);if(1E-8>g)return;f=((h-a)*(d-a)+(l-c)*(k-c))/(g*g);g=a+f*(d-a);c+=f*(k-c);h=this.getLineLength(h,l,g,c);b=Math.sqrt(b*b-h*h);f=Math.sqrt(b*b/(1+e*e));d<a&&(f*=-1);a={x:g+f,y:c+e*f}}return a};this.getPointOnCubicBezier=function(b,a,c,d,k,h,l,m,n){return{x:m*b*b*b+3*h*b*b*(1-b)+3*d*b*(1-b)*(1-b)+a*(1-
b)*(1-b)*(1-b),y:n*b*b*b+3*l*b*b*(1-b)+3*k*b*(1-b)*(1-b)+c*(1-b)*(1-b)*(1-b)}};this.getPointOnQuadraticBezier=function(b,a,c,d,k,h,l){return{x:h*b*b+2*d*b*(1-b)+a*(1-b)*(1-b),y:l*b*b+2*k*b*(1-b)+c*(1-b)*(1-b)}};this.getPointOnEllipticalArc=function(b,a,c,d,k,h){var e=Math.cos(h);h=Math.sin(h);c*=Math.cos(k);d*=Math.sin(k);return{x:b+(c*e-d*h),y:a+(c*h+d*e)}};this.calcLength=function(b,a,c,d){var e;switch(c){case "L":return this.getLineLength(b,a,d[0],d[1]);case "C":c=0;var f=this.getPointOnCubicBezier(0,
b,a,d[0],d[1],d[2],d[3],d[4],d[5]);for(e=.01;1>=e;e+=.01){var g=this.getPointOnCubicBezier(e,b,a,d[0],d[1],d[2],d[3],d[4],d[5]);c+=this.getLineLength(f.x,f.y,g.x,g.y);f=g}return c;case "Q":c=0;f=this.getPointOnQuadraticBezier(0,b,a,d[0],d[1],d[2],d[3]);for(e=.01;1>=e;e+=.01)g=this.getPointOnQuadraticBezier(e,b,a,d[0],d[1],d[2],d[3]),c+=this.getLineLength(f.x,f.y,g.x,g.y),f=g;return c;case "A":c=0;g=d[4];e=d[5];b=d[4]+e;a=Math.PI/180;Math.abs(g-b)<a&&(a=Math.abs(g-b));f=this.getPointOnEllipticalArc(d[0],
d[1],d[2],d[3],g,0);if(0>e)for(e=g-a;e>b;e-=a)g=this.getPointOnEllipticalArc(d[0],d[1],d[2],d[3],e,0),c+=this.getLineLength(f.x,f.y,g.x,g.y),f=g;else for(e=g+a;e<b;e+=a)g=this.getPointOnEllipticalArc(d[0],d[1],d[2],d[3],e,0),c+=this.getLineLength(f.x,f.y,g.x,g.y),f=g;g=this.getPointOnEllipticalArc(d[0],d[1],d[2],d[3],b,0);return c+=this.getLineLength(f.x,f.y,g.x,g.y)}return 0};this.dataArray=this.parsePathData(c)};a.Element.textPath.prototype=new a.Element.TextElementBase;a.Element.image=function(d){this.base=
a.Element.RenderedElementBase;this.base(d);var c=this.getHrefAttribute().value;if(""!=c){var b=c.match(/\.svg$/);a.Images.push(this);this.loaded=!1;if(b)this.img=a.ajax(c),this.loaded=!0;else{this.img=document.createElement("img");1==a.opts.useCORS&&(this.img.crossOrigin="Anonymous");var f=this;this.img.onload=function(){f.loaded=!0};this.img.onerror=function(){a.log('ERROR: image "'+c+'" not found');f.loaded=!0};this.img.src=c}this.renderChildren=function(c){var d=this.attribute("x").toPixels("x"),
f=this.attribute("y").toPixels("y"),h=this.attribute("width").toPixels("x"),g=this.attribute("height").toPixels("y");0!=h&&0!=g&&(c.save(),b?c.drawSvg(this.img,d,f,h,g):(c.translate(d,f),a.AspectRatio(c,this.attribute("preserveAspectRatio").value,h,this.img.width,g,this.img.height,0,0),c.drawImage(this.img,0,0)),c.restore())};this.getBoundingBox=function(){var b=this.attribute("x").toPixels("x"),c=this.attribute("y").toPixels("y"),d=this.attribute("width").toPixels("x"),f=this.attribute("height").toPixels("y");
return new a.BoundingBox(b,c,b+d,c+f)}}};a.Element.image.prototype=new a.Element.RenderedElementBase;a.Element.g=function(d){this.base=a.Element.RenderedElementBase;this.base(d);this.getBoundingBox=function(){for(var c=new a.BoundingBox,b=0;b<this.children.length;b++)c.addBoundingBox(this.children[b].getBoundingBox());return c}};a.Element.g.prototype=new a.Element.RenderedElementBase;a.Element.symbol=function(d){this.base=a.Element.RenderedElementBase;this.base(d);this.render=function(a){}};a.Element.symbol.prototype=
new a.Element.RenderedElementBase;a.Element.style=function(d){this.base=a.Element.ElementBase;this.base(d);for(var c="",b=0;b<d.childNodes.length;b++)c+=d.childNodes[b].data;c=c.replace(/(\/\*([^*]|[\r\n]|(\*+([^*\/]|[\r\n])))*\*+\/)|(^[\s]*\/\/.*)/gm,"");c=a.compressSpaces(c);d=c.split("}");for(b=0;b<d.length;b++)if(""!=a.trim(d[b])){var f=d[b].split("{");c=f[0].split(",");f=f[1].split(";");for(var g=0;g<c.length;g++){var e=a.trim(c[g]);if(""!=e){for(var k=a.Styles[e]||{},h=0;h<f.length;h++){var l=
f[h].indexOf(":"),m=f[h].substr(0,l);l=f[h].substr(l+1,f[h].length-l);null!=m&&null!=l&&(k[a.trim(m)]=new a.Property(a.trim(m),a.trim(l)))}a.Styles[e]=k;a.StylesSpecificity[e]=A(e);if("@font-face"==e)for(e=k["font-family"].value.replace(/"/g,""),k=k.src.value.split(","),h=0;h<k.length;h++)if(0<k[h].indexOf('format("svg")'))for(m=k[h].indexOf("url"),l=k[h].indexOf(")",m),m=k[h].substr(m+5,l-m-6),m=a.parseXml(a.ajax(m)).getElementsByTagName("font"),l=0;l<m.length;l++){var n=a.CreateElement(m[l]);a.Definitions[e]=
n}}}}};a.Element.style.prototype=new a.Element.ElementBase;a.Element.use=function(d){this.base=a.Element.RenderedElementBase;this.base(d);this.baseSetContext=this.setContext;this.setContext=function(a){this.baseSetContext(a);this.attribute("x").hasValue()&&a.translate(this.attribute("x").toPixels("x"),0);this.attribute("y").hasValue()&&a.translate(0,this.attribute("y").toPixels("y"))};var c=this.getHrefAttribute().getDefinition();this.path=function(a){null!=c&&c.path(a)};this.getBoundingBox=function(){if(null!=
c)return c.getBoundingBox()};this.renderChildren=function(b){if(null!=c){var d=c;"symbol"==c.type&&(d=new a.Element.svg,d.type="svg",d.attributes.viewBox=new a.Property("viewBox",c.attribute("viewBox").value),d.attributes.preserveAspectRatio=new a.Property("preserveAspectRatio",c.attribute("preserveAspectRatio").value),d.attributes.overflow=new a.Property("overflow",c.attribute("overflow").value),d.children=c.children);"svg"==d.type&&(this.attribute("width").hasValue()&&(d.attributes.width=new a.Property("width",
this.attribute("width").value)),this.attribute("height").hasValue()&&(d.attributes.height=new a.Property("height",this.attribute("height").value)));var g=d.parent;d.parent=null;d.render(b);d.parent=g}}};a.Element.use.prototype=new a.Element.RenderedElementBase;a.Element.mask=function(d){this.base=a.Element.ElementBase;this.base(d);this.apply=function(c,b){var d=this.attribute("x").toPixels("x"),g=this.attribute("y").toPixels("y"),e=this.attribute("width").toPixels("x"),k=this.attribute("height").toPixels("y");
if(0==e&&0==k){k=new a.BoundingBox;for(d=0;d<this.children.length;d++)k.addBoundingBox(this.children[d].getBoundingBox());d=Math.floor(k.x1);g=Math.floor(k.y1);e=Math.floor(k.width());k=Math.floor(k.height())}var h=b.attribute("mask").value;b.attribute("mask").value="";var l=document.createElement("canvas");l.width=d+e;l.height=g+k;var m=l.getContext("2d");this.renderChildren(m);var n=document.createElement("canvas");n.width=d+e;n.height=g+k;var q=n.getContext("2d");b.render(q);q.globalCompositeOperation=
"destination-in";q.fillStyle=m.createPattern(l,"no-repeat");q.fillRect(0,0,d+e,g+k);c.fillStyle=q.createPattern(n,"no-repeat");c.fillRect(0,0,d+e,g+k);b.attribute("mask").value=h};this.render=function(a){}};a.Element.mask.prototype=new a.Element.ElementBase;a.Element.clipPath=function(d){this.base=a.Element.ElementBase;this.base(d);this.apply=function(c){var b=CanvasRenderingContext2D.prototype.beginPath;CanvasRenderingContext2D.prototype.beginPath=function(){};var d=CanvasRenderingContext2D.prototype.closePath;
CanvasRenderingContext2D.prototype.closePath=function(){};b.call(c);for(var g=0;g<this.children.length;g++){var e=this.children[g];if("undefined"!=typeof e.path){var k=null;e.style("transform",!1,!0).hasValue()&&(k=new a.Transform(e.style("transform",!1,!0).value),k.apply(c));e.path(c);CanvasRenderingContext2D.prototype.closePath=d;k&&k.unapply(c)}}d.call(c);c.clip();CanvasRenderingContext2D.prototype.beginPath=b;CanvasRenderingContext2D.prototype.closePath=d};this.render=function(a){}};a.Element.clipPath.prototype=
new a.Element.ElementBase;a.Element.filter=function(d){this.base=a.Element.ElementBase;this.base(d);this.apply=function(a,b){var c=b.getBoundingBox(),d=Math.floor(c.x1),e=Math.floor(c.y1),k=Math.floor(c.width());c=Math.floor(c.height());var h=b.style("filter").value;b.style("filter").value="";for(var l=0,m=0,n=0;n<this.children.length;n++){var q=this.children[n].extraFilterDistance||0;l=Math.max(l,q);m=Math.max(m,q)}q=document.createElement("canvas");q.width=k+2*l;q.height=c+2*m;var p=q.getContext("2d");
p.translate(-d+l,-e+m);b.render(p);for(n=0;n<this.children.length;n++)"function"==typeof this.children[n].apply&&this.children[n].apply(p,0,0,k+2*l,c+2*m);a.drawImage(q,0,0,k+2*l,c+2*m,d-l,e-m,k+2*l,c+2*m);b.style("filter",!0).value=h};this.render=function(a){}};a.Element.filter.prototype=new a.Element.ElementBase;a.Element.feMorphology=function(d){this.base=a.Element.ElementBase;this.base(d);this.apply=function(a,b,d,g,e){}};a.Element.feMorphology.prototype=new a.Element.ElementBase;a.Element.feComposite=
function(d){this.base=a.Element.ElementBase;this.base(d);this.apply=function(a,b,d,g,e){}};a.Element.feComposite.prototype=new a.Element.ElementBase;a.Element.feColorMatrix=function(d){function c(a,c){var d=b[a];return d*(0>d?c-255:c)}this.base=a.Element.ElementBase;this.base(d);var b=a.ToNumberArray(this.attribute("values").value);switch(this.attribute("type").valueOrDefault("matrix")){case "saturate":d=b[0];b=[.213+.787*d,.715-.715*d,.072-.072*d,0,0,.213-.213*d,.715+.285*d,.072-.072*d,0,0,.213-
.213*d,.715-.715*d,.072+.928*d,0,0,0,0,0,1,0,0,0,0,0,1];break;case "hueRotate":var f=b[0]*Math.PI/180;d=function(a,b,c){return a+Math.cos(f)*b+Math.sin(f)*c};b=[d(.213,.787,-.213),d(.715,-.715,-.715),d(.072,-.072,.928),0,0,d(.213,-.213,.143),d(.715,.285,.14),d(.072,-.072,-.283),0,0,d(.213,-.213,-.787),d(.715,-.715,.715),d(.072,.928,.072),0,0,0,0,0,1,0,0,0,0,0,1];break;case "luminanceToAlpha":b=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,.2125,.7154,.0721,0,0,0,0,0,0,1]}this.apply=function(a,b,d,f,l){var e=a.getImageData(0,
0,f,l);for(d=0;d<l;d++)for(b=0;b<f;b++){var g=e.data[d*f*4+4*b+0],h=e.data[d*f*4+4*b+1],k=e.data[d*f*4+4*b+2],p=e.data[d*f*4+4*b+3],r=c(0,g)+c(1,h)+c(2,k)+c(3,p)+c(4,255);e.data[d*f*4+4*b+0]=r;r=c(5,g)+c(6,h)+c(7,k)+c(8,p)+c(9,255);e.data[d*f*4+4*b+1]=r;r=c(10,g)+c(11,h)+c(12,k)+c(13,p)+c(14,255);e.data[d*f*4+4*b+2]=r;g=c(15,g)+c(16,h)+c(17,k)+c(18,p)+c(19,255);e.data[d*f*4+4*b+3]=g}a.clearRect(0,0,f,l);a.putImageData(e,0,0)}};a.Element.feColorMatrix.prototype=new a.Element.ElementBase;a.Element.feGaussianBlur=
function(d){this.base=a.Element.ElementBase;this.base(d);this.extraFilterDistance=this.blurRadius=Math.floor(this.attribute("stdDeviation").numValue());this.apply=function(c,b,d,g,e){"undefined"==typeof y.canvasRGBA?a.log("ERROR: StackBlur.js must be included for blur to work"):(c.canvas.id=a.UniqueId(),c.canvas.style.display="none",document.body.appendChild(c.canvas),y.canvasRGBA(c.canvas.id,b,d,g,e,this.blurRadius),document.body.removeChild(c.canvas))}};a.Element.feGaussianBlur.prototype=new a.Element.ElementBase;
a.Element.title=function(a){};a.Element.title.prototype=new a.Element.ElementBase;a.Element.desc=function(a){};a.Element.desc.prototype=new a.Element.ElementBase;a.Element.MISSING=function(d){a.log("ERROR: Element '"+d.nodeName+"' not yet implemented.")};a.Element.MISSING.prototype=new a.Element.ElementBase;a.CreateElement=function(d){var c=d.nodeName.replace(/^[^:]+:/,"");c=c.replace(/\-/g,"");c="undefined"!=typeof a.Element[c]?new a.Element[c](d):new a.Element.MISSING(d);c.type=d.nodeName;return c};
a.load=function(d,c){a.loadXml(d,a.ajax(c))};a.loadXml=function(d,c){a.loadXmlDoc(d,a.parseXml(c))};a.loadXmlDoc=function(d,c){a.init(d);var b=function(a){for(var b=d.canvas;b;)a.x-=b.offsetLeft,a.y-=b.offsetTop,b=b.offsetParent;window.scrollX&&(a.x+=window.scrollX);window.scrollY&&(a.y+=window.scrollY);return a};1!=a.opts.ignoreMouse&&(d.canvas.onclick=function(c){c=b(new a.Point(null!=c?c.clientX:event.clientX,null!=c?c.clientY:event.clientY));a.Mouse.onclick(c.x,c.y)},d.canvas.onmousemove=function(c){c=
b(new a.Point(null!=c?c.clientX:event.clientX,null!=c?c.clientY:event.clientY));a.Mouse.onmousemove(c.x,c.y)});var f=a.CreateElement(c.documentElement);f.root=!0;f.addStylesFromStyleDefinition();var g=!0,e=function(){a.ViewPort.Clear();d.canvas.parentNode&&a.ViewPort.SetCurrent(d.canvas.parentNode.clientWidth,d.canvas.parentNode.clientHeight);1!=a.opts.ignoreDimensions&&(f.style("width").hasValue()&&(d.canvas.width=f.style("width").toPixels("x"),d.canvas.style.width=d.canvas.width+"px"),f.style("height").hasValue()&&
(d.canvas.height=f.style("height").toPixels("y"),d.canvas.style.height=d.canvas.height+"px"));var b=d.canvas.clientWidth||d.canvas.width,e=d.canvas.clientHeight||d.canvas.height;1==a.opts.ignoreDimensions&&f.style("width").hasValue()&&f.style("height").hasValue()&&(b=f.style("width").toPixels("x"),e=f.style("height").toPixels("y"));a.ViewPort.SetCurrent(b,e);null!=a.opts.offsetX&&(f.attribute("x",!0).value=a.opts.offsetX);null!=a.opts.offsetY&&(f.attribute("y",!0).value=a.opts.offsetY);if(null!=a.opts.scaleWidth||
null!=a.opts.scaleHeight){var k=null,n=null,p=a.ToNumberArray(f.attribute("viewBox").value);null!=a.opts.scaleWidth&&(f.attribute("width").hasValue()?k=f.attribute("width").toPixels("x")/a.opts.scaleWidth:isNaN(p[2])||(k=p[2]/a.opts.scaleWidth));null!=a.opts.scaleHeight&&(f.attribute("height").hasValue()?n=f.attribute("height").toPixels("y")/a.opts.scaleHeight:isNaN(p[3])||(n=p[3]/a.opts.scaleHeight));null==k&&(k=n);null==n&&(n=k);f.attribute("width",!0).value=a.opts.scaleWidth;f.attribute("height",
!0).value=a.opts.scaleHeight;f.style("transform",!0,!0).value+=" scale("+1/k+","+1/n+")"}1!=a.opts.ignoreClear&&d.clearRect(0,0,b,e);f.render(d);g&&(g=!1,"function"==typeof a.opts.renderCallback&&a.opts.renderCallback(c))},k=!0;a.ImagesLoaded()&&(k=!1,e());a.intervalID=setInterval(function(){var b=!1;k&&a.ImagesLoaded()&&(k=!1,b=!0);1!=a.opts.ignoreMouse&&(b|=a.Mouse.hasEvents());if(1!=a.opts.ignoreAnimation)for(var c=0;c<a.Animations.length;c++)b|=a.Animations[c].update(1E3/a.FRAMERATE);"function"==
typeof a.opts.forceRedraw&&1==a.opts.forceRedraw()&&(b=!0);b&&(e(),a.Mouse.runEvents())},1E3/a.FRAMERATE)};a.stop=function(){a.intervalID&&clearInterval(a.intervalID)};a.Mouse=new function(){this.events=[];this.hasEvents=function(){return 0!=this.events.length};this.onclick=function(a,c){this.events.push({type:"onclick",x:a,y:c,run:function(a){if(a.onclick)a.onclick()}})};this.onmousemove=function(a,c){this.events.push({type:"onmousemove",x:a,y:c,run:function(a){if(a.onmousemove)a.onmousemove()}})};
this.eventElements=[];this.checkPath=function(a,c){for(var b=0;b<this.events.length;b++){var d=this.events[b];c.isPointInPath&&c.isPointInPath(d.x,d.y)&&(this.eventElements[b]=a)}};this.checkBoundingBox=function(a,c){for(var b=0;b<this.events.length;b++){var d=this.events[b];c.isPointInBox(d.x,d.y)&&(this.eventElements[b]=a)}};this.runEvents=function(){a.ctx.canvas.style.cursor="";for(var d=0;d<this.events.length;d++)for(var c=this.events[d],b=this.eventElements[d];b;)c.run(b),b=b.parent;this.events=
[];this.eventElements=[]}};return a}var z=function(p,a,r){if(null==p&&null==a&&null==r)for(a=document.querySelectorAll("svg"),p=0;p<a.length;p++){r=a[p];var d=document.createElement("canvas");d.width=r.clientWidth;d.height=r.clientHeight;r.parentNode.insertBefore(d,r);r.parentNode.removeChild(r);var c=document.createElement("div");c.appendChild(r);z(d,c.innerHTML)}else{"string"==typeof p&&(p=document.getElementById(p));null!=p.svg&&p.svg.stop();r=I(r||{});if(1!=p.childNodes.length||"OBJECT"!=p.childNodes[0].nodeName)p.svg=
r;p=p.getContext("2d");"undefined"!=typeof a.documentElement?r.loadXmlDoc(p,a):"<"==a.substr(0,1)?r.loadXml(p,a):r.load(p,a)}};if("undefined"!=typeof Element.prototype.matches)var w=function(p,a){return p.matches(a)};else if("undefined"!=typeof Element.prototype.webkitMatchesSelector)w=function(p,a){return p.webkitMatchesSelector(a)};else if("undefined"!=typeof Element.prototype.mozMatchesSelector)w=function(p,a){return p.mozMatchesSelector(a)};else if("undefined"!=typeof Element.prototype.msMatchesSelector)w=
function(p,a){return p.msMatchesSelector(a)};else if("undefined"!=typeof Element.prototype.oMatchesSelector)w=function(p,a){return p.oMatchesSelector(a)};else{if("function"===typeof jQuery||"function"===typeof Zepto)w=function(p,a){return $(p).is(a)};"undefined"===typeof w&&(w=Sizzle.matchesSelector)}var B=/(\[[^\]]+\])/g,C=/(#[^\s\+>~\.\[:]+)/g,D=/(\.[^\s\+>~\.\[:]+)/g,E=/(::[^\s\+>~\.\[:]+|:first-line|:first-letter|:before|:after)/gi,F=/(:[\w-]+\([^\)]*\))/gi,G=/(:[^\s\+>~\.\[:]+)/g,H=/([^\s\+>~\.\[:]+)/g;
"undefined"!=typeof CanvasRenderingContext2D&&(CanvasRenderingContext2D.prototype.drawSvg=function(p,a,r,d,c,b){a={ignoreMouse:!0,ignoreAnimation:!0,ignoreDimensions:!0,ignoreClear:!0,offsetX:a,offsetY:r,scaleWidth:d,scaleHeight:c};for(var f in b)b.hasOwnProperty(f)&&(a[f]=b[f]);z(this.canvas,p,a)});return z});/*!
 * jQuery Cookie Plugin v1.4.1
 * https://github.com/carhartl/jquery-cookie
 *
 * Copyright 2006, 2014 Klaus Hartl
 * Released under the MIT license
 */
(function(d){"function"===typeof define&&define.amd?define(["jquery"],d):"object"===typeof exports?module.exports=d(require("jquery")):d(jQuery)})(function(d){function p(b){b=e.json?JSON.stringify(b):String(b);return e.raw?b:encodeURIComponent(b)}function n(b,g){var a;if(e.raw)a=b;else a:{var c=b;0===c.indexOf('"')&&(c=c.slice(1,-1).replace(/\\"/g,'"').replace(/\\\\/g,"\\"));try{c=decodeURIComponent(c.replace(l," "));a=e.json?JSON.parse(c):c;break a}catch(h){}a=void 0}return d.isFunction(g)?g(a):
a}var l=/\+/g,e=d.cookie=function(b,g,a){if(1<arguments.length&&!d.isFunction(g)){a=d.extend({},e.defaults,a);if("number"===typeof a.expires){var c=a.expires,h=a.expires=new Date;h.setMilliseconds(h.getMilliseconds()+864E5*c)}return document.cookie=[e.raw?b:encodeURIComponent(b),"=",p(g),a.expires?"; expires="+a.expires.toUTCString():"",a.path?"; path="+a.path:"",a.domain?"; domain="+a.domain:"",a.secure?"; secure":""].join("")}for(var c=b?void 0:{},h=document.cookie?document.cookie.split("; "):[],
m=0,l=h.length;m<l;m++){var f=h[m].split("="),k;k=f.shift();k=e.raw?k:decodeURIComponent(k);f=f.join("=");if(b===k){c=n(f,g);break}b||void 0===(f=n(f))||(c[k]=f)}return c};e.defaults={};d.removeCookie=function(b,e){d.cookie(b,"",d.extend({},e,{expires:-1}));return!d.cookie(b)}});/**
 * https://github.com/VKCOM/vk-connect
 */
!function(e,n){"object"==typeof exports&&"undefined"!=typeof module?module.exports=n():"function"==typeof define&&define.amd?define(n):(e=e||self).vkConnect=n()}(this,function(){"use strict";var i=function(){return(i=Object.assign||function(e){for(var n,t=1,o=arguments.length;t<o;t++)for(var r in n=arguments[t])Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r]);return e}).apply(this,arguments)};function p(e,n){var t={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&n.indexOf(o)<0&&(t[o]=e[o]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(o=Object.getOwnPropertySymbols(e);r<o.length;r++)n.indexOf(o[r])<0&&Object.prototype.propertyIsEnumerable.call(e,o[r])&&(t[o[r]]=e[o[r]])}return t}var n=["VKWebAppInit","VKWebAppGetCommunityAuthToken","VKWebAppAddToCommunity","VKWebAppGetUserInfo","VKWebAppSetLocation","VKWebAppGetClientVersion","VKWebAppGetPhoneNumber","VKWebAppGetEmail","VKWebAppGetGeodata","VKWebAppSetTitle","VKWebAppGetAuthToken","VKWebAppCallAPIMethod","VKWebAppJoinGroup","VKWebAppAllowMessagesFromGroup","VKWebAppDenyNotifications","VKWebAppAllowNotifications","VKWebAppOpenPayForm","VKWebAppOpenApp","VKWebAppShare","VKWebAppShowWallPostBox","VKWebAppScroll","VKWebAppResizeWindow","VKWebAppShowOrderBox","VKWebAppShowLeaderBoardBox","VKWebAppShowInviteBox","VKWebAppShowRequestBox","VKWebAppAddToFavorites"],a=[],s=null,e="undefined"!=typeof window,t=e&&window.webkit&&void 0!==window.webkit.messageHandlers&&void 0!==window.webkit.messageHandlers.VKWebAppClose,o=e?window.AndroidBridge:void 0,r=t?window.webkit.messageHandlers:void 0,u=e&&!o&&!r,d=u?"message":"VKWebAppEvent";function f(e,n){var t=n||{bubbles:!1,cancelable:!1,detail:void 0},o=document.createEvent("CustomEvent");return o.initCustomEvent(e,!!t.bubbles,!!t.cancelable,t.detail),o}e&&(window.CustomEvent||(window.CustomEvent=(f.prototype=Event.prototype,f)),window.addEventListener(d,function(){for(var n=[],e=0;e<arguments.length;e++)n[e]=arguments[e];var t=function(){for(var e=0,n=0,t=arguments.length;n<t;n++)e+=arguments[n].length;var o=Array(e),r=0;for(n=0;n<t;n++)for(var i=arguments[n],p=0,a=i.length;p<a;p++,r++)o[r]=i[p];return o}(a);if(u&&n[0]&&"data"in n[0]){var o=n[0].data,r=(o.webFrameId,o.connectVersion,p(o,["webFrameId","connectVersion"]));r.type&&"VKWebAppSettings"===r.type?s=r.frameId:t.forEach(function(e){e({detail:r})})}else t.forEach(function(e){e.apply(null,n)})}));function l(e,n){void 0===n&&(n={}),o&&"function"==typeof o[e]&&o[e](JSON.stringify(n)),r&&r[e]&&"function"==typeof r[e].postMessage&&r[e].postMessage(n),u&&parent.postMessage({handler:e,params:n,type:"vk-connect",webFrameId:s,connectVersion:"1.6.5"},"*")}function c(e){a.push(e)}var b,v,w,A={send:l,subscribe:c,sendPromise:(b=l,v=c,w=function(){var t={current:0,next:function(){return this.current+=1,this.current}},r={};return{add:function(e){var n=t.next();return r[n]=e,n},resolve:function(e,n,t){var o=r[e];o&&(t(n)?o.resolve(n):o.reject(n),r[e]=null)}}}(),v(function(e){if(e.detail&&e.detail.data){var n=e.detail.data,t=n.request_id,o=p(n,["request_id"]);t&&w.resolve(t,o,function(e){return!("error_type"in e)})}}),function(o,r){return new Promise(function(e,n){var t=w.add({resolve:e,reject:n});b(o,i(i({},r),{request_id:t}))})}),unsubscribe:function(e){var n=a.indexOf(e);-1<n&&a.splice(n,1)},isWebView:function(){return!(!o&&!r)},supports:function(e){return!(!o||"function"!=typeof o[e])||(!(!r||!r[e]||"function"!=typeof r[e].postMessage)||!(r||o||!n.includes(e)))}};if("object"!=typeof exports||"undefined"==typeof module){var y=null;"undefined"!=typeof window?y=window:"undefined"!=typeof global?y=global:"undefined"!=typeof self&&(y=self),y&&(y.vkConnect=A,y.vkuiConnect=A)}return A});var $jscomp=$jscomp||{};$jscomp.scope={};$jscomp.ASSUME_ES5=!1;$jscomp.ASSUME_NO_NATIVE_MAP=!1;$jscomp.ASSUME_NO_NATIVE_SET=!1;$jscomp.SIMPLE_FROUND_POLYFILL=!1;$jscomp.defineProperty=$jscomp.ASSUME_ES5||"function"==typeof Object.defineProperties?Object.defineProperty:function(a,b,c){a!=Array.prototype&&a!=Object.prototype&&(a[b]=c.value)};$jscomp.getGlobal=function(a){return"undefined"!=typeof window&&window===a?a:"undefined"!=typeof global&&null!=global?global:a};$jscomp.global=$jscomp.getGlobal(this);
$jscomp.polyfill=function(a,b,c,d){if(b){c=$jscomp.global;a=a.split(".");for(d=0;d<a.length-1;d++){var e=a[d];e in c||(c[e]={});c=c[e]}a=a[a.length-1];d=c[a];b=b(d);b!=d&&null!=b&&$jscomp.defineProperty(c,a,{configurable:!0,writable:!0,value:b})}};$jscomp.polyfill("Object.is",function(a){return a?a:function(a,c){return a===c?0!==a||1/a===1/c:a!==a&&c!==c}},"es6","es3");
$jscomp.polyfill("Array.prototype.includes",function(a){return a?a:function(a,c){var b=this;b instanceof String&&(b=String(b));var e=b.length;c=c||0;for(0>c&&(c=Math.max(c+e,0));c<e;c++){var g=b[c];if(g===a||Object.is(g,a))return!0}return!1}},"es7","es3");
$jscomp.checkStringArgs=function(a,b,c){if(null==a)throw new TypeError("The 'this' value for String.prototype."+c+" must not be null or undefined");if(b instanceof RegExp)throw new TypeError("First argument to String.prototype."+c+" must not be a regular expression");return a+""};$jscomp.polyfill("String.prototype.includes",function(a){return a?a:function(a,c){return-1!==$jscomp.checkStringArgs(this,a,"includes").indexOf(a,c||0)}},"es6","es3");
$jscomp.findInternal=function(a,b,c){a instanceof String&&(a=String(a));for(var d=a.length,e=0;e<d;e++){var g=a[e];if(b.call(c,g,e,a))return{i:e,v:g}}return{i:-1,v:void 0}};$jscomp.polyfill("Array.prototype.find",function(a){return a?a:function(a,c){return $jscomp.findInternal(this,a,c).v}},"es6","es3");
Array.prototype.includes||(Array.prototype.includes=function(a,b){var c=Object(this),d=parseInt(c.length)||0;if(0===d)return!1;b=parseInt(b)||0;0<=b||(b=d+b,0>b&&(b=0));for(;b<d;){var e=c[b];if(a===e||a!==a&&e!==e)return!0;b++}return!1});String.prototype.includes||(String.prototype.includes=function(a,b){"number"!==typeof b&&(b=0);return b+a.length>this.length?!1:-1!==this.indexOf(a,b)});String.prototype.capitalize=function(){return this.charAt(0).toUpperCase()+this.slice(1)};
Number.prototype.range=function(a,b){return this<a?a:this>b?b:+this};if(Array.prototype.forEach2)throw Error("can't patch arrays to add .forEach2");Array.prototype.forEach2=function(a,b){var c;if(null==this)throw new TypeError("this is null or not defined");var d=Object(this),e=d.length>>>0;if("function"!==typeof a)throw new TypeError(a+" is not a function");1<arguments.length&&(c=b);for(var g=0;g<e;){if(g in d){var m=a.call(c,d[g],g,d);if(void 0!==m)return m}g++}};
Array.prototype.pushs=function(a,b){if(!b||1>b)return this;for(var c=0;c<b;c++)this.push(a);return this};Array.prototype.pushsDeep=function(a,b){if(!(1>b)){for(var c=0;c<b;c++)this.push(co.clon(a));return this}};Array.prototype.last||(Array.prototype.last=function(){return this[this.length-1]});$.fn.activate=function(a){a&&co.rt.jq(a);var b=$(this).addClass("active");co.d(a)&&a.deactivate();return b};
$.fn.deactivate=function(a){a&&co.rt.jq(a);var b=$(this).removeClass("active");co.d(a)&&a.activate();return b};$.fn.isActive=function(){return $(this).hasClass("active")};$.fn.dataAttr=function(a,b){co.rt.is(a);co.rt.str(a);return $(this).attr("data-"+a,b).data(a,b)};window.co||(co={});
co.rt=new function(){var a=Object.prototype.toString;this.is=function(a){if(!a)throw Error("value is empty or falsy");};this.str=function(a){if("string"!==typeof a)throw Error("not a string");};this.str2=function(a){if("string"!==typeof a||!a)throw Error("not a string or empty string");};this.num=function(a){if("number"!==typeof a)throw Error("not a number");};this.numNorm=function(a){if("number"!==typeof a||isNaN(a)||!isFinite(a))throw Error("not a normal number");};this.numPos=function(a){co.rt.numNorm(a);
if(0>a)throw Error("negative number");};this.numNeg=function(a){co.rt.numNorm(a);if(0<a)throw Error("positive number");};this.bool=function(a){if("boolean"!==typeof a)throw Error("not a boolean");};this.undef=function(a){if("undefined"!==typeof a)throw Error("not an undefined");};this.def=function(a){if("undefined"===typeof a)throw Error("is undefined");};this.obj=function(b){if("object"!==typeof b||null===b||Array.isArray(b)&&"[object Object]"!==a.call(b))throw Error("not an object");};this.fun=
function(a){if("function"!==typeof a)throw Error("not a function");};this.ar=function(a){if(!Array.isArray(a))throw Error("not an array");};this.ar2=function(a){if(!Array.isArray(a)||!a.length)throw Error("not an array or empty array");};this.ar3=function(a){if(!Array.isArray(a)||2>a.length)throw Error("not an array or array item count is less than two");};this.jq=function(a){if(!(a instanceof jQuery))throw Error("not a jQuery object");};this.jqSel=function(a){if(!a||!(a instanceof jQuery||"string"===
typeof a||a instanceof Element||a instanceof HTMLDocument))throw Error("not valid jQuery selector");};this.webColor=function(a){if(!/^#[0-9a-fA-F]{6}$/g.test(a))throw Error("invalid webcolor");}};co.extend=function(a,b){co.rt.fun(a);co.rt.fun(b);var c=function(){};c.prototype=b.prototype;a.prototype=new c;a.prototype.constructor=a;a.superclass=b.prototype};co.noop=function(){};co.waitPopup=new CoWaitPopup;co.wait=function(a,b,c,d){co.waitPopup.show(a,b,c,d);return co.waitPopup};
co.nowait=function(a,b,c){co.waitPopup.close(a,c,b)};co.isInt=function(a){return!isNaN(parseInt(a,10))&&parseInt(a,10)===parseFloat(a)};co.normalNumber=function(a){return"number"===typeof a&&!isNaN(a)&&isFinite(a)};co.digits=function(a){return/^\d+$/.test(a)};co.timestamp=function(){return Math.floor(Date.now()/1E3)};
co.md5=function(a){function b(a,b){var k=a[0],l=a[1],f=a[2],h=a[3];k=d(k,l,f,h,b[0],7,-680876936);h=d(h,k,l,f,b[1],12,-389564586);f=d(f,h,k,l,b[2],17,606105819);l=d(l,f,h,k,b[3],22,-1044525330);k=d(k,l,f,h,b[4],7,-176418897);h=d(h,k,l,f,b[5],12,1200080426);f=d(f,h,k,l,b[6],17,-1473231341);l=d(l,f,h,k,b[7],22,-45705983);k=d(k,l,f,h,b[8],7,1770035416);h=d(h,k,l,f,b[9],12,-1958414417);f=d(f,h,k,l,b[10],17,-42063);l=d(l,f,h,k,b[11],22,-1990404162);k=d(k,l,f,h,b[12],7,1804603682);h=d(h,k,l,f,b[13],12,
-40341101);f=d(f,h,k,l,b[14],17,-1502002290);l=d(l,f,h,k,b[15],22,1236535329);k=e(k,l,f,h,b[1],5,-165796510);h=e(h,k,l,f,b[6],9,-1069501632);f=e(f,h,k,l,b[11],14,643717713);l=e(l,f,h,k,b[0],20,-373897302);k=e(k,l,f,h,b[5],5,-701558691);h=e(h,k,l,f,b[10],9,38016083);f=e(f,h,k,l,b[15],14,-660478335);l=e(l,f,h,k,b[4],20,-405537848);k=e(k,l,f,h,b[9],5,568446438);h=e(h,k,l,f,b[14],9,-1019803690);f=e(f,h,k,l,b[3],14,-187363961);l=e(l,f,h,k,b[8],20,1163531501);k=e(k,l,f,h,b[13],5,-1444681467);h=e(h,k,l,
f,b[2],9,-51403784);f=e(f,h,k,l,b[7],14,1735328473);l=e(l,f,h,k,b[12],20,-1926607734);k=c(l^f^h,k,l,b[5],4,-378558);h=c(k^l^f,h,k,b[8],11,-2022574463);f=c(h^k^l,f,h,b[11],16,1839030562);l=c(f^h^k,l,f,b[14],23,-35309556);k=c(l^f^h,k,l,b[1],4,-1530992060);h=c(k^l^f,h,k,b[4],11,1272893353);f=c(h^k^l,f,h,b[7],16,-155497632);l=c(f^h^k,l,f,b[10],23,-1094730640);k=c(l^f^h,k,l,b[13],4,681279174);h=c(k^l^f,h,k,b[0],11,-358537222);f=c(h^k^l,f,h,b[3],16,-722521979);l=c(f^h^k,l,f,b[6],23,76029189);k=c(l^f^h,
k,l,b[9],4,-640364487);h=c(k^l^f,h,k,b[12],11,-421815835);f=c(h^k^l,f,h,b[15],16,530742520);l=c(f^h^k,l,f,b[2],23,-995338651);k=g(k,l,f,h,b[0],6,-198630844);h=g(h,k,l,f,b[7],10,1126891415);f=g(f,h,k,l,b[14],15,-1416354905);l=g(l,f,h,k,b[5],21,-57434055);k=g(k,l,f,h,b[12],6,1700485571);h=g(h,k,l,f,b[3],10,-1894986606);f=g(f,h,k,l,b[10],15,-1051523);l=g(l,f,h,k,b[1],21,-2054922799);k=g(k,l,f,h,b[8],6,1873313359);h=g(h,k,l,f,b[15],10,-30611744);f=g(f,h,k,l,b[6],15,-1560198380);l=g(l,f,h,k,b[13],21,1309151649);
k=g(k,l,f,h,b[4],6,-145523070);h=g(h,k,l,f,b[11],10,-1120210379);f=g(f,h,k,l,b[2],15,718787259);l=g(l,f,h,k,b[9],21,-343485551);a[0]=p(k,a[0]);a[1]=p(l,a[1]);a[2]=p(f,a[2]);a[3]=p(h,a[3])}function c(a,b,c,d,e,h){b=p(p(b,a),p(d,h));return p(b<<e|b>>>32-e,c)}function d(a,b,d,e,f,h,g){return c(b&d|~b&e,a,b,f,h,g)}function e(a,b,d,e,f,h,g){return c(b&e|d&~e,a,b,f,h,g)}function g(a,b,d,e,f,h,g){return c(d^(b|~e),a,b,f,h,g)}function m(a){var c=a.length,d=[1732584193,-271733879,-1732584194,271733878],e;
for(e=64;e<=a.length;e+=64){var f,h=a.substring(e-64,e),g=[];for(f=0;64>f;f+=4)g[f>>2]=h.charCodeAt(f)+(h.charCodeAt(f+1)<<8)+(h.charCodeAt(f+2)<<16)+(h.charCodeAt(f+3)<<24);b(d,g)}a=a.substring(e-64);f=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(e=0;e<a.length;e++)f[e>>2]|=a.charCodeAt(e)<<(e%4<<3);f[e>>2]|=128<<(e%4<<3);if(55<e)for(b(d,f),e=0;16>e;e++)f[e]=0;f[14]=8*c;b(d,f);return d}function n(a){for(var b=0;b<a.length;b++){for(var c=b,d=a[b],e="",g=0;4>g;g++)e+=q[d>>8*g+4&15]+q[d>>8*g&15];a[c]=e}return a.join("")}
function p(a,b){return a+b&4294967295}co.rt.str(a);var q="0123456789abcdef".split("");"5d41402abc4b2a76b9719d911017c592"!=n(m("hello"))&&(p=function(a,b){var c=(a&65535)+(b&65535);return(a>>16)+(b>>16)+(c>>16)<<16|c&65535});return n(m(a+""))};co.parseJSON=function(a){try{var b=JSON.parse(a);var c=1}catch(d){c=0}return c?b:!1};co.f=function(a){$.isFunction(a)&&a.apply(null,Array.prototype.slice.call(arguments,1))};co.d=function(a){return"undefined"!==typeof a};
co.dv=function(a,b){return co.d(a)?a:co.d(b)?b:""};co.imgLoad=function(a,b,c){function d(){m.removeEventListener("load",e);m.removeEventListener("error",g)}function e(){if(!n){if(!m.naturalWidth||!m.naturalHeight)return g();n=!0;d();b(m)}}function g(){!n&&m.src&&(n=!0,d(),c(m))}co.rt.fun(b);c&&co.rt.fun(c);var m=new Image;if("string"!==typeof a||!a)return c(m);m.addEventListener("load",e);m.addEventListener("error",g);var n=!1;m.src=a};
co.imgRealSizes=function(a,b,c){co.rt.is(a);co.rt.str(a);co.rt.fun(b);c&&co.rt.fun(c);co.imgLoad(a,function(c){co.f(b,c.naturalWidth,c.naturalHeight,a,c)},function(){return co.f(c)})};co.arrayObject=function(a,b,c){co.rt.ar(a);if("number"===typeof b){if(!co.normalNumber(b))throw Error("invalid key number: "+b);}else if("string"===typeof b){if(!b)throw Error("invalid key string: "+b);}else throw Error("invalid key: "+b);for(var d=0;d<a.length;d++)if(a[d][b]===c)return a[d];return null};
co.arrayObjectID=function(a,b,c){co.rt.ar(a);if("number"===typeof b){if(!co.normalNumber(b))throw Error("invalid key number: "+b);}else if("string"===typeof b){if(!b)throw Error("invalid key string: "+b);}else throw Error("invalid key: "+b);for(var d=0;d<a.length;d++)if(a[d][b]===c)return d;return-1};
co.arrayObjects=function(a,b,c){co.rt.ar(a);if("number"===typeof b){if(!co.normalNumber(b))throw Error("invalid key number: "+b);}else if("string"===typeof b){if(!b)throw Error("invalid key string: "+b);}else throw Error("invalid key: "+b);return a.filter(function(a){return a[b]===c})};co.arrayRemoveItem=function(a,b){b=a.indexOf(b);-1!==b&&a.splice(b,1);return b};
co.touchCoord=function(a){co.rt.obj(a);["touchstart","touchmove","touchend"].includes(a.type)&&(a.pageX=a.originalEvent.touches[0].pageX,a.pageY=a.originalEvent.touches[0].pageY)};co.hexToRgb=function(a){co.rt.str(a);co.rt.webColor(a);a=a.substr(1);a=parseInt(a,16);return(a>>16&255)+","+(a>>8&255)+","+(a&255)};
co.rgbToHex=function(a){co.rt.is(a);co.rt.str(a);a=a.match(/\b(\d{1,3},\d{1,3},\d{1,3})\b/g);if(!co.ar(a))throw Error("invalid rgb string");a=a[0].split(",").map(Number).map(function(a){return Math.min(a,255)});if(3!==a.length)throw Error("wrong rgb length");return"#"+a.map(function(a){return("0"+a.toString(16)).slice(-2)}).join("")};
co.rgbToHexSilent=function(a,b){if(!a||"string"!==typeof a)return b;if(co.validWebHexColor(a))return co.shortWebColorToLong(a);a=a.replace(/\s/g,"");a=a.match(/\b(\d{1,3},\d{1,3},\d{1,3}(?:,\d{1,3})?)\b/g);if(!co.ar(a))return b;a=a[0].split(",").map(Number).map(function(a){return Math.min(a,255)});if(3!==a.length&&4!==a.length)return b;4===a.length&&(a.length=3);return"#"+a.map(function(a){return("0"+a.toString(16)).slice(-2)}).join("")};
co.validWebHexColor=function(a,b){return a&&"string"===typeof a?co.d(b)?(new RegExp("^#[a-f0-9]{"+b+"}$")).test(a):/^#([a-f0-9]{3}|[a-f0-9]{6})$/.test(a):!1};co.shortWebColorToLong=function(a){if(!co.validWebHexColor(a))throw Error("invalid hex color");return co.validWebHexColor(a,6)?a:"#"+a[1]+a[1]+a[2]+a[2]+a[3]+a[3]};
co.rgbaToRgbSilent=function(a,b){if(!a||"string"!==typeof a)return b;a=a.replace(/\s/g,"");a=a.match(/\b(\d{1,3},\d{1,3},\d{1,3}(?:,\d{1,3})?)\b/g);if(!co.ar(a))return b;a=a[0].split(",").map(Number).map(function(a){return Math.min(a,255)});return 3!==a.length&&4!==a.length?b:"rgb("+a[0]+","+a[1]+","+a[2]+")"};
co.equal=function(a,b){var c,d=[],e=[];if(isNaN(a)&&isNaN(b)&&"number"===typeof a&&"number"===typeof b||a===b)return!0;if("function"===typeof a&&"function"===typeof b||a instanceof Date&&b instanceof Date||a instanceof RegExp&&b instanceof RegExp||a instanceof String&&b instanceof String||a instanceof Number&&b instanceof Number)return a.toString()===b.toString();if(!(a instanceof Object&&b instanceof Object)||a.isPrototypeOf(b)||b.isPrototypeOf(a)||a.constructor!==b.constructor||a.prototype!==b.prototype||
-1<d.indexOf(a)||-1<e.indexOf(b))return!1;for(c in b)if(b.hasOwnProperty(c)!==a.hasOwnProperty(c)||typeof b[c]!==typeof a[c])return!1;for(c in a){if(b.hasOwnProperty(c)!==a.hasOwnProperty(c)||typeof b[c]!==typeof a[c])return!1;switch(typeof a[c]){case "object":case "function":d.push(a);e.push(b);if(!co.equal(a[c],b[c]))return!1;d.pop();e.pop();break;default:if(a[c]!==b[c])return!1}}return!0};
co.validInpText=function(a,b,c){a=$(a);if(!a.length)throw Error("no inp element");b=b||1024;a=c?a.val():a.val().trim();a.length>b&&(a=a.substr(0,b));return a};co.validInpNum=function(a,b,c,d){a=$(a);if(!a.length)throw Error("no inp element");a=(d?parseFloat:parseInt)(a.val().trim().replace(/,/g,"."),10);if(isNaN(a)||!isFinite(a))a=0;co.d(b)&&a<b&&(a=b);co.d(c)&&a>c&&(a=c);return a};
co.clon=function(a){if(!a||"object"!==typeof a)throw Error("not an object or array");return $.extend(!0,Array.isArray(a)?[]:{},a)};
co.browser=function(){var a=navigator.userAgent,b=a.match(/(opera|chrome|safari|firefox|msie|trident(?=\/))\/?\s*(\d+)/i)||[];if(/trident/i.test(b[1])){var c=/\brv[ :]+(\d+)/g.exec(a)||[];return"IE "+(c[1]||"")}if("Chrome"===b[1]&&(c=a.match(/\b(OPR|Edge)\/(\d+)/),null!==c))return c.slice(1).join(" ").replace("OPR","Opera");b=b[2]?[b[1],b[2]]:[navigator.appName,navigator.appVersion,"-?"];(c=a.match(/version\/(\d+)/i))&&b.splice(1,1,c[1]);"MSIE"===b[0]&&(b[0]="IE");return b.join(" ")};
co.likeJSON=function(a){return"string"===typeof a&&!!a.trim().length&&0===a.indexOf("{")};co.validEmail=function(a){co.rt.str(a);return/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(a)};co.validURL=function(a){co.rt.str(a);return/^(http|https):\/\/(([a-zA-Z0-9$\-_.+!*'(),;:&=]|%[0-9a-fA-F]{2})+@)?(((25[0-5]|2[0-4][0-9]|[0-1][0-9][0-9]|[1-9][0-9]|[0-9])(\.(25[0-5]|2[0-4][0-9]|[0-1][0-9][0-9]|[1-9][0-9]|[0-9])){3})|localhost|([a-zA-Z0-9\-\u00C0-\u017F]+\.)+([a-zA-Z]{2,}))(:[0-9]+)?(\/(([a-zA-Z0-9$\-_.+!*'(),;:@&=]|%[0-9a-fA-F]{2})*(\/([a-zA-Z0-9$\-_.+!*'(),;:@&=]|%[0-9a-fA-F]{2})*)*)?(\?([a-zA-Z0-9$\-_.+!*'(),;:@&=\/?]|%[0-9a-fA-F]{2})*)?(#([a-zA-Z0-9$\-_.+!*'(),;:@&=\/?]|%[0-9a-fA-F]{2})*)?)?$/.test(a)};
co.isMobileOrTablet=function(){var a=!1,b=navigator.userAgent||navigator.vendor||window.opera;if(/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino|android|ipad|playbook|silk/i.test(b)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(b.substr(0,
4)))a=!0;return a};co.isRetina=function(){if(window.matchMedia){var a=window.matchMedia("only screen and (min--moz-device-pixel-ratio: 1.3), only screen and (-o-min-device-pixel-ratio: 2.6/2), only screen and (-webkit-min-device-pixel-ratio: 1.3), only screen  and (min-device-pixel-ratio: 1.3), only screen and (min-resolution: 1.3dppx)");return a&&a.matches||1<window.devicePixelRatio}return!1};
co.randomStr=function(a){co.rt.numPos(a);for(var b="",c=0;c<a;c++)b+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".charAt(Math.floor(62*Math.random()));return b};co.URLVars=function(){var a={};window.location.href.replace(/[?&]+([^=&]+)=([^&]*)/gi,function(b,c,d){a[c]=d});return a};co.chain=function(a){var b=[],c;for(c=0;c<arguments.length;c++)b[c]=arguments[c];c=b[0];if("undefined"!==typeof c){for(var d=1;d<b.length&&(c=c[b[d]],"undefined"!==typeof c);d++);return c}};
co.st=function(a,b,c){if(null===a||void 0===a)return Error("invalid object");if("string"!==typeof b||!b)return Error("invalid path");b=b.split(".");for(var d=0;d<b.length;d++){var e=b[d];if(null===e||void 0===e)throw Error("invalid chain");if(d===b.length-1){if(e in a&&!a.hasOwnProperty(e))throw Error("setting prototype property is not allowed");a[e]=c}else{if(null===a[e]||void 0===a[e])throw Error("invalidChain");if(e in a&&!a.hasOwnProperty(e))throw Error("setting prototype property is not allowed");
a=a[e]}}};co.gt=function(a,b){if(null===a||void 0===a)return a;b=b.split(".");for(var c=0;c<b.length;c++){var d=b[c];if(!a.hasOwnProperty(d))return;a=a[d];if(null===a||void 0===a)break}return a};co.sidesParam=function(a){co.rt.obj(a);a.sidesParam||(a.sidesParam=[]);var b=a.sides.length-a.sidesParam.length;0<b&&a.sidesParam.pushsDeep({},b);0>b&&(a.sidesParam.length=a.sides.length);a.sidesParam.forEach(function(b,d){Array.isArray(b)&&(a.sidesParam[d]={})});return a.sidesParam};
co.sideRemove=function(a,b){co.rt.obj(a);co.rt.numPos(b);co.sidesParam(a).splice(b,1);a.sides.splice(b,1);a.colors.forEach(function(a){a.layers.splice(b,1);a.sidesData.splice(b,1);a.sidesDescr&&a.sidesDescr.splice(b,1);co.ar(a.formats)&&a.formats.splice(b,1)})};co.colorRemove=function(a,b){co.rt.obj(a);co.rt.numPos(b);a.colors.splice(b,1);a.prices&&a.prices.forEach(function(a){a.prices&&a.prices.forEach(function(a){a.prices&&a.prices.splice(b,1)})})};
co.escapeHTML=function(a){co.rt.str(a);var b={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;","`":"&#x60;","=":"&#x3D;"};return a.replace(/[&<>"'`=\/]/g,function(a){return b[a]})};co.parallel=function(a,b){function c(c){c?d||(d=!0,n||(n=!0,b(c))):(m++,m!==a.length||n||(n=!0,b(void 0)))}co.rt.ar(a);co.rt.fun(b);a.length||b();for(var d=!1,e=0;e<a.length;e++){var g=a[e];if(!g||"function"!==typeof g)return b(Error("no-function"));if(d)break;g(c)}var m=0,n=!1};
co.waterfall=function(a,b){function c(){if(!a.length)return b();var c=a.shift();if(!c||"function"!==typeof c)return b(Error("no-function"));setTimeout(function(){return c(d)},0)}function d(a){if(a)return b(a);c()}co.rt.ar(a);co.rt.fun(b);a=a.slice();c()};co.forAsync=function(a,b,c){var d=[];a.forEach(function(c,g){d.push(function(d){b(d,c,g,a)})});co.waterfall(d,c)};
co.readFile=function(a,b){co.rt.obj(a);co.rt.fun(b);var c=!1,d=new FileReader;d.onerror=function(){var a=Error();c||(c=!0,b(a,void 0))};d.onload=function(){var a=this.result;c||(c=!0,b(null,a))};d.readAsArrayBuffer(a)};
co.responseParser=function(a){co.rt.is(a);co.rt.fun(a.error);co.rt.fun(a.success);if("string"!==typeof a.data||!a.data)return a.error("no-data");var b=co.parseJSON(a.data);if(!b)return a.error("json-invalid");"error"===b.response?a.error("error",b):"success"===b.response?a.success(b):a.error("json-noresponse")};
co.ajax=function(a){function b(b){b>c&&(c=b);a.progress&&a.progress(c)}co.rt.obj(a);a.dataType="html";a.post&&(a.type="post",a.route=a.post,delete a.post);a.route&&(a.url=co.v.domain+a.route,delete a.route);a.binary&&(a.data=a.binary,a.type="post",a.processData=!1,a.contentType="application/octet-stream",delete a.binary);var c=0;if(!a.xhr&&a.progress){a.xhr=function(){var a=$.ajaxSettings.xhr();a.upload&&a.upload.addEventListener("progress",function(a){a.lengthComputable&&b(a.loaded/a.total)},!1);
return a};var d=a.complete;a.complete=function(a,c){b(1);d&&d(a,c)}}var e=a.error,g=!1;a.error=function(a,c){g||(g=!0,b(1),e&&e(c))};var m=a.success;a.success=function(a){b(1);co.responseParser({data:a,success:function(a){co.f(m,a)},error:function(a,b){if(!g){g=!0;var c=b&&b.message;e&&(c?e(c,b):e(a))}}})};b(0);return $.ajax(a)};
co.fileExt=function(a){return"string"===typeof a?a&&-1!==a.indexOf(".")?a.split(".").pop().toLowerCase():"":a instanceof File?a.name&&-1!==a.name.indexOf(".")?a.name.split(".").pop().toLowerCase():"":""};co.blobToBase64=function(a,b){co.rt.fun(b);if(!(a instanceof Blob))return b(Error("no blob"));var c=new FileReader;c.onerror=function(){b(Error("blobToBase64 FileReader error"))};c.onload=function(){var a=c.result;if(!a)return b(Error("blobToBase64 result error"));b(null,a.split(",")[1])};c.readAsDataURL(a)};
co.base64ToBlob=function(a,b){co.rt.str(a);b=b||"";co.rt.str(b);a=atob(a);for(var c=a.length,d=Math.ceil(c/1024),e=Array(d),g=0;g<d;++g){for(var m=1024*g,n=Math.min(m+1024,c),p=Array(n-m),q=0;m<n;++q,++m)p[q]=a[m].charCodeAt(0);e[g]=new Uint8Array(p)}return new Blob(e,{type:b})};co.hasEmoji=function(a){return/[\u2700-\u27bf]|(?:\ud83c[\udde6-\uddff]){2}|[\ud800-\udbff][\udc00-\udfff]|[\u0023-\u0039]\ufe0f?\u20e3|\u3299|\u3297|\u303d|\u3030|\u24c2|\ud83c[\udd70-\udd71]|\ud83c[\udd7e-\udd7f]|\ud83c\udd8e|\ud83c[\udd91-\udd9a]|\ud83c[\udde6-\uddff]|\ud83c[\ude01-\ude02]|\ud83c\ude1a|\ud83c\ude2f|\ud83c[\ude32-\ude3a]|\ud83c[\ude50-\ude51]|\u203c|\u2049|[\u25aa-\u25ab]|\u25b6|\u25c0|[\u25fb-\u25fe]|\u00a9|\u00ae|\u2122|\u2139|\ud83c\udc04|[\u2600-\u26FF]|\u2b05|\u2b06|\u2b07|\u2b1b|\u2b1c|\u2b50|\u2b55|\u231a|\u231b|\u2328|\u23cf|[\u23e9-\u23f3]|[\u23f8-\u23fa]|\ud83c\udccf|\u2934|\u2935|[\u2190-\u21ff]/g.test(a)};
co.encodeTagBrackets=function(a){co.rt.str(a);return a.replace(/</g,"#[to]#").replace(/>/g,"#[tc]#")};co.decodeTagBrackets=function(a){co.rt.str(a);return a.replace(/#\[to]#/g,"<").replace(/#\[tc]#/g,">")};
co.setCookie=function(a,b,c){co.rt.is(a);co.rt.str(a);co.rt.str(b);c=c||{};var d=c.expires;if("number"===typeof d&&d){var e=new Date;e.setTime(e.getTime()+1E3*d);d=c.expires=e}d&&d.toUTCString&&(c.expires=d.toUTCString());b=encodeURIComponent(b);a=a+"="+b;for(var g in c)c.hasOwnProperty(g)&&(a+="; "+g,b=c[g],!0!==b&&(a+="="+b));document.cookie=a};
co.getCookie=function(a){co.rt.str(a);return(a=document.cookie.match(new RegExp("(?:^|; )"+a.replace(/([.$?*|{}()\[\]\\\/+^])/g,"\\$1")+"=([^;]*)")))?decodeURIComponent(a[1]):void 0};co.removeCookie=function(a){co.rt.str(a);co.setCookie(a,"",{expires:-1})};co.rectContain=function(a,b,c,d){co.rt.numNorm(a);co.rt.numNorm(b);co.rt.numNorm(c);co.rt.numNorm(d);return c/d<a/b?b/d:a/c};
co.rectCover=function(a,b,c,d){co.rt.numNorm(a);co.rt.numNorm(b);co.rt.numNorm(c);co.rt.numNorm(d);return c/d<a/b?a/c:b/d};co.ar=function(a){return Array.isArray(a)&&!!a.length};co.ar2=function(a){return Array.isArray(a)&&1<a.length};co.emptyObject=function(a){return!Object.getOwnPropertyNames(a).length};co.getDetailsList=function(){return co.gt(co.v.conData,"details.list")};co.physicalDetailVariant=function(a,b){co.rt.obj(a);co.rt.obj(b);a=co.clon(a);a.image=b;return a};
co.getDetailVariantInfo=function(a){if(co.digits(a)){var b=co.getDetailsList();if(Array.isArray(b))for(var c=0;c<b.length;c++){var d=b[c],e=d.variants;if(co.ar(e)){if(d.unical===a)return{detail:d,detailID:c,variant:e[0],variantID:0};for(var g=0;g<e.length;g++){var m=e[g];if(m.unical===a)return{detail:d,detailID:c,variant:m,variantID:g}}}}}};co.getDetailVariantImgSrc=function(a){if(a=co.getDetailVariantInfo(a))if(a=a.variant.img)return co.v.domain+"detail-imgs/"+co.v.adminID+"/"+a};
co.getDetailVariantClickmapSrc=function(a){if(a=co.getDetailVariantInfo(a))if(a=a.variant.clickmap)return co.v.domain+"detail-imgs/"+co.v.adminID+"/"+a};
function CoWaitPopup(){var a=this;a.pop=$('<div class="wait-popup"><div class="win"><span></span></div></div>');a.win=a.pop.find(".win");a.capt=a.pop.find("span");a.shown=!1;var b,c;a.show=function(d,g,m,n){co.d(c)||(g=g||"",c=n,clearTimeout(b),a.shown||(co.body.append(a.pop),a.pop.css("opacity",0)),a.pop.toggleClass("fade",!d),a.capt.html(g),g?(a.win.css("width",co.winWidth-40),d=a.capt.width()+40,100>d&&(d=100),a.win.css("width",d)):a.win.css("width","100px"),a.setWithProgressBar(m),a.pos(),a.pop.css("opacity",
1),a.shown=!0)};a.close=function(d,g,m){if(co.d(c)){if(c!==m)return;c=void 0}a.pop.toggleClass("fade",!d);d?(a.pop.remove(),a.shown=!1,g&&g()):(a.pop.css("opacity",0),b=setTimeout(function(){a.pop.remove();a.shown=!1;g&&g()},400))};a.pos=function(){a.win.css("top",Math.floor(((co.winHeight||document.documentElement.clientHeight)-a.win.outerHeight())/2)+"px")};a.getText=function(){return a.capt.html()};a.setText=function(b){b?(a.capt.html(b),a.win.css("width",co.winWidth-40),b=a.capt.width()+40,100>
b&&(b=100),a.win.css("width",b)):a.win.css("width","100px");a.pos()};var d=!1;a.setWithProgressBar=function(b){b?d||(co.d(a.bar)?(a.bar.hide(),a.progress(0),a.show.varDontOptimize=a.bar[0].offsetHeight,a.bar.show()):(a.win.append('<div class="progress"><div></div></div>'),a.bar=a.win.find(".progress div"),a.progress=function(b){a.bar.css("width",b+"%")},a.win.addClass("with-progress")),a.bar.toggleClass("sharp","sharp"===b),d=!0):d&&co.d(a.bar)&&(a.win.find("div.progress").remove(),delete a.bar,delete a.progress,
a.win.removeClass("with-progress"),d=!1)};$(window).resize(function(){a.pos()})}co.eachLayer=function(a){co.rt.fun(a);var b=co.v.conData.bases;co.ar(b)&&b.forEach(function(b,d){b.models&&b.models.forEach(function(c,g){c.colors&&c.colors.forEach(function(e,n){e.layers&&e.layers.forEach(function(m,q){m.forEach(function(p,r){a(p,r,m,q,e,n,c,g,b,d)})})})})})};
co.eachLayerEx=function(a){co.rt.fun(a);var b=co.v.conData.bases;if(co.ar(b))for(var c=0;c<b.length;c++){var d=b[c];if(d.models)for(var e=0;e<d.models.length;e++){var g=d.models[e];if(g.colors)for(var m=0;m<g.colors.length;m++){var n=g.colors[m];if(n.layers)for(var p=0;p<n.layers.length;p++)for(var q=n.layers[p],t=0;t<q.length;t++){var r=a(q[t],t,q,p,n,m,g,e,d,c);if(!1===r)return;if(r&&r.break)return r}}}}};co.isSha512=function(a){return"string"===typeof a&&128===a.length&&/[a-fA-F0-9]{128}/.test(a)};
co.imgExtEqualMime=function(a,b){co.rt.is(a);co.rt.str(a);co.rt.is(b);co.rt.str(b);a=["jpg","jpeg","png","gif"].indexOf(a);if(-1===a)throw Error("wrong ext");return["image/jpeg","image/jpeg","image/png","image/gif"][a]===b};
co.colorMatrixMix=function(a,b,c){if("string"!==typeof a&&!Array.isArray(a))throw Error("invalid first matrix");if("string"!==typeof b&&!Array.isArray(b))throw Error("invalid second matrix");co.d(c)&&co.rt.numNorm(c);co.d(c)||(c=.5);var d=Array.isArray(a)?a:a.split(" "),e=Array.isArray(b)?b:b.split(" "),g=[];d.forEach(function(a,b){co.d(e[b])?g[b]=a*(1-c)+e[b]*c:g[b]=a*(1-c)});return Array.isArray(a)?g:g.join(" ")};
co.colorMatrixMultiply=function(a,b){if("string"!==typeof a&&!Array.isArray(a))throw Error("invalid first matrix");if("string"!==typeof b&&!Array.isArray(b))throw Error("invalid second matrix");var c=Array.isArray(a)?a:a.split(" "),d=Array.isArray(b)?b:b.split(" "),e=[];c.forEach(function(a,b){e[b]=a*(d[b]?d[b]:1)});return Array.isArray(a)?e:e.join(" ")};
co.colorMatrixAdd=function(a,b){if("string"!==typeof a&&!Array.isArray(a))throw Error("invalid first matrix");if("string"!==typeof b&&!Array.isArray(b))throw Error("invalid second matrix");var c=Array.isArray(a)?a:a.split(" "),d=Array.isArray(b)?b:b.split(" "),e=[];c.forEach(function(a,b){e[b]=+a+(d[b]?+d[b]:0)});return Array.isArray(a)?e:e.join(" ")};
co.rgb2hsv=function(a){co.rt.obj(a);co.rt.numNorm(a.r);co.rt.numNorm(a.g);co.rt.numNorm(a.b);var b=a.r,c=a.g;a=a.b;var d=Math.max(b,c,a),e=Math.min(b,c,a),g=d-e;if(d===e)var m=0;else{switch(d){case b:m=(c-a)/g+(c<a?6:0);break;case c:m=(a-b)/g+2;break;case a:m=(b-c)/g+4}m/=6}return{h:360*m,s:0===d?0:g/d,v:d}};
co.makeToneMatrix=function(a){co.rt.webColor(a);var b=co.hexToRgb(a).split(","),c=b[0]/255,d=b[1]/255;b=b[2]/255;a="#000000"===a;var e=co.rgb2hsv({r:c,g:d,b:b}).v;return co.colorMatrixMix([e,0,0,0,0,0,e,0,0,0,0,0,e,0,0,0,0,0,1,0].join(" "),.333*c+" "+.333*c+" "+.333*c+" 0 0 "+.333*d+" "+.333*d+" "+.333*d+" 0 0 "+.333*b+" "+.333*b+" "+.333*b+" 0 0 0 0 0 1 0",a?1:co.rgb2hsv({r:c,g:d,b:b}).s)};co.defineGet=function(a,b,c){Object.defineProperty(a,b,{get:c})};
co.defineSet=function(a,b,c){Object.defineProperty(a,b,{set:c})};
co.getProductByUnical=function(a){var b={found:"none",baseIndex:-1,modelIndex:-1,colorIndex:-1,sideIndex:-1,base:void 0,model:void 0,color:void 0,sideTitle:"",sideData:void 0};if(!co.digits(a)||!co.normalNumber(a))throw Error("invalid unical");var c=co.v.conData.bases,d=0;a:for(;d<c.length;d++){var e=c[d];if(e.unical===a){b.found="base";b.baseIndex=d;b.base=e;break}var g=e.models;if(co.ar(g))for(var m=0;m<g.length;m++){var n=g[m];if(n.unical===a){b.found="model";b.baseIndex=d;b.base=e;b.modelIndex=
m;b.model=n;break a}var p=n.colors;if(co.ar(p))for(var q=0;q<p.length;q++){var t=p[q];if(t.unical===a){b.found="color";b.baseIndex=d;b.base=e;b.modelIndex=m;b.model=n;b.colorIndex=q;b.color=t;break a}var r=t.sidesData;if(co.ar(r))for(var k=0;k<r.length;k++){var l=r[k];if(l.unical===a){b.found="side";b.baseIndex=d;b.base=e;b.modelIndex=m;b.model=n;b.colorIndex=q;b.color=t;b.sideIndex=k;b.sideTitle=n.sides[k];b.sideData=l;break a}}}}}return b};
co.getProductByUnicalBool=function(a){if(!co.digits(a)||!co.normalNumber(a))throw Error("invalid unical");a=co.getProductByUnical(a);if("none"!==a.found)return a};co.arrayExtend=function(a,b){b.forEach(function(b){return a.push(b)});return a};co.baseUnicals=function(a){var b=[a.unical];a.models.forEach(function(a){co.arrayExtend(b,co.modelUnicals(a))});return b};co.modelUnicals=function(a){var b=[a.unical];a.colors.forEach(function(a){co.arrayExtend(b,co.colorUnicals(a))});return b};
co.colorUnicals=function(a){var b=[a.unical];a.sidesData.forEach(function(a){return b.push(a.unical)});return b};co.checkWebpSupport=function(a){var b=new Image;b.onerror=function(){return a(!1)};b.onload=function(){return a(1===b.width)};b.src="data:image/webp;base64,UklGRiQAAABXRUJQVlA4IBgAAAAwAQCdASoBAAEAAwA0JaQAA3AA/vuUAAA="};
var $jscomp=$jscomp||{};$jscomp.scope={};$jscomp.findInternal=function(a,d,g){a instanceof String&&(a=String(a));for(var e=a.length,h=0;h<e;h++){var c=a[h];if(d.call(g,c,h,a))return{i:h,v:c}}return{i:-1,v:void 0}};$jscomp.ASSUME_ES5=!1;$jscomp.ASSUME_NO_NATIVE_MAP=!1;$jscomp.ASSUME_NO_NATIVE_SET=!1;$jscomp.SIMPLE_FROUND_POLYFILL=!1;
$jscomp.defineProperty=$jscomp.ASSUME_ES5||"function"==typeof Object.defineProperties?Object.defineProperty:function(a,d,g){a!=Array.prototype&&a!=Object.prototype&&(a[d]=g.value)};$jscomp.getGlobal=function(a){return"undefined"!=typeof window&&window===a?a:"undefined"!=typeof global&&null!=global?global:a};$jscomp.global=$jscomp.getGlobal(this);
$jscomp.polyfill=function(a,d,g,e){if(d){g=$jscomp.global;a=a.split(".");for(e=0;e<a.length-1;e++){var h=a[e];h in g||(g[h]={});g=g[h]}a=a[a.length-1];e=g[a];d=d(e);d!=e&&null!=d&&$jscomp.defineProperty(g,a,{configurable:!0,writable:!0,value:d})}};$jscomp.polyfill("Array.prototype.find",function(a){return a?a:function(a,g){return $jscomp.findInternal(this,a,g).v}},"es6","es3");$jscomp.polyfill("Object.is",function(a){return a?a:function(a,g){return a===g?0!==a||1/a===1/g:a!==a&&g!==g}},"es6","es3");
$jscomp.polyfill("Array.prototype.includes",function(a){return a?a:function(a,g){var d=this;d instanceof String&&(d=String(d));var h=d.length;g=g||0;for(0>g&&(g=Math.max(g+h,0));g<h;g++){var c=d[g];if(c===a||Object.is(c,a))return!0}return!1}},"es7","es3");
$jscomp.checkStringArgs=function(a,d,g){if(null==a)throw new TypeError("The 'this' value for String.prototype."+g+" must not be null or undefined");if(d instanceof RegExp)throw new TypeError("First argument to String.prototype."+g+" must not be a regular expression");return a+""};$jscomp.polyfill("String.prototype.includes",function(a){return a?a:function(a,g){return-1!==$jscomp.checkStringArgs(this,a,"includes").indexOf(a,g||0)}},"es6","es3");
$jscomp.arrayIteratorImpl=function(a){var d=0;return function(){return d<a.length?{done:!1,value:a[d++]}:{done:!0}}};$jscomp.arrayIterator=function(a){return{next:$jscomp.arrayIteratorImpl(a)}};$jscomp.SYMBOL_PREFIX="jscomp_symbol_";$jscomp.initSymbol=function(){$jscomp.initSymbol=function(){};$jscomp.global.Symbol||($jscomp.global.Symbol=$jscomp.Symbol)};$jscomp.Symbol=function(){var a=0;return function(d){return $jscomp.SYMBOL_PREFIX+(d||"")+a++}}();
$jscomp.initSymbolIterator=function(){$jscomp.initSymbol();var a=$jscomp.global.Symbol.iterator;a||(a=$jscomp.global.Symbol.iterator=$jscomp.global.Symbol("iterator"));"function"!=typeof Array.prototype[a]&&$jscomp.defineProperty(Array.prototype,a,{configurable:!0,writable:!0,value:function(){return $jscomp.iteratorPrototype($jscomp.arrayIteratorImpl(this))}});$jscomp.initSymbolIterator=function(){}};
$jscomp.initSymbolAsyncIterator=function(){$jscomp.initSymbol();var a=$jscomp.global.Symbol.asyncIterator;a||(a=$jscomp.global.Symbol.asyncIterator=$jscomp.global.Symbol("asyncIterator"));$jscomp.initSymbolAsyncIterator=function(){}};$jscomp.iteratorPrototype=function(a){$jscomp.initSymbolIterator();a={next:a};a[$jscomp.global.Symbol.iterator]=function(){return this};return a};
$jscomp.iteratorFromArray=function(a,d){$jscomp.initSymbolIterator();a instanceof String&&(a+="");var g=0,e={next:function(){if(g<a.length){var h=g++;return{value:d(h,a[h]),done:!1}}e.next=function(){return{done:!0,value:void 0}};return e.next()}};e[Symbol.iterator]=function(){return e};return e};$jscomp.polyfill("Array.prototype.keys",function(a){return a?a:function(){return $jscomp.iteratorFromArray(this,function(a){return a})}},"es6","es3");window.co||(co={});co.v={};co.c={};co.s={};co.win=$(window);
co.doc=$(document);co.body=$("body");co.find=function(a){return co.body.find(a)};co.wrap=co.find(".main-wrap");co.cont=co.wrap.find(".cabinet-content");co.winResized=function(){co.winWidth=document.documentElement.clientWidth;co.winHeight=document.documentElement.clientHeight;co.mobile=100<co.winWidth&&550>co.winWidth;co.tablet=550<=co.winWidth&&800>=co.winWidth;co.desktop=800<co.winWidth};co.winResized();co.win.resize(co.winResized);co.closeMobileTextEdit=function(){};
co.alert=function(a,d,g,e,h,c){function b(){var a=!m.is(":visible");m.show();n.css("top",Math.floor((co.win.height()-n.outerHeight())/2)+"px");a&&m.hide()}function k(){function a(){m.remove();co.body.removeClass("alert-shown"+(h?" "+h:""));setTimeout(function(){return co.body.removeClass("alert-shown-ex")},500);co.f(g)}m.is(":visible")&&(co.mobile?a():m.fadeOut(a))}if(c){var l;co.body.find(".alert").each(function(){var b=this.alertInstance;if(b&&b.text===a)return l=b,!1});if(l)return l}c={};var m=
$('<div class="alert"><div class="win"><div class="text">'+a+'</div><div class="btn pop-close">OK</div></div></div>'),n=m.find(".win");d&&(m.addClass("no-btn"),n.find(".btn").remove());co.win.resize(b);co.body.append(m);co.body.addClass("alert-shown alert-shown-ex"+(h?" "+h:""));b();m.click(function(a){$(a.target).is(".pop-win,.pop-close")&&k()});co.mobile||m.hide().fadeIn();e&&setTimeout(k,e);c.pop=m;c.win=n;c.close=k;c.pos=b;c.text=a;return m[0].alertInstance=c};
$.fn.sortableItem=function(){$(this).on("mousedown touchstart",function(a){function d(a){m||(h.trigger("sortStarted"),h.addClass("sortStarted"),m=!0);a=a.pageY||a.originalEvent.touches[0].pageY;var d=a-l;d<c?(a=h.prev(),a.length&&(a.css("top",-h.outerHeight()+"px"),a.animate({top:0},100),h.insertBefore(a),h.trigger("sortUpdated")),h.offset({top:c})):d+h.outerHeight()>b?(0<h.next().length&&(h.insertAfter(h.next().css({top:h.outerHeight()}).animate({top:0},100)),h.trigger("sortUpdated")),h.offset({top:b-
h.outerHeight()})):(h.offset({top:d}),k-d>h.outerHeight()-1?(d=h.prev(),d.css("top",-h.outerHeight()+"px"),d.animate({top:0},100),h.insertBefore(d),h.trigger("sortUpdated"),h.css("top",0),k=h.offset().top,l=a-k):d-k>h.outerHeight()-1&&(d=h.next(),d.css("top",h.outerHeight()+"px"),d.animate({top:0},100),h.insertAfter(d),h.trigger("sortUpdated"),h.css("top",0),k=h.offset().top,l=a-k))}function g(a){a.preventDefault()}function e(){$(document.documentElement).off("mousemove touchmove",d).off("mouseup touchend",
e).off("mousedown touchstart",g);h.animate({top:0},100,function(){h.removeClass("dragActive").removeClass("sortStarted").trigger("sortFinished")})}var h=$(this),c=h.parent().offset().top,b=c+h.parent().height(),k=h.offset().top,l=(a.pageY||a.originalEvent.touches[0].pageY)-k,m=!1;h.addClass("dragActive");$(document.documentElement).on("mousemove touchmove",d).on("mouseup touchend",e).on("contextmenu",e).on("mousedown touchstart",g);$(window).blur(e)})};
co.PopupBlock=function(a,d,g){function e(a){var b=$(a.target),c=$(d),e=$(".close",h.pop);a.target===h.pop[0]||b.parents().filter(h.pop).length||a.target===c[0]||b.parents().filter(c).length||h.close();a.target===e[0]&&h.close()}var h=this,c=$("body");h.pop=$(a);h.show=function(){h.pop.show();co.d(g)&&co.body.addClass(g)};h.destroyAfterClose=!1;h.close=function(a){h.pop.hide();co.d(g)&&co.body.removeClass(g);co.f(a);h.destroyAfterClose&&c.off("click",e)};c.click(e)};
co.areaOn=function(a){co.d(a)&&co.rt.numPos(a);return(a=co.formats.selection(co.v.base,co.v.model,co.v.color,a))?!!co.gt(a,"prog.area.on"):!1};co.paletteLimited=function(){var a=co.v.methods[co.v.method];return a&&a.palette&&Array.isArray(a.colors)?a.colors:[]};co.inFrame=function(){try{return window.self!==window.top}catch(a){return!0}};co.inMultiFrame=function(){try{return window.parent!==window.top}catch(a){return!0}};
co.isFullscreen=function(){return!(!document.fullscreenElement&&!document.mozFullScreenElement&&!document.webkitFullscreenElement)};co.strBytes=function(a){co.rt.str(a);for(var d=a.length,g=a.length-1;0<=g;g--){var e=a.charCodeAt(g);127<e&&2047>=e?d++:2047<e&&65535>=e&&(d+=2);56320<=e&&57343>=e&&g--}return d};
co.preparePatternCatsSelect=function(a,d){co.rt.jq(a);co.rt.fun(d);if(2>co.v.patterns.length)return!1;co.v.patterns.forEach(function(d,e){var g=e?'data-translate="'+co.lang.transID(d[0])+'"':'data-lang="116"';d=e?co.lang.trans(d[0]):co.lang.w(116);a.append('<option value="'+e+'" '+g+">"+d+"</option>")});a.change(function(){d(+a.val())});return!0};
co.sidebarPatterns=function(a,d,g,e,h,c,b,k){function l(b){h.empty();co.v.patterns.forEach(function(c,d){0<b&&b!==d||c[1].forEach(function(b){var c=$('<div class="item"></div>');c.css("background",'url("'+co.v.domain+"patterns/"+co.v.adminID+"/"+b.id+'-thumb.jpg") center center');var f=co.arrayObjectID(co.v.patternsFlat,"id",b.id);f===a.pattern()&&c.activate();h.append(c);c.click(function(){h.children(".active").deactivate();c.activate();$(a).one("pattern-changed",function(){co.updateSides(!0);co.f(k)});
a.pattern(f);co.v.userCreative=!0;co.v.userAddsAction=!0})})})}co.rt.obj(a);if(!(a instanceof co.AddFigure||a instanceof co.AddText))throw Error("invalid add");co.rt.jq(d);co.rt.jq(g);co.rt.jq(e);co.rt.jq(h);co.rt.ar(c);co.rt.numPos(b);if(!co.v.patternsFlat.length||c.length)return d.remove();g.find("co-lang").text(co.lang.w(b));co.preparePatternCatsSelect(e,l)&&g.append(e);l(0)};
co.utfToBase64=function(a){co.rt.str(a);return btoa(encodeURIComponent(a).replace(/%([0-9A-F]{2})/g,function(a,g){return String.fromCharCode("0x"+g)}))};co.base64ToUtf=function(a){co.rt.str(a);return decodeURIComponent(Array.prototype.map.call(atob(a),function(a){return"%"+("00"+a.charCodeAt(0).toString(16)).slice(-2)}).join(""))};
$.event.special.doubletap={bindType:"touchend",delegateType:"touchend",handle:function(a){var d=a.handleObj,g=jQuery.data(a.target),e=Date.now(),h=g.lastTouch?e-g.lastTouch:0;300>h&&30<h?(g.lastTouch=null,a.type=d.origType,["clientX","clientY","pageX","pageY"].forEach(function(c){a[c]=a.originalEvent.changedTouches[0][c]}),d.handler.apply(this,arguments)):g.lastTouch=e}};
co.ColorSlider=function(a){function d(a){k&&(e(a),h())}function g(a){e(a);h();q.finished&&q.finished(n);co.win.off("mousemove touchmove",d);co.win.off("mouseup touchend",g);k=!1;co.body.removeClass("cant-select-text")}function e(a){if(co.d(a.clientX))var c=a.clientX;else a.originalEvent.touches&&a.originalEvent.touches.length?c=a.originalEvent.touches[0].clientX:a.originalEvent.changedTouches&&a.originalEvent.changedTouches.length&&(c=a.originalEvent.changedTouches[0].clientX);a=c-l;0>a?a=0:a>m&&
(a=m);b.css("left",a);n=a/m}function h(){q.selected&&q.selected(n)}co.rt.jqSel(a);a=$(a);var c=a.find(".cs-slider"),b=c.children(),k=!1,l,m,n=0,q={elem:a,line:c,set pos(a){0>a?a=0:1<a&&(a=1);b.css("left",100*a+"%");n=a},get pos(){return n}};c.on("mousedown touchstart",function(a){k||(k=!0,l=c.offset().left,m=c.width(),e(a),h(),co.win.on("mousemove touchmove",d),co.win.one("mouseup touchend",g))});return q};
co.copyVals=function(a,d,g){if("object"!==typeof a&&"function"!==typeof a)throw Error("invalid from");if("object"!==typeof d&&"function"!==typeof d)throw Error("invalid to");co.rt.ar(g);g.forEach(function(e){e in a&&(d[e]=a[e])});return d};
co.equalVals=function(a,d,g){if(!a||!d)return!1;if("object"!==typeof a&&"function"!==typeof a)throw Error("invalid obj1");if("object"!==typeof d&&"function"!==typeof d)throw Error("invalid obj2");co.rt.ar(g);for(var e=0;e<g.length;e++){var h=g[e];if(h in a!==h in d||a[h]!==d[h])return!1}return!0};
HTMLCanvasElement.prototype.toBlob||Object.defineProperty(HTMLCanvasElement.prototype,"toBlob",{value:function(a,d,g){g=atob(this.toDataURL(d,g).split(",")[1]);for(var e=g.length,h=new Uint8Array(e),c=0;c<e;c++)h[c]=g.charCodeAt(c);a(new Blob([h],{type:d||"image/png"}))}});co.figuresLoad=function(a){co.d(a)&&co.rt.fun(a);$.ajax({url:co.v.domain+"app-data/lib/figures.svg",dataType:"html",success:function(a){a&&-1<a.indexOf("svg")&&(co.v.figuresCode=a)},error:function(){co.v.figuresCode=!1},complete:a})};
co.centralPlaceUpdate=function(){co.centralPlace.css({left:co.mobile?0:co.nav.box.outerWidth(),right:co.mobile||!co.sidebar.box.is(":visible")?0:co.sidebar.box.outerWidth()})};co.pointPosAfterRot=function(a,d,g,e,h){co.rt.numNorm(a);co.rt.numNorm(d);co.rt.numNorm(g);co.rt.numNorm(e);co.rt.numNorm(h);var c=a*Math.PI/180;a=Math.sin(c);c=Math.cos(c);return{x:(d-e)*c-(g-h)*a+e,y:(d-e)*a+(g-h)*c+h}};
co.addsFeature=function(a,d){co.rt.str2(a);if(!["image","figure","text"].includes(a))throw Error("invalid addName");co.rt.str2(d);if(co.v.composMode)return!0;var g=co.v.curBase.addsFeatures;return g?(a=g[a])?!a["no"+d.capitalize()]:!0:!0};
co.detectOS=function(){var a="",d="",g=[{s:"Windows 10",r:/(Windows 10.0|Windows NT 10.0)/},{s:"Windows 8.1",r:/(Windows 8.1|Windows NT 6.3)/},{s:"Windows 8",r:/(Windows 8|Windows NT 6.2)/},{s:"Windows 7",r:/(Windows 7|Windows NT 6.1)/},{s:"Windows Vista",r:/Windows NT 6.0/},{s:"Windows Server 2003",r:/Windows NT 5.2/},{s:"Windows XP",r:/(Windows NT 5.1|Windows XP)/},{s:"Windows 2000",r:/(Windows NT 5.0|Windows 2000)/},{s:"Windows ME",r:/(Win 9x 4.90|Windows ME)/},{s:"Windows 98",r:/(Windows 98|Win98)/},
{s:"Windows 95",r:/(Windows 95|Win95|Windows_95)/},{s:"Windows NT 4.0",r:/(Windows NT 4.0|WinNT4.0|WinNT|Windows NT)/},{s:"Windows CE",r:/Windows CE/},{s:"Windows 3.11",r:/Win16/},{s:"Android",r:/Android/},{s:"Open BSD",r:/OpenBSD/},{s:"Sun OS",r:/SunOS/},{s:"Linux",r:/(Linux|X11)/},{s:"iOS",r:/(iPhone|iPad|iPod)/},{s:"Mac OS X",r:/Mac OS X/},{s:"Mac OS",r:/(MacPPC|MacIntel|Mac_PowerPC|Macintosh)/},{s:"QNX",r:/QNX/},{s:"UNIX",r:/UNIX/},{s:"BeOS",r:/BeOS/},{s:"OS/2",r:/OS\/2/},{s:"Search Bot",r:/(nuhk|Googlebot|Yammybot|Openbot|Slurp|MSNBot|Ask Jeeves\/Teoma|ia_archiver)/}],
e;for(e in g)if(g.hasOwnProperty(e)){var h=g[e];if(h.r.test(navigator.userAgent)){a=h.s;break}}/Windows/.test(a)&&(/Windows (.*)/.exec(a)&&(d=[1]),a="Windows");switch(a){case "Mac OS X":(g=/Mac OS X (10[._\d]+)/.exec(navigator.userAgent))&&(d=g[1]);break;case "Android":(g=/Android ([._\d]+)/.exec(navigator.userAgent))&&(d=g[1]);break;case "iOS":/OS (\d+)_(\d+)_?(\d+)?/.exec(navigator.appVersion)&&(d=d[1]+"."+d[2]+"."+(d[3]|0))}return{name:a,version:d}};
co.elementsFromPoint=function(a,d){co.rt.numNorm(a);co.rt.numNorm(d);if(document.elementsFromPoint)return document.elementsFromPoint(a,d);if(document.msElementsFromPoint)return Array.prototype.slice.call(document.msElementsFromPoint(a,d))};
co.showMobileColorPicker=function(a){function d(){e.remove();co.win.off("resize",d);a.bodyClass&&co.body.removeClass(a.bodyClass);a.closed&&a.closed()}co.rt.obj(a);var g={};a.name&&(g.name=a.name);var e=co.lang.applyToTemplate($(co.tpls.mobileColorPicker)),h=e.find(".co-palette"),c=e.find(".limited-colors"),b=e.find(".close"),k=e.find(".clear"),l=co.paletteLimited(),m=!!l.length;co.box.append(e);a.bodyClass&&co.body.addClass(a.bodyClass);a.showClearBtn?k.click(function(){p&&p.setColor("#ffffff",!0);
a.cleared&&a.cleared();d()}):(k.remove(),e.addClass("no-clear"));if(m){k=function(){var a=$('<div class="item"></div>').appendTo(f),b=Math.floor(n.width()/a.outerWidth(!0));a.remove();return b};h.remove();e.addClass("limited");var n=c.find(".overflow"),q=n.width(),f=c.find(".mover");h=c.find(".scroll-line");var r=k();l.forEach(function(b,c){var d=$('<div class="item"></div>');d.css("background-color",b);d[0].paletteColor=b;a.dontActivateInitColor||b!==a.initColor||d.activate();f.append(d);l.length>
r&&c+1===Math.round(l.length/2)&&f.append("<br>")});f.on("click",".item",function(){f.find(".item").deactivate();$(this).activate();a.selected(this.paletteColor);a.finished&&a.finished(this.paletteColor)});var t=n[0].scrollWidth;if(t>q){var u=h.find(".handle");u.css("width",q/t*100+"%");h=function(){return u.css("transform","translateX("+n[0].scrollLeft/t*(q-6)+"px)")};h();n[0].addEventListener("scroll",h,{passive:!0})}else h.remove(),e.addClass("no-scroll"),l.length<=r&&e.addClass("one-line"),l.length>
k()&&e.removeClass("one-line")}else{c.remove();var p=new co.Palette({box:h,initColor:a.initColor,selected:a.selected,finished:a.finished})}co.win.one("resize",d);g.close=d;b.click(d);return g};
co.showMobileColorSliderPop=function(a){function d(){e.remove();co.win.off("resize",d);a.bodyClass&&co.body.removeClass(a.bodyClass);a.closed&&a.closed()}co.rt.obj(a);var g={},e=$(co.tpls[a.tplKey]),h=e.find(".color-slider"),c=h.find(".cs-title"),b=h.find(".cs-slider"),k=e.find(".close"),l=e.find(".clear");co.box.append(e);co.lang.applyToTemplate(h);a.bodyClass&&co.body.addClass(a.bodyClass);b.css("left",c.outerWidth()+"px");h=co.ColorSlider(h);h.pos=a.initVal;h.selected=a.selected;h.finished=a.finished;
co.win.one("resize",d);g.close=d;k.click(d);l.click(function(){a.selected&&a.selected(0);a.cleared&&a.cleared();d()});return g};
co.showMobilePatternPicker=function(a){function d(){k.addClass("calc-width");m.text(l.find(":selected").text());k.css("width",m.outerWidth()+5+"px");k.removeClass("calc-width")}function g(b){q.empty();co.v.patterns.forEach(function(c,d){0<b&&b!==d||c[1].forEach(function(b){var c=$('<div class="item"></div>');c.css("background-image",'url("'+co.v.domain+"patterns/"+co.v.adminID+"/"+b.id+'-thumb.jpg")');var d=co.arrayObjectID(co.v.patternsFlat,"id",b.id);d===a.initID&&c.activate();q.append(c);c.click(function(){q.children(".active").deactivate();
c.activate();a.selected(d)})})});e()}function e(){var a=n.width(),c=n[0].scrollWidth;if(c>a){b.removeClass("no-scroll");var d=f.find(".handle");d.css("width",a/c*100+"%");var e=function(){return d.css("transform","translateX("+n[0].scrollLeft/c*(a-7)+"px)")};e();n[0].addEventListener("scroll",e,{passive:!0})}else b.addClass("no-scroll")}function h(){b.remove();co.win.off("resize",h);a.bodyClass&&co.body.removeClass(a.bodyClass);a.closed&&a.closed()}co.rt.obj(a);var c={},b=co.lang.applyToTemplate($(co.tpls.mobilePatternPicker)),
k=b.find(".cats-select-wrap"),l=k.find("select"),m=k.find(".select-width-helper"),n=b.find(".overflow"),q=b.find(".mover"),f=b.find(".scroll-line"),r=b.find(".close"),t=b.find(".clear");co.box.append(b);a.bodyClass&&co.body.addClass(a.bodyClass);co.preparePatternCatsSelect(l,function(a){d();n[0].scrollLeft=0;g(a)})?d():k.remove();g(0);co.win.one("resize",h);c.close=h;r.click(h);t.click(function(){a.selected(-1);a.cleared&&a.cleared();h()});return c};
co.textEditCorrection=function(a,d,g){co.rt.str(a);co.rt.jq(d);co.rt.bool(g);var e=d.val();if(co.hasEmoji(e))return d.val(a),co.alert(co.lang.w(184)),a;if(1<e.split("\n").length&&g)return d.val(a),co.alert(co.lang.w(187)),a;a=e;g=d[0].selectionStart;var h=d[0].selectionEnd;if(/^ +/gm.test(e)){e=e.replace(/^ +/gm,"");var c=!0}/ +$/gm.test(e)&&(e=e.replace(/ +$/gm," "),c=!0);/ +/g.test(e)&&(e=e.replace(/ +/g," "),c=!0);c&&(d.val(e),d[0].selectionStart=g-(a.length-e.length),d[0].selectionEnd=h-(a.length-
e.length));return e};
co.showMobileTextEdit=function(a){function d(){e.remove();co.win.off("resize.mobileTextEdit");a.bodyClass&&co.body.removeClass(a.bodyClass);co.win.resize();a.closed&&a.closed()}co.rt.obj(a);var g={};g.add=a.add;var e=co.lang.applyToTemplate($(co.tpls.mobileTextEditPop)),h=e.find("textarea"),c=e.find(".close"),b=e.find(".clear"),k=a.initText,l=co.mobile;co.box.append(e);a.bodyClass&&co.body.addClass(a.bodyClass);h.val(a.initText);h.focus();h.on("input",function(){var b=co.textEditCorrection(k,h,a.rounded);
k=b;a.changed(b)});co.win.on("resize.mobileTextEdit",function(){l!==co.mobile&&(l=co.mobile,d())});g.close=d;c.click(d);b.click(function(){h.val("");h.focus();a.changed("");a.cleared&&a.cleared()});return g};
co.showMobileFontPicker=function(a){function d(){var b=c.styleIndex();k.empty();n.forEach(function(f){var g=$('\n\t\t\t\t<div class="item">\n\t\t\t\t\t<div class="capt"></div>\n\t\t\t\t</div>\n\t\t\t'),l=g.find(".capt"),n=!!f.styles[b];l.css("background-image","url("+(""+co.v.domain+(f.def?"default-fonts":"custom-fonts/"+co.v.adminID)+"/"+f.id+"-thumb."+(co.webpSupport?"webp":"png"))+")");c.style.fontFamily===f.family&&g.activate();n||g.addClass("no-req-style");k.append(g);g.click(function(){function l(a){e.dontClose=
!0;h.dontChangeState=!0;k.children().deactivate();g.activate();co.v.userCreative=!0;co.v.userAddsAction=!0;c.setFontFamily(f.family,function(){co.updateSides(!0);e.dontClose=!1;h.dontChangeState=!1;co.f(a);$(e).trigger({type:"font-selected",font:f})})}function m(g,k,n){if(b!==g||!f.styles[k])return!1;co.confirm(co.lang.w(n)+" "+co.lang.w(215),function(b){b&&(e.dontClose=!0,h.dontChangeState=!0,c.styleIndex(k,function(){co.f(a.updateBtnsActivation);l(function(){d();e.dontClose=!1;h.dontChangeState=
!1;co.f(a.selected)})}))});return!0}n?l(a.selected):m(3,1,213)||m(3,2,212)||m(3,0,214)||m(2,0,213)||m(1,0,212)||l(a.selected)})})}function g(){e.dontClose||(b.remove(),co.win.off("resize",g),a.bodyClass&&co.body.removeClass(a.bodyClass),a.closed&&a.closed())}co.rt.obj(a);var e={},h=a.panel,c=a.add,b=co.lang.applyToTemplate($(co.tpls.mobileFontPicker)),k=b.find(".items"),l=b.find(".close"),m=b.find(".scroll-line"),n=co.ar(a.otherFonts)?a.otherFonts:co.v.fonts;co.box.append(b);a.bodyClass&&co.body.addClass(a.bodyClass);
d();var q=k.height(),f=k[0].scrollHeight;if(f>q){var r=m.find(".handle");r.css("height",q/f*100+"%");m=function(){return r.css("transform","translateY("+k[0].scrollTop/f*(q-2)+"px)")};m();k[0].addEventListener("scroll",m,{passive:!0});m=k.find(".active");m.length&&(k[0].scrollTop=m.position().top-2*m.height())}else b.addClass("no-scroll"),m=30*k.children().length,b.css("height",m+"px");e.dontClose=!1;co.win.one("resize",g);e.close=g;l.click(g);return e};
co.showMobileLineHeightPop=function(a){function d(){e.remove();co.win.off("resize",d);a.bodyClass&&co.body.removeClass(a.bodyClass);a.closed&&a.closed()}co.rt.obj(a);var g={},e=co.lang.applyToTemplate($(co.tpls.mobileLineHeightPop)),h=e.find(".slider"),c=e.find(".minus"),b=e.find(".plus"),k=e.find(".pointer"),l=e.find(".close"),m=a.initLineHeight;co.box.append(e);a.bodyClass&&co.body.addClass(a.bodyClass);var n=new co.Slider(h,0,200,100,!0);h=m-a.defaultLineHeight;0<h&&(h*=.5);n.pos(5*h+100,!0);$(n).change(function(b,
c){b=.2*(c-100);0<b&&(b*=2);m=a.defaultLineHeight+b;a.selected(m)}).on("finish",function(){a.finished&&a.finished(m)});c.click(function(){var a=n.pos();1>a||n.pos(a-1)});b.click(function(){var a=n.pos();199<a||n.pos(a+1)});k.click(function(){n.pos(100)});co.win.one("resize",d);g.close=d;l.click(d);return g};
co.showMobileTextRoundPop=function(a){function d(){e.remove();co.win.off("resize",d);a.bodyClass&&co.body.removeClass(a.bodyClass);a.closed&&a.closed()}co.rt.obj(a);var g={},e=co.lang.applyToTemplate($(co.tpls.mobileTextRoundPop)),h=e.find(".slider"),c=e.find(".minus"),b=e.find(".plus"),k=e.find(".pointer"),l=e.find(".close"),m=a.initRound;co.box.append(e);a.bodyClass&&co.body.addClass(a.bodyClass);var n=new co.Slider(h,0,200,100,!0);n.pos(m+100,!0);$(n).change(function(b,c){1<a.text.split("\n").length&&
c-100?(n.endMouseMove(),n.pos(100),co.alert(co.lang.w(187))):(m=c-100,a.selected(m))}).on("finish",function(){a.finished&&a.finished(m)});c.click(function(){var a=n.pos();1>a||n.pos(a-1)});b.click(function(){var a=n.pos();199<a||n.pos(a+1)});k.click(function(){n.pos(100)});co.win.one("resize",d);g.close=d;l.click(d);return g};
co.showLangPop=function(a){function d(){e.remove();co.win.off("resize",d);a.bodyClass&&co.body.removeClass(a.bodyClass);a.closed&&a.closed()}co.rt.obj(a);var g={},e=co.lang.applyToTemplate($(co.tpls.mobileLangPop)),h=e.find(".items");co.box.append(e);a.bodyClass&&co.body.addClass(a.bodyClass);co.lang.translatesLangs.forEach(function(c){var b=$('<div class="item lang-'+c.code+'">'+c.selfname+"</div>");c===co.lang.userlangObj&&b.activate();b.click(function(){h.children().deactivate();b.activate();a.selected(c);
d()});h.append(b)});co.win.one("resize",d);g.close=d;return g};co.canShowLangSelection=function(){return!!(co.lang&&co.v.lang&&co.v.lang.sel&&co.lang.translatesLangs&&1<co.lang.translatesLangs.length)};co.updateSides=function(a){if(co.d(a)&&"boolean"!==typeof a&&!Array.isArray(a))throw Error("invalid argument");co.mobile?co.mobileSides.update(a):co.sidebar.updateSides(a)};
co.sidesReplaceIDs=function(a,d){co.rt.jq(a);co.rt.numPos(d);a.attr("id",a.attr("id")+"-side"+d);a.find("[id]").each(function(){this.id=this.id+"-side"+d});a.find("g.adds[clip-path]").each(function(){$(this).attr("clip-path","url(#area"+d+"-side"+d+")")});a.find(".add-box.figure path").each(function(){var a=$(this),e=a.css("fill");-1!==e.indexOf("url")&&a.css("fill",e.replace(/figure-pattern-(\d+)/,"figure-pattern-$1-side"+d))});a.find(".add-box.image.coloriz-filter > g").each(function(){var a=$(this),
e=a.attr("filter");-1!==e.indexOf("url")&&a.attr("filter",e.replace(/filter_(\d+)/,"filter_$1-side"+d))});a.find(".add-box.text textPath").each(function(){var a=$(this),e=co.svg.getAttr(a,"href");e&&co.svg.setXlinkAttr(a,"href",e.replace(/#path-text-round-(\d+)/,"#path-text-round-$1-side"+d))})};
$.fn.clickEx=function(a){function d(a){if("mousedown"===a.type){if(!0===k)return h.off("mousedown",d);void 0===k&&(k=!1)}else if("touchstart"===a.type){if(!1===k)return h.off("touchstart",d);void 0===k&&(k=!0)}b||(b=!0,h.on(k?"touchend":"mouseup",e),c.on(k?"touchend touchmove":"mouseup mousemove",g))}function g(){b=!1;h.off(k?"touchend":"mouseup",e);c.off(k?"touchend touchmove":"mouseup mousemove",g)}function e(b){g();a(b)}co.rt.fun(a);var h=$(this),c=$(document.documentElement),b=!1,k;h.on("mousedown touchstart",
d)};co.unicalMatch=function(a){co.rt.numPos(a);return co.v.curBase.unical===a?"base":co.v.curModel.unical===a?"model":co.v.curColor.unical===a?"color":co.v.curSideData.unical===a?"side":""};co.getOrigBaseIndex=function(a){co.rt.numPos(a);if(a>=co.v.bases.length)return-1;for(var d=co.v.basesOrig,g=-1,e=0;e<d.length;e++)if(!d[e].off&&(g+=1,g===a))return e;return g};
co.findImgData=function(a){co.rt.str2(a);a=a.split("/").last();for(var d=co.v.images.cats,g=0;g<d.length;g++)for(var e=d[g].imgs,h=0;h<e.length;h++){var c=e[h];if(c.filename===a)return c}};co.baseLayer=function(a){co.rt.ar(a);return co.arrayObject(a,"type","base")};
co.setFrom=function(a){if(!/^[a-zA-Z0-9\-_.]+$/.test(a))return co.alert("    from.<br>    , , ,   .");co.v.from=a};co.validURLAlternativeParams=function(a){return"string"===typeof a&&a?/^([a-zA-Z0-9\-]+=[a-zA-Z0-9\-_.]+)(;[a-zA-Z0-9\-]+=[a-zA-Z0-9\-_.]+)*$/.test(a):!1};co.validSign=function(a){return"string"===typeof a&&!!a.match(/^[A-Za-z\d]{15}$/)};
co.orderEdit=function(a,d){function g(a){console.warn(a);co.nowait(!0,"order-edit-compos");co.alert(h.def);co.f(d,Error(a))}function e(a){co.gt(window,"localStorage.debugOrderEdit")&&console.log(a)}var h={def:co.lang.w(203),invalidSign:"  .   order-edit  URL.",notExist:"   ",noEditData:"       ",
noComposData:"         "};if(!co.validSign(a))return g(h.invalidSign);var c=co.wait(!0,co.lang.w(204),!1,"order-edit-compos");co.ajax({post:"order/get-edit-data",data:{adminID:co.v.adminID,sign:a},success:function(b){function k(a){co.waterfall([function(a){if(!l.vars.sex||co.v.sex===l.vars.sex)return a();e(" ");$(co).one("selSexComplete",function(){return a()});
co.selRegul.selSex(1)},function(a){if(!l.vars.age||co.v.age===l.vars.age)return a();e(" ");$(co).one("selAgeComplete",function(){return a()});co.selRegul.selAge(l.vars.age)},function(a){if(!l.vars.size||co.v.size===l.vars.size)return a();e(" ");$(co).one("selSizeComplete",function(){return a()});co.selRegul.selSize(l.vars.size)},function(a){if(co.v.curColor.unical===l.vars.unicals.color)return a();e(" ");$(co).one("selUnicalComplete",
function(){return a()});co.selRegul.selUnical(l.vars.unicals.color)}],a)}var l=b.editData;if(!l)return g(h.noEditData);if(!Array.isArray(l.compos))return g(h.noComposData);co.v.orderEditData=l;co.svgwrap.css("opacity",0);co.sidebar.box.css("opacity",0);co.waterfall([k,k,k,k,k,function(a){if(co.v.method===l.vars.method)return a();e("  ");$(co).one("selMethodComplete",function(){return a()});co.selRegul.selMethod(l.vars.method)},function(a){if(!co.ar(l.vars.formats))return a();
e("  ");var b=co.formats.unicalsToFormats(co.v.curColor,l.vars.formats);co.formats.selectFormats(co.v.curColor,b);a()},function(a){if(!co.ar(l.vars.details))return a();e(" ");var b=co.details.productSelectedDetailsSides();if(!b.length||!l.vars.details.length)return a();if(b.length!==l.vars.details.length)return co.alert("     -           "),
a();var d=[],f=0;l.vars.details.forEach(function(e,g){var k=b[g];if(e.length!==k.length)return co.alert("     -    "+g+"        "),a();k.forEach(function(a,b){d.push(function(k){co.details.showVariant({dummyBuilding:!1,curVariantUnical:a.variant.unical,sideIndex:g,newVariantUnical:e[b].variant,dontWait:!0,callback:function(){f++;
c.progress(f/d.length*100);k()}})})})});d.length?(c.setWithProgressBar(!1),c.setWithProgressBar(!0),co.waterfall(d,a)):a()},function(a){if(!l.vars.colorizCode)return a();e(" ");co.svg.layersColor(l.vars.colorizCode);a()},function(a){e("  ");c.setWithProgressBar(!1);c.setWithProgressBar(!0);co.compos.restoreCompos(l.compos,function(){return a()})},function(b){co.svgwrap.css("opacity","");co.sidebar.box.css("opacity",
"");co.nowait(!0,"order-edit-compos");co.v.orderEditMode=!0;co.v.sign=a;co.nav.btns.order.remove();co.nav.btnSaveShow();b()}],function(a){return co.f(d,a)})},error:function(a){g(h[a]||h.def)}})};co.colorizCode=function(){return co.svg.layersColor()||""};co.fontByFamily=function(a){return co.arrayObject(co.v.fonts,"family",a)};co.fontsOfStyles=function(a,d,g,e){return a.filter(function(a){return d&&!a.styles[1]||g&&!a.styles[2]||e&&!a.styles[3]?!1:!0})};co.fontsOfStyle=function(a,d){return a.filter(function(a){return!!a.styles[d]})};
co.styleIndex=function(a,d){return a&&d?3:a?1:d?2:0};co.confirm=function(a,d,g,e){var h=co.alert(a,!0);h.pop.removeClass("no-btn");h.win.append('\n\t\t<div class="buttons">\n\t\t\t<div class="btn yes">'+(g||co.lang.w(162))+'</div>\n\t\t\t<div class="btn no">'+(e||co.lang.w(163))+"</div>\n\t\t</div>\n\t");h.pop.closeOutside=!1;h.win.find(".yes").click(function(){h.close();d(!0)});h.win.find(".no").click(function(){h.close();d(!1)});return h};
co.applyColorScheme=function(a){var d=$(".link-css-main"),g=$(".link-css-responsive"),e=d.data("hash"),h=g.data("hash");d[0].href=co.v.domain+"app/css/"+co.v.adminID+"/main/"+e+(co.d(a)?"/"+a:"");g[0].href=co.v.domain+"app/css/"+co.v.adminID+"/responsive/"+h+(co.d(a)?"/"+a:"")};
co.applyColorSchemeForPreview=function(a){var d=$(".link-css-main"),g=$(".link-css-responsive"),e=co.randomStr(32).toLowerCase();d[0].href=co.v.domain+"app/css/"+co.v.adminID+"/main/"+e+(co.d(a)?"/"+a:"");g[0].href=co.v.domain+"app/css/"+co.v.adminID+"/responsive/"+e+(co.d(a)?"/"+a:"")};co.c={CYRILLIC_CHARS:"",FIGURES_SIZES:[[122,116],[100,100],[137,112],[95.1,90.5],[200,
200],[98.4,85.2],[100,100],[100,100],[95.1,90.5],[100,100],[95.1,90.5],[73,26],[145,20],[162,68],[81.6,31]]};co.v={domain:"",domain_noslash:"",adminID:0,conData:{},bases:[],basesOrig:[],base:0,get curBase(){return co.chain(co.v.bases,co.v.base)},model:0,get curModel(){return co.chain(co.v.curBase.models,co.v.model)},color:0,get curColor(){return co.chain(co.v.curModel.colors,co.v.color)},side:0,get curSideData(){return co.chain(co.v.curColor,"sidesData",co.v.side)},get sideEditable(){return co.v.composMode||!co.chain(co.v.curModel,"sidesParam",co.v.side,"noEdit")&&!co.v.absent},get absent(){return!!(co.v.curBase.absent||
co.v.curModel.absent||co.v.curColor.absent)&&!co.v.composMode},sex:0,sexFilter:0,age:0,ageFilter:0,size:0,get curBaseLayer(){return co.arrayObject(co.v.curColor.layers[co.v.side],"type","base")},images:void 0,userImgs:[],btn:"",unical:1,dragging:!1,methods:[],method:0,add:null,zoomDef:0,browserName:"",browserVersion:"",sign:"",face:{},blockOverHeight:0,blockUnderHeight:0,ribbonHeight:0,fonts:[],lang:{},figuresCode:"",uploadSpeed:1E3,charBytes:1,patterns:[],patternsFlat:[],composMode:!1,orderEditMode:!1,
orderEditData:void 0,composEditID:void 0,initCompos:-1,lastCompos:-1,composInURL:!1,initCommands:[],initAPIComplete:!1,___userCreative:!1,get userCreative(){return co.v.___userCreative},set userCreative(a){(co.v.___userCreative=a)&&co.preventMobileBack&&co.preventMobileBack()},userAddsAction:!1,price:void 0,quantity:1,colorizClip:void 0,addLastColor:"",mobileSidesHeight:0,imagetracerHash:"",from:"",popupOrderFields:void 0,openedByAdmin:!1,openedBySuperadmin:!1,stopped:!1};co.Popup=function(a,d){function g(a){$(a.target).is(".pop-close,.pop-close-btn"+(c.closeOutside?",.pop-win":""))&&c.close()}function e(a){c.dontCloseClass&&co.body.hasClass(c.dontCloseClass)||$(a.target).closest(".pop-win").length||c.close()}function h(){c.pos()}var c=this;c.pop=$('<div class="pop-win"><div class="win"><div class="pop-close"></div></div></div>').hide();c.win=c.pop.find(".win");a&&c.pop.addClass(a);c.closeOutside=!0;c.dontCloseClass="alert-shown-ex";c.show=function(a){co.body.append(c.pop);
d&&co.body.addClass(d);c.content(a);c.pop.click(g).show();setTimeout(function(){return co.body.click(e)},0);co.win.on("resizeEnd",h);co.f(c.doAfterOpen)};c.content=function(a){a&&(c.win.children(":not(.pop-close)").remove(),c.win.append(a),$(a).show());c.pos()};c.close=function(){c.pop.remove();d&&co.body.removeClass(d);co.body.off("click",e);co.win.off("resizeEnd",h);co.f(c.doAfterClose)};c.pos=function(){var a=!c.pop.is(":visible");a&&c.pop.show();c.win.css("top",Math.floor(($(window).height()-
c.win.outerHeight())/2)+"px");a&&c.pop.hide()};co.win.resize(function(){c.pos()});c.doAfterOpen=null;c.doAfterClose=null};
co.Popup.optimalSpace=function(a){var d={};d.sidebarWidth=!a&&co.sidebar.box.is(":visible")?co.sidebar.box.outerWidth()||0:0;d.left=co.nav.box.width()||0;d.right=co.winWidth-d.sidebarWidth;d.top=co.v.blockOverHeight;d.bottom=co.winHeight-co.v.blockUnderHeight;d.width=d.right-d.left;200>d.width&&(d.left=d.right-200,d.width=d.right-d.left);d.height=d.bottom-d.top;co.v.blockOverHeight||co.v.blockUnderHeight||(d.fullHeight=!0);return d};
co.Popup.posCommon=function(a,d,g,e,h,c,b,k){a.pop.find("style").remove();k&&!k.length&&(k=void 0);var l=co.Popup.optimalSpace(h);h=(k=k||co.nav.btns[e])?k.offset().top:0;var m=k?k.outerHeight():0,n=h+m,q=n-1;a.pop.css("margin-left",l.left+"px");var f=l.width;c&&c<f&&(f=c);a.win.css({width:"auto",position:"absolute",top:l.top+"px",maxWidth:f+"px"});co.Popup.posCommonSome(a,l,h,m,q,c,b);c=parseFloat(a.pop.css("margin-left"));b=a.win.position().top;l=a.win.width();f=a.win.height();d.css({left:c+"px",
top:b+"px",width:l-20+"px"});g.css({top:b+20+"px",right:co.winWidth-(c+l)+20+"px"});d=k?h+(m-20)/2:0;k?a.pop.append("<style>.pop-"+e+"s:before{top:"+d+"px}</style>"):a.pop.append("<style>.pop-"+e+"s:before{content:none}</style>");return{resultLeft:c,resultTop:b,resultWidth:l,resultHeight:f,triangTop:d,btnTop:h,btnHeight:m,btnBottom:n,minRequiredBottom:q}};
co.Popup.posCommonSome=function(a,d,g,e,h,c,b){if(a.win.height()>d.height||d.fullHeight&&a.win.height()===d.height){var k=d.width+d.sidebarWidth;c&&k>c&&(k=c);a.win.css("max-width",k+"px");(a.win.height()>d.height||d.fullHeight&&a.win.height()===d.height)&&a.win.height()>co.winHeight-co.v.blockOverHeight&&(a.win.css("top",0),a.win.height())}co.mobile||(c=a.win.position().top,k=a.win.height(),b=b?0:100,c>=d.top&&c+k<=d.bottom&&(g=g+e/2-k/2,g>d.top&&(g+k<d.bottom||(d=d.bottom,g=d-k),g-c>b&&a.win.css("top",
g+"px"))));a.win.css("min-height","");co.mobile||(d=a.win.position().top,d+a.win.height()<h&&a.win.css("min-height",h-d))};co.Trans=function(){var a,d;function g(){var a=p.getTextRect(),b=p.pos(),c=p.scale();return x.dummyGlobal(b.x+a.x*c.x,b.y+a.y*c.y)}function e(a,b){a=x.dummyLocal(a,b);b=p.getTextRect();var c=p.scale();return{x:a.x-b.x*c.x,y:a.y-b.y*c.y}}function h(a,b,c){c&&(a*=20,b*=20);c=p.global.pos();c.x+=a;c.y+=b;p.global.pos(c.x,c.y);r.layoutUpdate();co.v.userCreative=!0;co.v.userAddsAction=!0;co.updateSides(!0);co.calc.update()}function c(){p.duplicate().select();co.calc.update();co.v.userCreative=!0;co.v.userAddsAction=
!0;co.alert(co.lang.w(60),void 0,function(){r.focus()})}function b(a,b){z=Math.sqrt(b*b/(1+a.ratio*a.ratio));y=z*a.ratio;C=a.center.x-y/2;A=a.center.y-z/2;t.css({height:z,width:y,left:C,top:A+co.svg.top});f()}function k(a){if(p.isRoundedText){var b=e(C,A),c=p.roundedRotPosCor();x.addPos(p.box,b.x+c.x,b.y+c.y)}else x.addPosGlobal(p.box,C,A);a||r.rotationUpdate();p.patternUpdate&&p.patternUpdate();co.v.userCreative=!0;co.v.userAddsAction=!0}function l(a,b){return Math.sqrt(a*a+b*b)}function m(a,b){y=
b;C=a.center.x-y/2;A=a.center.y-z/2;t.css({left:C,top:A+co.svg.top,width:y});f();r.updateOverUnder()}function n(a,b){z=b;C=a.center.x-y/2;A=a.center.y-z/2;t.css({left:C,top:A+co.svg.top,height:z});f();r.updateOverUnder()}function q(){var a=Math.sqrt(y*y+z*z);v.circle.css({width:a,height:a,left:-(a-y)/2-1,top:-(a-z)/2-1})}function f(){var a=t.width(),b=t.height();t.toggleClass("small-width-for-2-btns",66>a);t.toggleClass("small-width-for-1-btn",32>a);t.toggleClass("small-height-for-2-btns",66>b);t.toggleClass("small-height-for-1-btn",
32>b)}var r=this;co.trans=r;var t=co.box.find(".trans"),u=t.find(".frame2"),p=null,x=co.svg,y,z,C,A,F=0,v={rotate:{c:$(".rotate",t),center:{x:0,y:0},startAngle:0},scale:{c:$(".scale",t),center:{x:0,y:0},ratio:1,width:0,height:0,elemScale:{x:0,y:0},diamDif:0},scaleX:{c:$(".scale-x",t),center:{x:0,y:0},ratio:1,width:0,height:0,propor:1,elemScale:{x:0,y:0},diamDif:0},scaleY:{c:$(".scale-y",t),center:{x:0,y:0},ratio:1,width:0,height:0,propor:1,diamDif:0},remove:$(".remove",t),duplicate:$(".duplicate",
t),circle:$(".circle",t),over:$(".over",t),under:$(".under",t)},D=!1,B=!1,w=!1,L=!1,K=!1,E=!1,H=!1,M=!1,G=!1,I=!1,J;r.show=function(a){co.d(a)&&(p=a);!p||p.cantSelect||co.Add.cantSelect||(co.v.add=p,J=(co.v.curBase.addsFeatures||{})[p.addName]||{},t.activate(),co.body.addClass("add-selected"),D=!0,r.layoutUpdate(),B=!!co.chain(p.composParams,"noTrans")&&!co.v.composMode,w=!p.canDelete(),t.toggleClass("no-trans",B),t.toggleClass("no-del",w),r.updateNoRotate(),r.updateNoClone(),r.updateNoScales(),r.updateOverUnder(),
"text"!==p.addName&&r.focus())};r.hide=function(){D&&(t.deactivate(),co.body.removeClass("add-selected"),D=!1,p=co.v.add=null,co.mobile&&co.mobileBottomTopPanel.stateDefault())};r.active=function(){return D};r.showIfActive=function(){D&&r.show()};r.layoutUpdate=function(){if(p){F=p.angle();if(p.isRoundedText){var a=p.getTextRect(),b=p.scale(),c=p.roundedRotPosCorGlobal(),d=x.scale(),e=g();y=a.width*b.x*d;z=a.height*b.y*d;C=e.x-c.x;A=e.y-c.y}else a=p.global.bounds(),C=a.x,A=a.y,y=a.width,z=a.height;
t.css({left:C,top:A+co.svg.top,width:y,height:z,transform:"rotate("+F+"deg)"});f()}};r.dragInit=function(b,c){co.v.dragging=!0;x.addsDeactivate();if(p.isRoundedText){var f=p.roundedRotPosCorGlobal();var e=g();e.x-=f.x;e.y-=f.y}else e=x.addPosGlobal(p.box);a=b-e.x;d=c-e.y};u.on("touchstart mousedown",function(a){return r.mousePress(a)});r.mousePress=function(b){B||(co.touchCoord(b),r.focus(),b.preventDefault(),co.f(co.svg.offDummyMousemove),r.dragInit(b.pageX,b.pageY),co.docElem.on("touchmove.trans mousemove.trans",
function(b){if(!B){if(!p)return r.hide();co.touchCoord(b);"touchmove"===b.type&&b.preventDefault();C=b.pageX-a;A=b.pageY-d;t.css({left:C,top:A+co.svg.top});if(p.isRoundedText){b=e(C,A);var c=p.roundedRotPosCor();b={x:b.x+c.x,y:b.y+c.y}}else b=x.dummyLocal(C,A);x.addPos(p.box,b.x,b.y);co.v.userCreative=!0;co.v.userAddsAction=!0}}),co.docElem.one("touchend.trans mouseup.trans",function(){co.docElem.off("touchmove.trans mousemove.trans");co.v.dragging&&x.addsDeactivate();co.v.dragging=!1;co.updateSides(!0);
co.calc.update()}))};r.focus=function(){u.focus()};u.on("keydown",function(a){"ArrowLeft"===a.key&&h(-1,0,a.shiftKey);"ArrowRight"===a.key&&h(1,0,a.shiftKey);"ArrowUp"===a.key&&h(0,-1,a.shiftKey);"ArrowDown"===a.key&&h(0,1,a.shiftKey)});(function(){function a(a){"touchmove"===a.type&&a.preventDefault();co.touchCoord(a);F=c.startAngle-180*Math.atan2(a.pageX-c.center.x,a.pageY-co.svg.top-c.center.y)/Math.PI;t.css("transform","rotate("+F+"deg)");r.rotationUpdate();co.v.userCreative=!0;co.v.userAddsAction=
!0}function b(){t.removeClass("only-circle-rot");c.c.deactivate();co.box.off("touchend mouseup",a).off("mouseleave",a).off("touchmove mousemove",a);r.focus()}var c=v.rotate;c.c.on("touchstart mousedown",function(d){co.touchCoord(d);d.preventDefault();c.center.x=C+y/2;c.center.y=A+z/2;c.startAngle=180*Math.atan2(d.pageX-c.center.x,d.pageY-co.svg.top-c.center.y)/Math.PI+F;c.c.activate();q();t.addClass("only-circle-rot");p.isRoundedText&&p.roundedRotStart();r.rotationUpdate();co.box.one("touchend mouseup",
function(){p.isRoundedText&&p.roundedRotFinish();co.updateSides(!0);b();co.calc.update()});co.box.mouseleave(b).on("touchmove mousemove",a)})})();r.rotationUpdate=function(){if(p.isRoundedText){var a=p.getTextRect();x.elemRotation(p.box,F,{x:a.x+a.width/2,y:a.y+a.height/2})}else p.angle(F,{x:p.local.width()/2,y:p.local.height()/2})};v.remove.click(function(a){a.preventDefault();p.remove2()});v.duplicate.click(function(a){a.preventDefault();c()});(function(){function a(a){"touchmove"===a.type&&a.preventDefault();
co.touchCoord(a);a=2*l(a.pageX-d.center.x,a.pageY-co.svg.top-d.center.y)-d.diamDif;b(d,a);q();a=y/d.width;0>a&&(a=0);p.scale(d.elemScale.x*a,d.elemScale.y*a);C=d.center.x-y/2;A=d.center.y-z/2;k(!0)}function c(){t.removeClass("only-circle");f.off("touchend mouseup",a).off("mouseleave",a).off("touchmove mousemove",a);r.focus()}var d=v.scale,f=co.box;d.c.on("touchstart mousedown",function(e){co.touchCoord(e);e.preventDefault();d.center.x=C+y/2;d.center.y=A+z/2;d.ratio=y/z;d.width=y;d.height=z;d.elemScale=
p.scale();var g=2*l(y/2,z/2),k=2*l(e.pageX-d.center.x,e.pageY-co.svg.top-d.center.y);d.diamDif=k-g;b(d,g);q();t.addClass("only-circle");f.one("touchend mouseup",function(){co.updateSides(!0);c();co.calc.update()});f.mouseleave(c);f.on("touchmove mousemove",a);a(e)})})();v.over.click(function(a){a.preventDefault();p.index(p.index()+1);co.v.userCreative=!0;co.v.userAddsAction=!0;co.updateSides(!0);r.updateOverUnder();r.focus()});v.under.click(function(a){a.preventDefault();p.index(p.index()-1);co.v.userCreative=
!0;co.v.userAddsAction=!0;co.updateSides(!0);r.updateOverUnder();r.focus()});(function(){function a(a){"touchmove"===a.type&&a.preventDefault();co.touchCoord(a);a=2*l(a.pageX-c.center.x,a.pageY-co.svg.top-c.center.y)-30;0>a&&(a=0);m(c,a);a=y/c.width;var b=z/c.height;0>=a&&(a=1E-4);0>b&&(b=0);p.propor(c.propor*b/a);p.scale(c.elemScale.x*a,c.elemScale.y*a);k()}function b(){d.off("touchend mouseup",a).off("mouseleave",a).off("touchmove mousemove",a);c.c.deactivate();r.focus()}var c=v.scaleX,d=co.box;
c.c.on("touchstart mousedown",function(f){co.touchCoord(f);f.preventDefault();c.c.activate();c.center.x=C+y/2;c.center.y=A+z/2;c.ratio=y/z;c.width=y;c.height=z;c.propor=p.propor();c.elemScale=p.scale();var e=2*l(f.pageX-c.center.x,f.pageY-co.svg.top-c.center.y)-30;0>e&&(e=0);m(c,e);d.one("touchend mouseup",function(){co.updateSides(!0);b();co.calc.update()});d.mouseleave(b).on("touchmove mousemove",a);a(f)})})();(function(){function a(a){"touchmove"===a.type&&a.preventDefault();co.touchCoord(a);a=
2*l(a.pageX-c.center.x,a.pageY-co.svg.top-c.center.y)-30;0>a&&(a=0);n(c,a);a=z/c.height;0>a&&(a=0);p.propor(c.propor*a);k()}function b(){d.off("touchend mouseup",a).off("mouseleave",a).off("touchmove mousemove",a);c.c.deactivate();r.focus()}var c=v.scaleY,d=co.box;c.c.on("touchstart mousedown",function(f){co.touchCoord(f);f.preventDefault();c.c.activate();c.center.x=C+y/2;c.center.y=A+z/2;c.ratio=y/z;c.width=y;c.height=z;c.propor=p.propor();var e=2*l(f.pageX-c.center.x,f.pageY-co.svg.top-c.center.y)-
30;0>e&&(e=0);n(c,e);d.one("touchend mouseup",function(){co.updateSides(!0);b();co.calc.update()});d.mouseleave(b).on("touchmove mousemove",a);a(f)})})();t.on("doubletap",function(){co.sidebar.mobileOpen()});t.on("touchend",function(){p.selectTime&&500>Date.now()-p.selectTime&&co.sidebar.mobileOpen()});r.updateNoRotate=function(){p&&(L=!co.v.composMode&&!!J.noRotate,t.toggleClass("no-rotate",L))};r.updateNoClone=function(){p&&(K=!co.v.composMode&&!!J.noClone,t.toggleClass("no-duplicate",K))};r.updateNoScales=
function(){if(p){if(co.v.composMode)M=H=E=!1;else{var a="text"===p.addName&&!!p.round()||"image"===p.addName&&!!co.v.curBase.imgsProportional;H=a||!!J.noHorizScale;M=a||!!J.noVertScale;E=!!J.noProporScale}t.toggleClass("no-scale-x",H);t.toggleClass("no-scale-y",M);t.toggleClass("no-scale-propor",E)}};r.updateOverUnder=function(){if(p){var a=!co.svg.adds.length||!!J.noOverUnder;I=a||0===p.index()||p.composParams.noTrans;G=a||p.index()>=co.svg.adds.length-1||p.composParams.noTrans;t.toggleClass("no-over",
G);t.toggleClass("no-under",I)}}};co.SelRegul=function(){function a(){var a={base:co.v.base,model:co.v.model,color:co.v.color};if(co.equal(h,a))return $(co).trigger("showComplete");$.extend(h,a);co.wait();co.trans.hide();co.svgwrap.css("display","none");co.mobileSides.clear();$(co.svg.reinit()).one("svgComplete",function(){co.mobile?(co.mobileBottomTopPanel.stateDefault(),co.mobileSides.update(),co.svg.fit(),co.svg.box.hide(),setTimeout(function(){co.svg.box.show();d()},0)):(co.sidebar.stateDefault(),d())})}function d(){co.nowait();
co.svgwrap.css("display","");$(co).trigger("showComplete")}function g(){$(co).trigger("showCleared")}var e=this;co.selRegul=e;var h={base:0,model:0,color:0};e.init=function(){co.nav.updateBtnBase();co.v.base=-1;h.base=-1;e.selBase(0)};e.selUnical=function(a){function b(){function a(){-1!==q?c():$(co).trigger("selUnicalComplete")}co.v.base===h?a():($(co).one("selBaseComplete",a),e.selBase(h))}function c(){function a(){-1!==f?d():$(co).trigger("selUnicalComplete")}co.v.model===q?a():($(co).one("selModelComplete",
a),e.selModel(q))}function d(){function a(){-1!==r?g():$(co).trigger("selUnicalComplete")}co.v.color===f?a():($(co).one("selColorComplete",a),e.selColor(f))}function g(){function a(){co.sidebar.selSideUpdate();$(co).trigger("selUnicalComplete")}co.v.side===r?a():($(co).one("selSideComplete",a),e.selSide(r))}a=co.getProductByUnical(a);var h=a.baseIndex,q=a.modelIndex,f=a.colorIndex,r=a.sideIndex;if("none"===a.found)throw Error("notFound");-1!==h?b():$(co).trigger("selUnicalComplete")};e.selBase=function(c){function b(){$(co).trigger("selBaseComplete")}
if(co.v.base===c)return b();co.v.base=c;co.v.sex=0;co.nav.updateBtnSex();co.v.age=0;co.nav.updateBtnAge();co.nav.updateModelsMatchSexage();c=e.modelsMatchedSexAge();co.v.model=c.length?c[0].id:0;co.nav.updateBtnModel();if(!e.modelMethodExists(co.v.method)){var d=e.modelMethods();co.v.method=d.length?d[0].id:0}co.v.color=0;co.nav.updateBtnColor();co.v.size=e.defaultSizeID();co.nav.updateBtnSize();co.v.side=0;co.nav.updateBtnMethod();co.nav.updateAddAbility();co.nav.updateImgsCatsBtns();co.formats.colorSelected(co.v.curColor);
co.nav.updateBtnFormat();$(co).one("showComplete showCleared",function(){co.calc.update();co.ribbon.update();co.selRegul.absentUpdate();b()});c.length?a():(co.nowait(!0),co.alert(co.lang.w(55)),g())};e.selSex=function(c){function b(){$(co).trigger("selSexComplete")}if(co.v.sex===c)return b();var d=co.v.curModel.title,h=co.v.curColor.title;co.v.sex=c;co.nav.updateBtnSex();co.nav.updateModelsMatchSexage();c=e.modelsMatchedSexAge();c.length?(d=co.arrayObject(c,"title",d))?co.v.model=d.id:null===co.arrayObject(c,
"id",co.v.model)&&(co.v.model=c[0].id):co.v.model=0;co.nav.updateBtnModel();d=co.v.curModel.colors;d.length&&(h=co.arrayObjectID(d,"title",h),-1!==h&&(co.v.color=h));co.v.color>=d.length&&(co.v.color=0);co.nav.updateBtnColor();e.modelMethodExists(co.v.method)||(h=e.modelMethods(),co.v.method=h.length?h[0].id:0);co.v.size=0;co.nav.updateBtnSize();co.d(co.chain(co.v.bases,co.v.base,"models",co.v.model,"sides",co.v.side))||(co.v.side=0);$(co).one("showComplete showCleared",function(){co.calc.update();
co.ribbon.update();b()});c.length?a():g()};e.selAge=function(c){function b(){$(co).trigger("selAgeComplete")}if(co.v.age===c)return b();co.v.age=c;co.nav.updateBtnAge();co.nav.updateModelsMatchSexage();c=e.modelsMatchedSexAge();c.length?null===co.arrayObject(c,"id",co.v.model)&&(co.v.model=c[0].id):co.v.model=0;co.nav.updateBtnModel();co.nav.updateBtnColor();if(!e.modelMethodExists(co.v.method)){var d=e.modelMethods();co.v.method=d.length?d[0].id:0}co.v.size=0;co.nav.updateBtnSize();co.nav.updateBtnFormat();
$(co).one("showComplete showCleared",function(){co.calc.update();co.ribbon.update();b()});c.length?a():g()};e.selModel=function(c){function b(){$(co).trigger("selModelComplete")}if(co.v.model===c)return b();co.v.model=c;c=e.modelsMatchedSexAge();c.length?null===co.arrayObject(c,"id",co.v.model)&&(co.v.model=c[0].id):co.v.model=0;co.nav.updateBtnModel();co.v.color=0;co.nav.updateBtnColor();co.v.size=0;co.nav.updateBtnSize();co.v.side=0;if(!e.modelMethodExists(co.v.method)){var d=e.modelMethods();co.v.method=
d.length?d[0].id:0}co.nav.updateBtnMethod();co.formats.colorSelected(co.v.curColor);co.nav.updateBtnFormat();$(co).one("showComplete showCleared",function(){co.calc.update();co.ribbon.update();co.selRegul.absentUpdate();b()});c.length?a():g()};e.selColor=function(c){function b(){$(co).trigger("selColorComplete")}if(co.v.color===c)return b();co.v.color=c;co.nav.updateBtnColor();var d=-1;c=co.selRegul.sizesAvailableForColor(c);if(!c[co.v.size])for(var g=0;g<c.length;g++)if(c[g]){d=g;break}co.formats.colorSelected(co.v.curColor);
co.nav.updateBtnFormat();$(co).one("showComplete",function(){co.calc.update();co.ribbon.update();co.selRegul.absentUpdate();b()});-1<d?($(co).one("selSizeComplete",a),e.selSize(d)):a()};e.selSide=function(a){function b(){$(co).trigger("selSideComplete")}if(co.v.side===a)return b();co.v.side=a;co.trans.hide();co.svg.turn(a).fit();co.calc.update();co.nav.updateAddAbility();co.nav.updateBtnFormat();co.nav.updateImgsCatsBtns();co.ribbon.update();b()};e.sizesArray=function(){var a=co.v.curBase,b=a.sizes,
d=co.v.sex,e=co.v.age;return a.params.sizes&&Array.isArray(co.chain(b,d,e,"cols"))?co.chain(b,d,e,"cols"):[]};e.sizeExists=function(a){return e.sizesArray().length>a};e.selSize=function(a){function b(){$(co).trigger("selSizeComplete")}if(co.v.size===a)return b();var c=e.sizesArray();c.length>a&&(co.v.size=a);co.nav.btns.size.toggle(!!c.length);co.calc.update();co.ribbon.update();b()};e.sizesAvailableForColor=function(a){void 0===a&&(a=co.v.color);return(a=co.chain(co.v.bases,co.v.base,"models",co.v.model,
"colors",a,"sizes",co.v.sex,co.v.age))?a:[]};e.defaultSizeID=function(){for(var a=e.sizesAvailableForColor(),b=0;b<a.length;b++)if(a[b])return b;return-1};e.selMethod=function(a){function b(){$(co).trigger("selMethodComplete")}if(co.v.method===a)return b();var c=e.modelMethods();co.v.method=c.length?c.some(function(b){return b.id===a})?a:c[0].id:0;co.calc.update();co.ribbon.update();b()};e.modelMatchSexAge=function(a){var b=!1;a.sexage.forEach2(function(a,c){a.forEach2(function(a,d){var e=!1,f=!1;
c===co.v.sex&&(e=!0);d===co.v.age&&(f=!0);d=co.v.curBase.params;if(e&&f&&a||!d.sex&&!d.age)return b=!0});if(b)return!0});return b};e.modelsMatchedSexAge=function(){var a=[];co.v.curBase.models.forEach(function(b,c){e.modelMatchSexAge(b)&&(b.id=c,a.push(b))});return a};e.modelMethods=function(){var a=[];co.v.curModel.methods.forEach(function(b,c){b&&(b=co.v.methods[c],b.id=c,a.push(b))});return a};e.modelMethodExists=function(a){var b=e.modelMethods();return b.length?null!==co.arrayObject(b,"id",a):
!1};e.absentUpdate=function(){co.absentMes.toggleClass("vis",co.v.absent);co.nav.updateAddAbility();co.nav.updateImgsCatsBtns();co.nav.updateOrderAbility()};e.colorizLayersExist=function(){return!!co.v.curColor.layers.forEach2(function(a){for(var b=0;b<a.length;b++)if(a[b].coloriz)return!0})}};co.PopupBases=function(){function a(a,b){var c=e.clone(),g=c.find(".title"),f=c.find(".img img");c[0].baseIndex=b;co.v.base===b&&c.activate();g.html(co.lang.trans(a.title));var k=g=0;co.v.base===b&&(g=co.v.model,k=co.v.color);if(a.thumb)var l=a.thumb;else a.models[g].thumb?l=a.models[g].thumb:a.models[g].colors[k].thumb&&(l=a.models[g].colors[k].thumb);if(l)var m=co.v.domain+"thumbs/"+co.v.adminID+"/"+l+"-thumb.jpg";else(a=co.chain(co.baseLayer(a.models[g].colors[k].layers[0]),"img"))&&(m=co.v.domain+
"layer-imgs/"+co.v.adminID+"/"+a+"-thumb.jpg");f.load(function(){return c.addClass("loaded")});f[0].src=m?m:co.v.domain+"img/empty.gif";h.append(c);c.click(function(){co.v.base===b?d.close():(co.wait(),co.trans.active()&&co.trans.hide(),d.close(),co.selRegul.selBase(b))})}co.Popup.call(this,"pop-bases nav-pop","pop-bases-shown nav-pop-shown");var d=this,g=co.lang.applyToTemplate($(co.tpls.popBasesContent)),e=g.find(".item").remove(),h,c,b,k=d.show;d.pos=$.noop;d.show=function(){k.call(d,g);h=d.win.find(".items");
d.win.find(".paddings");c=d.win.find(".info");b=d.win.find(".pop-close");h.empty();co.v.bases.forEach(a);d.pos=function(){co.Popup.posCommon(d,c,b,"base")};d.pos()}};co.extend(co.PopupBases,co.Popup);co.PopupModels=function(){function a(a,b){if(!1!==co.selRegul.modelMatchSexAge(a)){var c=e.clone(),g=c.find(".title"),f=c.find(".img img");c[0].modelIndex=b;co.v.model===b&&c.activate();g.html(co.lang.trans(a.title));g=0;co.v.model===b&&(g=co.v.color);var k=a.colors[g].layers[0];if(a.thumb)var l=a.thumb;else a.colors[g].thumb&&(l=a.colors[g].thumb);if(l)var m=co.v.domain+"thumbs/"+co.v.adminID+"/"+l+"-thumb.jpg";else(l=k[k.length-1].img)&&(m=co.v.domain+"layer-imgs/"+co.v.adminID+"/"+l+"-thumb.jpg");
f.load(function(){return c.addClass("loaded")});f[0].src=m?m:co.v.domain+"img/empty.gif";c.click(function(){d.close();co.v.model!==b&&(co.selRegul.selModel(b),co.v.sexFilter&&co.selRegul.selSex(co.v.sexFilter-1),co.v.ageFilter&&co.selRegul.selAge(co.v.ageFilter-1))});h.append(c)}}co.Popup.call(this,"pop-models nav-pop","pop-models-shown nav-pop-shown");var d=this,g=co.lang.applyToTemplate($(co.tpls.popModelsContent)),e=g.find(".item").remove(),h,c,b,k=d.show;d.pos=$.noop;d.show=function(){k.call(d,
g);h=d.win.find(".items");d.win.find(".paddings");c=d.win.find(".info");b=d.win.find(".pop-close");h.empty();co.v.curBase.models.forEach(a);d.pos=function(){co.Popup.posCommon(d,c,b,"model")};d.pos()}};co.extend(co.PopupModels,co.Popup);co.PopupColors=function(){function a(a,b){var d=co.selRegul.sizesAvailableForColor(b);if(!co.selRegul.sizesArray().length||d.some(function(a){return a})){var f=h.clone().data("id",b),e=f.find(".title");d=f.find(".img img");var k=f.find(".color");co.v.color===b&&f.activate();e.html(co.lang.trans(a.title));e=a.layers[0];var l;a.thumb?(e=a.thumb)&&(l=co.v.domain+"thumbs/"+co.v.adminID+"/"+e+"-thumb.jpg"):(e=e[e.length-1].img)&&(l=co.v.domain+"layer-imgs/"+co.v.adminID+"/"+e+"-thumb.jpg");d.load(function(){return f.addClass("loaded")});
d[0].src=l?l:co.v.domain+"img/empty.gif";a.layersColor&&"#ffffff"!==a.layersColor&&k.show().css("color",a.layersColor);f.click(function(){if(b===co.v.color)g.close();else if(co.wait(),co.trans.active()&&co.trans.hide(),g.close(),co.selRegul.selColor(b),co.selRegul.colorizLayersExist())$(co).one("selColorComplete",function(){return co.popups.show("colors")})});c.append(f)}}function d(){new co.Palette({box:l,initColor:co.svg.layersColor()||"#ffffff",selected:function(a){var b=c.children(".active");
b.length&&(b=b.find(".color"),"#ffffff"===a?b.hide():(b.show(),b.css("color","#ffffff"===a?"":a)));co.svg.layersColor(a)},finished:function(){co.v.userCreative=!0;co.v.userAddsAction=!0;co.updateSides()}})}co.Popup.call(this,"pop-colors nav-pop","pop-colors-shown nav-pop-shown");var g=this,e=co.lang.applyToTemplate($(co.tpls.popColorsContent)),h=$("div.item",e).remove(),c,b,k,l,m,n,q=g.show;g.pos=$.noop;g.show=function(){q.call(g,e);c=g.win.find(".items");b=g.win.find(".paddings");k=g.win.find(".palette");
l=k.find(".co-palette");m=g.win.find(".info");n=g.win.find(".pop-close");c.empty();var f=2>co.v.curModel.colors.length;g.pop.toggleClass("no-items",f);var h=co.selRegul.colorizLayersExist();g.pop.toggleClass("with-palette",h);h&&d();b.toggle(!f);f||co.v.curModel.colors.forEach(a);g.pos=function(){g.pop.find("style").remove();var a=co.Popup.optimalSpace(),c=co.nav.btns.color,d=c.offset().top;c=c.outerHeight();var f=d+c-1;k.css("top","");b.css("padding-left","");m.css({left:"",top:"",width:""});n.css({top:"",
right:""});g.pop.css("margin-left",a.left+"px");g.win.css({width:"auto",position:"absolute",top:a.top+"px",maxWidth:a.width+"px"});h&&!co.mobile&&b.css("padding-left",k.outerWidth()+25+"px");co.Popup.posCommonSome(g,a,d,c,f);a=parseFloat(g.pop.css("margin-left"));f=g.win.position().top;var e=g.win.width();g.win.height();var l=a,C=e-20;e=co.winWidth-(a+e)+20;if(h){var q=k.outerWidth();l+=q;C-=q}m.css({left:l+"px",top:f+"px",width:C+"px"});n.css({top:f+20+"px",right:e+"px"});g.pop.append("<style>.pop-colors:before{top:"+
(d+(c-20)/2)+"px}</style>");h&&(k.css({top:f+"px",left:a+"px"}),co.mobile?k.css("height",""):k.outerHeight(g.win.height()))};g.pos()}};co.extend(co.PopupModels,co.Popup);co.PopupSizes=function(){function a(){var a=co.v.curBase.sizes[co.v.sex][co.v.age],b=co.selRegul.sizesAvailableForColor();if(a.rows.some(function(a){return a})){var c=$('<div class="head"></div>');a.rows.forEach(function(a){return c.append('<div class="cell">'+(a?co.lang.trans(a):"&nbsp;")+"</div>")});e.append(c)}a.cols.forEach(function(c,f){if(b[f]){var g=$('<div class="item"></div>');c.forEach(function(b,c){c=co.lang.trans(a.rows[c]);g.append('<div class="cell"><span>'+(c?c+": ":"")+"</span>"+co.lang.trans(b)+
"</div>")});co.v.size===f&&g.activate();g.click(function(){e.children().deactivate();g.activate();co.selRegul.selSize(f);d.pop.fadeOut(300,d.close)});e.append(g)}})}co.Popup.call(this,"pop-sizes nav-pop","pop-sizes-shown nav-pop-shown");var d=this,g=co.lang.applyToTemplate($(co.tpls.popSizesContent)),e,h,c,b=d.show;d.pos=$.noop;d.show=function(){b.call(d,g);h=d.win.find(".info");c=d.win.find(".pop-close");e=d.win.find(".items");e.empty();a();d.pos=function(){var a=co.Popup.posCommon(d,h,c,"size",
!0);if(co.mobile){var b=e.children(".active"),g=b.length?b.offset().top:0;d.pop.toggleClass("triang-gray",b.length&&g<=a.triangTop+10&&g+b.outerHeight()>=a.triangTop+10)}};d.pos();co.win.on("resizeEnd.popupSizes",function(){return d.pos()})};var k=d.close;d.close=function(){co.win.off("resizeEnd.popupSizes");k.call(d)}};co.extend(co.PopupSizes,co.Popup);co.PopupMethods=function(){function a(a){var b=$('<div class="item"><h3></h3><p></p></div>'),c=b.find("h3"),g=b.find("p");c.text(co.lang.trans(a.title));co.d(a.descr)&&a.descr.length?g.html(co.lang.trans(a.descr)):g.remove();a.id===co.v.method&&b.activate();b.click(function(c){"A"===c.target.tagName?c.stopPropagation():(co.selRegul.selMethod(a.id),e.children().deactivate(),b.activate(),co.trans.hide(),co.mobile?(co.mobileBottomTopPanel.stateDefault(),co.mobileSides.update(),d.close()):(co.sidebar.stateDefault(),
d.pop.fadeOut(300,d.close)))});e.append(b)}co.Popup.call(this,"pop-methods nav-pop","pop-methods-shown nav-pop-shown");var d=this,g=co.lang.applyToTemplate($(co.tpls.popMethodsContent)),e,h,c,b=d.show;d.pos=$.noop;d.show=function(){b.call(d,g);e=d.win.find(".items");d.win.find(".paddings");h=d.win.find(".info");c=d.win.find(".pop-close");e.empty();co.selRegul.modelMethods().forEach(a);d.pos=function(){var a=co.Popup.posCommon(d,h,c,"method",!1,502);h.css("width",d.win[0].clientWidth+"px");var b=e.children(".active"),
g=b.length?b.offset().top:0;d.pop.toggleClass("triang-gray",b.length&&g<=a.triangTop+10&&g+b.outerHeight()>=a.triangTop+10)};d.pos()}};co.extend(co.PopupMethods,co.Popup);co.PopupFormats=function(){function a(){var a=co.chain(co.v.curColor.formats,co.v.side),b=co.formats.curSelection();co.ar(a)&&b&&a.forEach(function(a){var c=$('<div class="item"><div class="item-title"></div></div>');c.find(".item-title").html(co.lang.trans(a.title));b.prog===a&&c.activate();c.click(function(b){"A"===b.target.tagName||$(b.target).hasClass(".link")||(co.formats.selectFormat(a),e.children().deactivate(),c.activate(),co.mobile?d.close():d.pop.fadeOut(300,d.close))});e.append(c)})}co.Popup.call(this,
"pop-formats nav-pop","pop-formats-shown nav-pop-shown");var d=this,g=co.lang.applyToTemplate($(co.tpls.popFormatsContent)),e,h,c,b=d.show;d.pos=$.noop;d.show=function(){b.call(d,g);e=d.win.find(".items");d.win.find(".paddings");h=d.win.find(".info");c=d.win.find(".pop-close");e.empty();a();d.pos=function(){var a=e.find(".item").length,b=!co.mobile&&6>a;d.win.toggleClass("few-items",!co.mobile&&b);a=co.Popup.posCommon(d,h,c,"format",!1,502,b);b&&400<d.win.width()&&(a=co.Popup.posCommon(d,h,c,"format",
!1,400,!0));b&&200<d.win.height()&&(b=!1,d.win.removeClass("few-items"),a=co.Popup.posCommon(d,h,c,"format",!1,400));b||h.css("width",d.win[0].clientWidth+"px");b=e.children(".active");var g=b.length?b.offset().top:0;d.pop.toggleClass("triang-gray",b.length&&g<=a.triangTop+10&&g+b.outerHeight()>=a.triangTop+10)};d.pos()}};co.extend(co.PopupFormats,co.Popup);co.PopupImages=function(){var a="undefined",d="undefined",g="undefined",e;return function(h){function c(){if(O||!E.children(":visible").length)E&&E.remove(),E=null,v.pop.addClass("no-menu")}function b(){w.empty();d=a="undefined";O||(g="undefined");x();v.pop.attr("data-state",a);co.body.trigger({type:"pop-images-state",state:"undefined"});return!0}function k(b){a=b;O||(g=b);u();x();"admin-imgs"!==a&&G.children().deactivate();v.pos();v.pop.attr("data-state",a);co.body.trigger({type:"pop-images-state",
state:b})}function l(){return co.v.images.cats.some(function(a){return!!a.imgs.length})}function m(){b();d="admin-imgs";var a=co.v.composMode,c=0;co.v.images.cats.forEach(function(a,b){"[]"===(b?a.title:!1)||!O&&a.menu.on||(c+=a.imgs.length)});co.v.images.cats.forEach(function(b,d){var f=d?b.title:!1,e=co.v.domain+"imgs/"+co.v.adminID+"/";b.imgs.forEach(function(d){if(a||"[]"!==f)if(!N||!1!==f)if(O||!b.menu.on){var g=b.onFor,h=co.getOrigBaseIndex(co.v.base);if(O||!Array.isArray(g)||
g[h])d.path=e+d.filename,d.thumb=d.path.replace(/\.(png|jpg|gif)$/i,"-thumb.jpg"),g=$(B),g[0].imgData=d,200>c&&S.showOne(g),f&&g.attr("data-cat",f),d.price&&co.v.calc.on&&$('<div class="price"></div>').txt(co.v.calc.curLeft?""+co.v.calc.cur+d.price:d.price+" "+co.v.calc.cur).appendTo(g),g.click(function(){return y(d,!0,b)}),w.append(g)}})});O||n();O?q(h.cat.title):co.d(e)&&q(e);k("admin-imgs");200<=c&&setTimeout(function(){S.layoutUpdated();S.show()},100)}function n(){if(l()){var b=[],f=!1;co.v.images.cats.forEach(function(a,
c){c=c?a.title:!1;var d=$.merge([],a.imgs);if(c&&d.length){var e=a.onFor,g=co.getOrigBaseIndex(co.v.base);e=co.v.composMode||!Array.isArray(e)||Array.isArray(e)&&e[g];"[]"===c&&!co.v.composMode||!e||a.menu.on||b.push(c)}!1===c&&d.length&&(f=!0)});b.length&&(1!==b.length||f&&!N)?(G.empty(),N||b.unshift(co.lang.w(35)),b.forEach(function(c,f){var g=$("<li>"+co.lang.trans(c)+"</li>");g.click(function(){if("admin-imgs"!==a){var b=g.index();setTimeout(function(){m();q(c);var a=G.children();
a.deactivate(a.eq(b))},0)}else q(c),g.activate(G.children().not(g));e=c});!e&&0===f&&N&&1<b.length&&(e=c,setTimeout(function(){return q(c)},0));(f||co.d(e)||"admin-imgs"!==d&&"admin-imgs"!==a)&&e!==c||g.activate();G.append(g)}),G.show()):G.hide();c()}}function q(a){var b=w.children();a===co.lang.w(35)?b.removeClass("item-hidden"):(a=b.filter('[data-cat="'+a+'"]'),w.children().not(a).addClass("item-hidden"),a.removeClass("item-hidden"));a=G.scrollTop();v.pos();v.win.scrollTop(0);a&&G.scrollTop(a);
setTimeout(function(){S.layoutUpdated();S.show()},100)}function f(){b();d="user-imgs";co.v.userImgs.forEach(function(a){var b=$(B).addClass("user-item");b.css("background-image",'url("'+a[1]+'")');var c={path:a[0]};b[0].imgData=c;b.click(function(){return y(c)});w.append(b)});k("user-imgs")}function r(){H.html(co.lang.w(co.mobile||co.touchDevice?142:140));H.click(function(){"user-imgs"!==a&&"user-imgs"!==d&&co.v.userImgs.length&&f()})}function t(){M.click(function(){return m()})}function u(){!O&&
co.v.userImgs.length?H.show().toggleClass("active","user-imgs"===d||"user-imgs"===a):H.hide()}function p(){var a=h.btn,b=a.offset().top,c=a.outerHeight();a=b+c;var d=w?w.children(":not(.item-hidden)").length:0;v.pop.toggleClass("no-images",!d);v.pop.css({marginLeft:""});v.win.css({width:"",height:"",position:"",top:"",maxWidth:"",maxHeight:""});L.css("padding-right","");E&&E.css({left:"",top:"",height:""});if(!co.mobile)if(d){var f=function(){var a=(E?270:70)+l,b=v.win.width(),c=Math.min(d,3);b-a<
135*c&&(n?(m.width=a+135*c,m.left=co.winWidth-m.width,0>m.left&&(m.left=0),m.left=Math.min(co.nav.box.width()||0,m.left),g(m)):(n=!0,m=e(!0),f()));4>d&&L.css("padding-right",60+l)},e=function(a){a=co.Popup.optimalSpace(a);g(a);v.win[0].scrollHeight>a.height&&(a=co.Popup.optimalSpace(!0),g(a));v.win[0].scrollHeight>a.height&&(a.height+=co.v.blockUnderHeight,a.bottom+=co.v.blockUnderHeight,g(a));v.win[0].scrollHeight>a.height&&(a.top-=co.v.blockOverHeight,a.height=co.winHeight,a.bottom=co.winHeight,
g(a));return a},g=function(a){v.pop.css({marginLeft:a.left});v.win.css({width:"auto",position:"absolute",top:a.top,maxWidth:a.width,maxHeight:a.height});E&&E.css({left:a.left,top:a.top})},k=$("<div></div>");k.css({clear:"both",height:2E4});w.append(k);var l=v.win[0].offsetWidth-v.win[0].scrollWidth;k.remove();var m=e(),n=!1;f()}else{k=co.nav.box.width()||0;var p=co.v.blockOverHeight;k+200>co.winWidth&&(k=co.winWidth-200);v.win.css({width:200,top:p});v.pop.css({marginLeft:k});L.css("padding",0);E&&
E.css({left:k,top:p});K.hide()}v.pop.find("style").remove();v.pop.append("<style>.pop-images:before{top:"+(b+(c-20)/2)+"px}</style>");E&&E.css("height","");G.css("height","").removeClass("scroll");if(!co.mobile&&E)if(G.is(":visible")){k=G.offset().top;p=k+G.outerHeight()+20;var u=v.win.height();p>u&&(u=p-v.win.position().top,v.win.height(u),p>co.winHeight&&G.outerHeight(co.winHeight-k-20).addClass("scroll"));E.outerHeight(u)}else{var B=0;E.children().each(function(){var a=$(this);a=a.offset().top+
a.outerHeight();a>B&&(B=a)});k=v.win.height();p=B+20;k>p?p=k:v.win.height(p);E.outerHeight(p)}if(!co.mobile){k=v.win.position().top;p=v.win.height();u=function(a){v.win.css({top:a});E&&E.css({top:a})};var t=co.winHeight-co.v.blockUnderHeight;k>=co.v.blockOverHeight&&k+p<=t&&(b=b+c/2-p/2,b>co.v.blockOverHeight&&(b+p<t||(b=t-p),100<b-k&&u(b)));b=v.win.offset();!co.mobile&&b.top+v.win.height()<a-1&&(a=a-1-b.top,v.win.height(a),E&&E.outerHeight(a));K.css({left:b.left+v.win.width()-50,top:b.top+12})}co.mobile&&
!E&&(a=co.nav.box.width()||0,a+200>co.winWidth&&(a=co.winWidth-200),v.pop.css("margin-left",a));a=G.offset().top;co.mobile&&a+G.height()>v.win.height()&&G.css("height",v.win.height()-a).addClass("scroll")}function x(){M.toggle(!O&&"user-imgs"===a&&!G.is(":visible")&&l())}function y(a,b,c){co.wait(!1,co.lang.w(36));var d=new co.AddImage;v.changingCallback&&co.svg.addClass(d.box,"changing-new-add");$(d).one("addready",function(){co.v.userCreative=!0;co.v.userAddsAction=!0;b||co.order.prepare();co.mobile?
(co.svg.box.hide(),setTimeout(function(){co.svg.box.show();v.changingCallback?v.changingCallback(d):d.select();v.close();co.nowait()},0)):(v.changingCallback?v.changingCallback(d):d.select(),v.close(),co.nowait())}).one("loadError",function(){d.remove2();v.close();co.nowait();co.alert(co.lang.w(37))});d.isAdminImg=!!b;d.load(a.path);d.imgData=a;d.cat=c;if(a=a.price)d.price=+a;v.win.hide()}function z(){J.find(":file").change(function(){if(Q)return co.alert(co.lang.w(132));var a=this.files&&this.files[0],
b=co.fileExt(this.value)||co.fileExt(a);A(a,b)&&F(a,b)})}function C(){I.on("dragover",function(){Q||I.addClass("dragover");return!1});I.on("dragleave",function(){Q||I.removeClass("dragover");return!1});I.on("drop",function(a){function b(){I.removeClass("dropped")}a.preventDefault();a.stopPropagation();if(Q)return co.alert(co.lang.w(132));a=(a=a.originalEvent.dataTransfer)&&a.files&&a.files[0];var c=co.fileExt(a);A(a,c)&&(I.removeClass("dragover").addClass("dropped"),F(a,c,b,b,b))})}function A(a,b){return a?
a.type&&!["image/jpeg","image/png","image/gif"].includes(a.type)||b&&!["gif","png","jpg","jpeg"].includes(b)||!a.type&&!b?void co.alert(R.wrongType):43>a.size?void co.alert(R.nullSize):10485760<a.size?void co.alert(R.bigSize):!0:void co.alert(R.noFile)}function F(a,b,c,d,e){function g(){co.readFile(a,function(a,b){!a&&b&&b.byteLength?h(b):(co.alert(a.default),co.f(d))})}function h(a){Q=!0;co.ajax({route:"order/img/add/"+co.v.adminID+"/"+co.v.sign,binary:a,progress:function(a){k.progress&&k.progress(Math.floor(100*
a))},success:function(a){co.nowait();var b=co.v.domain+"orders-data/"+co.v.adminID+"/"+co.v.sign+"/"+a.imgID;a=b+"."+a.ext;b+="-thumb.jpg";y({path:a});co.v.userImgs.unshift([a,b]);f();co.f(c)},error:function(a){co.nowait();co.alert(R[a]||R.default);co.f(d)},complete:function(){Q=!1}})}var k=co.wait(!0,co.lang.w(36),!0);(b||a.type)&&window.URL&&URL.createObjectURL?$("<img>").load(function(){var a=this.naturalWidth,b=this.naturalHeight;$(co).trigger({type:"userImgSizes",width:a,height:b});var c=co.v.curBase.imgsPPI;
if(c&&(a<c.minWidth||b<c.minHeight)&&(c.mes&&co.alert(co.lang.trans(c.mes)),c.disallow)){co.nowait();co.f(e);return}g()})[0].src=URL.createObjectURL(a):g()}h||(h={btn:co.nav.btns.image});co.Popup.call(this,"pop-images nav-pop","pop-images-shown nav-pop-shown"+(h.cat?" pop-images-one-cat-shown":""));var v=this,D=co.lang.applyToTemplate($(co.tpls.popImagesContent)),B=D.find(".item").remove()[0].outerHTML,w=null,L=null,K=null,E=null,H=null,M=null,G=null,I=null,J=null,P=co.v.images.selOff,N=co.v.images.noAll,
Q=!1,O=!!h.cat;v.param=h||{};v.changingCallback=null;var R={default:co.lang.w(37),noFile:co.lang.w(182),wrongType:co.lang.w(38),nullSize:co.lang.w(41),bigSize:co.lang.w(39),filesLimit:co.lang.w(42),spaceLimit:co.lang.w(43)};v.pos=$.noop;var T=v.show;v.show=function(){T.call(v,D);var b=h.btn;b&&b.addClass("btn-pop-shown");E=v.win.find(".menu");L=v.win.find(".paddings");K=v.win.find(".pop-close");w=v.win.find(".imgs");H=E.find(".drive");M=E.find(".admin");G=E.find(".cats");I=E.find(".file-drop");J=
I.find(".add");b=(b=co.chain(co.v.methods,co.v.method))&&b.palette&&b.paletteNoImg;(P||co.v.composMode||b||O)&&I.remove();u();x();c();P||(C(),z(),r());t();a=O?"admin-imgs":g;"undefined"===a?co.v.userImgs.length?(n(),f()):l()&&m():"admin-imgs"===a?m():(n(),"user-imgs"===a&&f());v.pos=p;v.pos()};var S=new function(){function a(){f&&f.each(function(){var a=$(this),b=a.offset().top-c;b>-d&&b+150<2*d&&!a[0].thumbShown&&(a.css("background-image",'url("'+a[0].imgData.thumb+'")'),a[0].thumbShown=!0)})}var b=
this,c,d,f;b.layoutUpdated=function(){c=v.win.offset().top;d=v.win.height();v.win.scrollTop();f=w.children(":not(.item-hidden)")};var e;b.scrolled=function(){e&&clearTimeout(e);e=setTimeout(a,500)};b.show=function(){setTimeout(a,100)};b.hide=function(){w.children().each(function(){$(this).css("background-image","")[0].thumbShown=!1})};b.showOne=function(a){a.css("background-image",'url("'+a[0].imgData.thumb+'")');a[0].thumbShown=!0};v.win.on("scroll.thumbsDisplay",function(){v.win.scrollTop();b.scrolled()})};
var U=v.close;v.close=function(){var a=h.btn;a&&a.removeClass("btn-pop-shown");U.call(v)}}}();co.extend(co.PopupImages,co.Popup);
$(co).one("appComplete",function(){co.body.on("dragstart",function(){return!1});co.body.on("dragover",function(){return!1});co.body.on("dragleave",function(){return!1});co.body.on("drop",function(a){a.preventDefault();if(co.addsFeature("image","on")){co.popups.show("images");var d=co.popups.shown.images;d&&(d=d.win.find(".file-drop"),d.length&&d.is(":visible")&&d.trigger(a))}else co.alert(co.lang.w(191));return!1})});co.PopupFigures=function(){function a(a,b){var c=$('<div class="item"></div>'),g=co.c.FIGURES_SIZES[a];g=$('<svg width="101" height="101" viewBox="0 0 '+g[0]+" "+g[1]+'" xmlns="http://www.w3.org/2000/svg"></svg>');g.append(b);c.append(g);e.append(c);c.click(function(){co.wait(!1,co.lang.w(34));var c=new co.AddFigure;co.v.userCreative=!0;co.v.userAddsAction=!0;$(c).one("addready",function(){c.select();co.mobile?(co.svg.box.hide(),setTimeout(function(){co.svg.box.show();co.nowait()},0)):co.nowait()});
c.load($(b),a);d.close()})}co.Popup.call(this,"pop-figures nav-pop","pop-figures-shown nav-pop-shown");var d=this,g=co.lang.applyToTemplate($(co.tpls.popFiguresContent)),e,h,c,b=d.show;d.pos=$.noop;d.show=function(){if(!1===co.v.figuresCode)co.alert(co.lang.w(9));else if(""===co.v.figuresCode){co.wait();var k=setInterval(function(){if(co.v.figuresCode||!1===co.v.figuresCode)clearInterval(k),co.nowait(),d.show()},100)}else b.call(d,g),e=d.win.find(".items"),d.win.find(".paddings"),h=d.win.find(".info"),
c=d.win.find(".pop-close"),e.empty(),$(co.v.figuresCode).find("path").each(a),d.pos=function(){co.Popup.posCommon(d,h,c,"figure")},d.pos()}};co.extend(co.PopupFigures,co.Popup);co.PopupDetails=function(a){function d(b,d){var f=h.clone();b=f.find(".title");var e=f.find(".img img"),k=d.img?co.v.domain+"detail-imgs/"+co.v.adminID+"/"+(d.img.split(".")[0]+"-thumb.jpg"):"",l=d.thumb?co.v.domain+"detail-imgs/"+co.v.adminID+"/"+d.thumb+"-thumb.jpg":"",m=f.find(".price");d.unical===a.detail.variant.unical&&f.activate();b.html(co.lang.trans(d.title));e.load(function(){return f.addClass("loaded")});e[0].src=l||k||co.v.domain+"img/transparent.png";d.price?m.text(co.v.calc.curLeft?
""+co.v.calc.cur+d.price:d.price+" "+co.v.calc.cur):m.remove();c.append(f);f.click(function(){co.details.showVariant({curVariantUnical:a.detail.variant.unical,newVariantUnical:d.unical,selectedByUser:!0,popShownFromMenu:a.shownFromMenu});c.find(".item").deactivate();f.activate();g.close()})}co.Popup.call(this,"pop-details nav-pop","pop-details-shown nav-pop-shown");var g=this,e=co.lang.applyToTemplate($(co.tpls.popDetailsContent)),h=e.find(".item").remove(),c,b,k,l=g.show;g.param=a;g.pos=$.noop;g.show=
function(){l.call(g,e);c=g.win.find(".items");g.win.find(".paddings");b=g.win.find(".info");k=g.win.find(".pop-close");var h=a.btn;h&&h.addClass("btn-pop-shown");var m=co.gt(a.detail.detail,"menu.btnText")||a.detail.detail.title||"";b.txt(co.lang.trans(m)+":");c.empty();a.detail.detail.variants.forEach(function(b){b.off||d(a.detail,b)});g.pos=function(){co.Popup.posCommon(g,b,k,"detail",!1,void 0,!1,h)};g.pos()};var m=g.close;g.close=function(){var b=a.btn;b&&b.removeClass("btn-pop-shown");m.call(g)}};
co.extend(co.PopupDetails,co.Popup);co.Order=function(){function a(){var a=co.detectOS(),b=1,c=window.matchMedia("screen and (orientation: landscape)");"number"===typeof window.devicePixelRatio&&(b=window.devicePixelRatio);a={agent:navigator.userAgent,browser:co.browser(),mobileOrTablet:co.isMobileOrTablet(),ppi:co.isRetina()?"hight":"normal",pixelRatio:b,landscape:c.matches||screen.availWidth>screen.availHeight,appSize:{w:co.winWidth,h:co.winHeight},screenSize:{w:screen.width,h:screen.height},screenAvailable:{w:screen.availWidth,h:screen.availHeight},
href:window.location.href,inFrame:co.inFrame(),inMultiFrame:co.inMultiFrame(),fullscreen:co.isFullscreen(),os:a?a.name+" "+a.version:null};1!==b&&(a.appSize.wReal=Math.floor(co.winWidth*b),a.appSize.hReal=Math.floor(co.winHeight*b),a.screenSize.wReal=Math.floor(screen.width*b),a.screenSize.hReal=Math.floor(screen.height*b),a.screenAvailable.wReal=Math.floor(screen.availWidth*b),a.screenAvailable.hReal=Math.floor(screen.availHeight*b));if(a.inFrame)try{a.browserSize={inner:{w:window.top.innerWidth,
h:window.top.innerHeight},outer:{w:window.top.outerWidth,h:window.top.outerHeight}}}catch(n){a.browserSize={error:"no top window access"}}else a.browserSize={inner:{w:window.innerWidth,h:window.innerHeight},outer:{w:window.outerWidth,h:window.outerHeight}};c=a.browserSize;c.error||1===b||(c.inner.wReal=Math.floor(c.inner.w*b),c.inner.hReal=Math.floor(c.inner.h*b),c.outer.wReal=Math.floor(c.outer.w*b),c.outer.hReal=Math.floor(c.outer.h*b));return a}function d(a,b,c,e,g){e=e||a;a.toBlob(function(f){if(!(240>
.9*b)&&12*f.size/1E3>10*co.v.uploadSpeed){f=document.createElement("canvas");var h=f.getContext("2d");f.width=.9*b;f.height=.9*c;h.drawImage(e?e:a,0,0,.9*b,.9*c);return d(f,.9*b,.9*c,e,g)}return g(f)},"image/jpeg",.95)}function g(){function a(a){function f(b){return co.lang.trans(b,!a)}var e={};1<co.v.bases.length&&(e.base=f(c.title));1<c.models.length&&(e.model=f(c.models[co.v.model].title));1<c.models[co.v.model].colors.length&&(e.color=f(c.models[co.v.model].colors[co.v.color].title));c.params.sex&&
(e.sex=co.lang.w(co.v.sex?112:111,!a));c.params.age&&(e.age=f(c.ages[co.v.age]));if(c.params.sizes){var g=c.sizes[co.v.sex][co.v.age].cols;g.length&&(e.size=f(g[co.v.size][0]))}1<co.selRegul.modelMethods().length&&(b.method=co.v.method,g=co.v.methods[co.v.method],e.method=f(g.title?g.title:g.descr));d.length&&(e.details=[],d.forEach(function(a){e.details.push({detail:f(a.detail.title),variant:f(a.variant.title)})}));g=co.formats.curSelectionAllTitles();var h=co.formats.curSelectionAllUnicals();co.ar(g)&&
(e.formats=g.map(f),function(){var b=e.formats,c=co.v.curModel.sides,d=co.v.curColor.formats,g=0;b.forEach(function(a,b){a=co.chain(d,b);co.ar(a)&&1<a.length&&g++});if(g){var k=[];b.forEach(function(b,e){var l=co.chain(d,e);!co.ar(l)||2>l.length||(1<g?(l=(l=c[e])?f(l):e,l=co.lang.w(196,!a)+' "'+l+'"'):l=co.lang.w(194,!a),k.push({capt:l,format:{unical:h[e],title:b}}))});k.length&&(e.formatsAbout=k)}}());return e}var b={base:co.v.base,model:co.v.model,color:co.v.color,colorizCode:co.colorizCode()||
void 0,sex:co.v.sex,age:co.v.age,size:co.v.size,userlang:co.lang.userlang,adminlang:co.lang.adminlang,unicals:{base:co.v.curBase.unical,model:co.v.curModel.unical,color:co.v.curColor.unical},formats:co.formats.curSelectionAllUnicals()},c=co.v.curBase,d=co.details.productSelectedDetails(),e=co.details.productSelectedDetailsSides();d.length&&(b.details=e.map(function(a){return a.map(function(a){return{detail:a.detail.unical,variant:a.variant.unical}})}));b.readableUserLang=a(!0);b.readableAdminLang=
a(!1);return b}function e(a){return co.v.calc.on?[{type:"sum",label:co.lang.w(33,a),val:co.calc.lastSum+" "+co.v.calc.cur}]:[]}function h(){var a=[];co.svg.box.find(".image").each(function(){var b=this.addInstance.imgData;b&&b.title&&a.push({filename:b.filename,title:b.title})});return a}function c(){var a=co.lang.w(32);try{b.save({fields:e(!0),fieldsUserlang:e(!1),fonts:b.getFontsFiles(),timeout:6E4,success:function(a){b.success(a);b.thumbSender.error&&setTimeout(function(){co.alert(co.lang.w(181))},
300)},error:function(){co.alert(a)},complete:function(){co.nowait()}})}catch(l){co.nowait(),co.alert(a)}}var b=this;co.order=b;(function(){var c=!1,d=!1,e=0;b.prepare=function(g){g=g||$.noop;if(c||d)return g();if(co.v.orderEditMode)return c=!0,g();if(2<e)return co.body.empty(),co.alert(co.lang.w(180));d=!0;co.ajax({post:"order/prepare",data:{admin:co.v.adminID,sign:co.v.sign,clientInfo:JSON.stringify(a())},success:function(a){d=!1;c=!0;a&&a.where&&(b.where=a.where);g()},error:function(a){d=!1;"sign-allready-exist"===
a?(co.v.sign=co.randomStr(15),b.prepare()):setTimeout(b.prepare,3E3)}});e++};b.reset=function(){co.v.sign=co.randomStr(15);c=!1;e=0;b.prepare()}})();b.makeThumb=function(a,b,c){var e=b||1080;b=c||1080;try{var g=co.v.curModel.sides,f=g.length,h=e,k=b;1<f&&5>f&&(h=e/2,k=b/2);4<f&&(h=e/3,k=b/3);9<f&&(h=e/6,k=b/6);h=Math.floor(h);k=Math.floor(k);var l=2===f?Math.floor(b/2):b,p=document.createElement("canvas");p.width=e;p.height=l;var m=p.getContext("2d"),y=0;m.fillStyle="#ffffff";m.fillRect(0,0,e,l);
g.forEach(function(b,c){b=co.svg.box.find("g.side:eq("+c+") image.layer-base");var g=+b.attr("width"),u=+b.attr("height");if(g&&u){var n=document.createElement("canvas");n.width=h;n.height=k;b=co.svg.box.clone();b.find(".layer-dont-pass").remove();b.find(".area-frame").remove();b.find(".detail-ants").remove();var t=b.find("g.side"),B=t.eq(c),z=h/g,C=k/u;z=z<C?z:C;g=(h-g*z)/2/z;u=(k-u*z)/2/z;t.attr("visibility","hidden");B.attr({width:h,height:k,transform:"scale("+z+") translate("+g+","+u+")",visibility:"visible"});
b.attr({width:h,height:k});b.find("text").removeAttr("filter");b.find(".layer-detail[filter]").attr("filter","");var q=h*c%e;isNaN(q)&&(q=0);var r=Math.floor(h*c/e)*k;c=co.svg.getCode(b[0]);canvg(n,c,{ignoreMouse:!0,ignoreAnimation:!0,ignoreDimensions:!0,ignoreClear:!0,offsetX:0,offsetY:0,scaleWidth:h,scaleHeight:k,renderCallback:function(){m.drawImage(n,q,r);y++;try{y===f&&d(p,e,l,null,function(b){co.f(a,null,b)})}catch(H){co.f(a,H)}}})}})}catch(z){co.f(a,z)}};b.getFontsFiles=function(){var a=[];
co.svg.getAdds(void 0,!0).filter(function(a){return"text"===a.addName}).forEach(function(b){var c=b.style.fontFamily,d=co.fontByFamily(c);b=b.styleIndex();d&&(d=co.clon(d),d.usedStyles=[+(0===b),+(1===b),+(2===b),+(3===b)],(c=co.arrayObject(a,"family",c))?(d.usedStyles[0]&&(c.usedStyles[0]=1),d.usedStyles[1]&&(c.usedStyles[1]=1),d.usedStyles[2]&&(c.usedStyles[2]=1),d.usedStyles[3]&&(c.usedStyles[3]=1)):a.push(d))});return a};b.save=function(a){a=a||{};try{window.yaCounter47642182&&yaCounter47642182.reachGoal("order-try")}catch(t){}var b=
g(),c=a.fields||[],d=a.fieldsUserlang||[],e=a.timeout||1E4,f="price sum quantity email checkbox discount".split(" "),k=[];(function(){co.ajax({post:"order/save",data:{sign:co.v.sign,vars:JSON.stringify(b),vectorPreview:co.svg.getVectorPreview(),vectorForThumb:co.svg.getVectorPreviewForServerThumb(),svg:co.svg.getCodeFitted(),userComposes:function(){var a=co.v.conData.orderOutputFiles||{};if(0!==a.sidesSvg||0!==a.sidesPdf||0!==a.sidesPng)return JSON.stringify(co.svg.userComposes())}(),fields:JSON.stringify(k.length?
c.filter(function(a){return f.includes(a.type)}):c),fieldsUserlang:JSON.stringify(k.length?d.filter(function(a){return f.includes(a.type)}):d),fonts:a.fonts?JSON.stringify(a.fonts):"[]",imgsTitles:JSON.stringify(h()),from:co.v.from?co.v.from:void 0,editData:JSON.stringify({compos:co.compos.getComposData()}),editing:co.v.orderEditMode||void 0},timeout:e,success:function(d){var f=co.clon(b);f.readable=f.readableAdminLang;delete f.readableAdminLang;delete f.readable.formatsAbout;delete f.readableUserLang.formatsAbout;
d={id:d.id||-1,sign:co.v.sign,vars:f,fields:a.fields||[],thumb:co.v.domain+"orders-data/"+co.v.adminID+"/"+co.v.sign+"/thumb.jpg",thumbServer:co.v.domain+"orders-data/"+co.v.adminID+"/"+co.v.sign+"/thumb-server.jpg",from:co.v.from?co.v.from:void 0};co.v.calc.on&&(d.sum=co.d(c.totalSum)?c.totalSum:co.calc.lastSum);co.f(a.success,d)},error:a.error||$.noop,complete:a.complete||$.noop})})()};b.order=function(){co.wait(!1,co.lang.w(31));try{window.yaCounter47642182&&yaCounter47642182.reachGoal("order-try")}catch(k){}$(b.thumbSender).one("send-thumb-complete",
c);b.thumbSender.send()};b.success=function(a){var b=co.v.orderMessages;if(co.v.orderEditMode)b.edited&&co.alert(co.lang.trans(b.edited)),co.api.eventOut("cosuvOrderEdited",a),$(co).trigger({type:"order-edited",orderData:a});else{b.success?co.alert(co.lang.trans(b.success),!1,function(){co.v.conData.orderAgainOff?co.order.reset():(new co.PopupOrderAgain).show()}):co.v.conData.orderAgainOff?co.order.reset():(new co.PopupOrderAgain).show();co.api.eventOut("cosuvOrder",a);$(co).trigger({type:"order-sent",
orderData:a});try{window.yaCounter47642182&&yaCounter47642182.reachGoal("order-done")}catch(m){}}};b.thumbSender={error:!1,inprogress:!1,success:!1,send:function(){var a=this;a.inprogress=!0;a.error=!1;a.success=!1;b.makeThumb(function(b,c){!b&&c&&c.size?co.ajax({route:"order/thumb/save/"+co.v.sign,binary:c,success:function(){a.success=!0},error:function(){a.error=!0},complete:function(){a.inprogress=!1;setTimeout(function(){return $(a).trigger("send-thumb-complete")},100)}}):(a.error=!0,a.inprogress=
!1,$(a).trigger("send-thumb-complete"))})}};b.popOrder=function(){co.v.absent||co.order.prepare(function(){co.v.curBase.emptyOrder||co.svg.addsExist(!0)?Array.isArray(co.v.clientFields)&&co.v.clientFields.length?(new co.PopupOrder).show():b.order():co.alert(co.lang.w(30))})}};co.PopupOrder=function(){function a(){p=0;u.forEach(function(a){p+="function"===typeof a?a():a});y()}function d(){var a=!0;r.forEach2(function(b){function c(){b.inp.addClass("error").one("change input paste",function(){b.inp.removeClass("error")});a=!1}var d=b.inp.val();if(!b.req||void 0!==d&&null!==d&&""!==d){if(b.req&&"checkbox"===b.type&&!b.inp[0].checked)return c(),co.alert(co.lang.w(185)),!0;if("email"===b.type&&d&&!co.validEmail(d))return c(),co.alert(co.lang.w(51)),!0;if(("text"===b.type||
"textarea"===b.type)&&co.hasEmoji(d))return c(),co.alert(co.lang.w(184)),!0;if("promocode"===b.type&&"invalid"===b.state)return c(),co.alert(co.lang.w(201)),!0}else return c(),co.alert(co.lang.w(50)),!0});return a}function g(a){var b=[];r.forEach(function(c){if("checkbox"===c.type)b.push({type:c.type,label:co.lang.trans(c.label.split("***")[0],a),on:+c.inp[0].checked});else if("promocode"===c.type){var d=c.inp.val();null!==d&&""!==d&&b.push({type:c.type,label:co.lang.trans(c.label,a),val:d,state:c.state})}else d=
c.inp.val(),null!==d&&""!==d&&b.push({type:c.type,label:co.lang.trans(c.label,a),val:co.lang.trans(d,a)})});var c=$(".field-quantity input",l),d=1;c.length&&(d=c.spinner("value"),1>d&&(d=1));var f=co.calc.getCurDiscount(d),e="";f&&(e=", "+co.lang.w(0>f?133:134,a)+" "+Math.abs(f));c="";p&&(c=" ("+(1<d?co.lang.w(52,a):co.lang.w(53,a))+" "+co.calc.lastSum*d+e+" "+co.lang.w(110,a)+" "+(0<p?"+":"-")+Math.abs(p)+")");co.v.calc.on&&(f&&l.find(".field-discount")&&b.push({type:"discount",label:co.lang.w(0>
f?133:134,a).capitalize(),val:co.v.calc.curLeft?""+co.v.calc.cur+Math.abs(f):Math.abs(f)+" "+co.v.calc.cur}),d=co.calc.lastSum*d+p+f,d=+d.toFixed(5),b.push({type:"sum",label:co.lang.w(33,a),val:co.v.calc.curLeft?""+co.v.calc.cur+d+c:d+" "+co.v.calc.cur+c}),b.totalSum=d);return b}function e(){var a=co.v.popupOrderFields=[],b=co.v.orderEditMode?"text email dropdown textarea quantity promocode".split(" "):["text","email","dropdown","textarea"];r.forEach(function(c){"checkbox"===c.type?a.push({type:c.type,
label:c.label.split("***")[0],on:+c.inp.is(":checked")}):b.includes(c.type)?a.push({type:c.type,label:c.label,val:c.inp.val()}):a.push({type:"no"})})}function h(){var a=co.chain(co.v.orderEditData,"fields"),b=[];if(!co.ar(a))return b;r.forEach(function(c){var d=a.filter(function(a){return a.type===c.type&&a.label&&a.label.split("***")[0]===c.label.split("***")[0]});(d=d.length?d[0]:void 0)?"checkbox"===c.type?b.push({type:d.type,label:d.label.split("***")[0],on:+d.on}):"text email dropdown textarea quantity promocode".split(" ").includes(c.type)?
b.push({type:d.type,label:d.label,val:d.val}):b.push({type:"no"}):b.push({type:"no"})});return b}function c(){var a=co.v.popupOrderFields;if(!a||!a.length){var b=h();if(b.length)a=co.v.popupOrderFields=b;else return}var c=[];r.forEach(function(b,d){"checkbox"===b.type?(b.inp[0].checked=!!a[d].on,b.inp.change()):"text email dropdown textarea quantity promocode".split(" ").includes(b.type)&&(d=a[d].val,void 0!==d&&b.inp.val(d),"dropdown"===b.type&&b.inp.has("[data-price]")&&c.push(function(){return b.inp.change()}),
"quantity"===b.type&&c.push(function(){return b.inp[0].changeFun()}),"promocode"===b.type&&c.push(function(){return b.inp.trigger("input")}))});c.forEach(function(a){return a()})}co.Popup.call(this,"pop-order pop-over","pop-order-shown pop-over-shown");var b=this,k=co.lang.applyToTemplate($(co.tpls.popOrderContent)),l=k.find(".client-fields"),m=co.v.clientFields,n={},q=l.children().remove(),f=k.find("form"),r=[],t=f.find(".btn.order"),u=[],p=0,x=k.find(".required-descr"),y=$.noop,z=$.noop;b.closeOutside=
!1;var C=b.show;b.show=function(){C.call(b,k);r=[];co.ar(m)&&m.forEach(function(a){return n[a.type](a)});$("[required]",k).length||x.remove();y();z();c();co.v.orderEditMode&&t.removeClass("icon").addClass("save").text(co.lang.w(117));b.pos();co.PopupOrder.current=b;co.order.thumbSender.send()};var A=b.close;b.close=function(){co.PopupOrder.current=null;A.call(b)};n.text=function(a){var b=q.filter(".field-text").clone(),c=b.children("label"),d=b.children("input");co.v.unical++;c.attr("for","inp-"+
co.v.unical);c.text(co.lang.trans(a.label));a.req&&c.addClass("required");d.attr("id","inp-"+co.v.unical);a.req&&d.attr("required","required");d.val(co.lang.trans(a.text));r.push($.extend({inp:d},a));l.append(b)};n.quantity=function(b){function c(){var b=e.spinner("value");1>b&&(b=1);co.v.quantity=b;a();z()}var d=q.filter(".field-quantity").clone(),f=d.children("label"),e=d.children("input");co.v.unical++;f.attr("for","inp-"+co.v.unical);f.text(co.lang.trans(b.label));b.req&&f.addClass("required");
e.attr("id","inp-"+co.v.unical);var g=co.d(b.text)?+b.text:1,h=co.d(b.min)?b.min:1,k=co.d(b.max)&&0!==b.max?b.max:void 0,p=co.d(b.par)?b.par:1;g<h&&(g=h);e.val(g);e.spinner({min:h,max:k,step:p,stop:c});e.blur(function(){var a=+e.val();co.digits(a)||(a=g,e.val(a),c());var b=(a-g)%p;0!==b&&(a-=b,a<h&&(a=h),e.val(a),c());a<h&&(a=h,e.val(a),c());co.d(k)&&a>k&&(a=k,e.val(a),c())});e[0].changeFun=c;f=e.spinner("value");1>f&&(f=1);co.v.quantity=f;r.push($.extend({inp:e},b));l.append(d)};n.email=function(a){var b=
q.filter(".field-email").clone(),c=b.children("label"),d=b.children("input");co.v.unical++;c.attr("for","inp-"+co.v.unical);c.text(co.lang.trans(a.label));a.req&&c.addClass("required");d.attr("id","inp-"+co.v.unical);a.req&&d.attr("required","required");d.val(a.text);r.push($.extend({inp:d},a));l.append(b)};n.dropdown=function(b){var c=q.filter(".field-dropdown").clone(),d=c.children("label"),f=c.children("select"),e=b.text.split("\n");e[0]||(e.length=0);co.v.unical++;d.attr("for","inp-"+co.v.unical);
d.text(co.lang.trans(b.label));f.attr("id","inp-"+co.v.unical);e.forEach(function(a){var b=document.createElement("option"),c=a.split("***"),d=a.split("%%%");1<c.length?(b.dataset.price=c[1].trim(),a=c[0]):1<d.length&&(c=d[1].trim(),"!"===c.charAt(0)?(c=+c.substr(1),b.dataset.noquant="1"):c=+c,c&&!isNaN(c)&&(b.dataset.percent=String(c),a=d[0]));b.value=a;b.innerText=co.lang.trans(a);f.append(b)});f.has("option")&&f.val(f.children().eq(0).val());r.push($.extend({inp:f},b));l.append(c);if(f.has("[data-price]")||
f.has("[data-percent]")){var g=u.push(0)-1;f.change(function(){var b=$(this).children(":selected")[0];if(b){var c=b.dataset.price,d=0;if(c)d=+c,isNaN(d)&&(d=0);else{var f=+b.dataset.percent;f&&!isNaN(f)&&(d=function(){var a=b.dataset.noquant?0:co.calc.getCurDiscount(co.v.quantity);return(co.calc.lastSum*co.v.quantity+a)*f/100})}u[g]=d;a()}}).change()}};n.textarea=function(a){var b=q.filter(".field-textarea").clone(),c=b.children("label"),d=b.children("textarea");co.v.unical++;c.attr("for","inp-"+
co.v.unical);c.text(co.lang.trans(a.label));a.req&&c.addClass("required");d.attr("id","inp-"+co.v.unical);a.req&&d.attr("required","required");d.val(co.lang.trans(a.text));r.push($.extend({inp:d},a));l.append(b)};n.caption=function(a){var b=q.filter(".capt").clone();b.html(co.lang.trans(a.label));a.minor&&b.addClass("minor");l.append(b)};n.paragraph=function(a){var b=q.filter("p").clone();b.html(co.lang.trans(a.text).replace(/\n/g,"<br>"));l.append(b)};n.price=function(a){var b=q.filter(".field-price").clone(),
c=b.children("label"),d=b.children("div");c.text(co.lang.trans(a.label));y=function(){if(co.v.calc.on){var a=+(co.calc.lastSum*co.v.quantity+p+co.calc.getCurDiscount(co.v.quantity)).toFixed(2);d.html(co.v.calc.curLeft?"<i>"+co.v.calc.cur+"</i>"+a:a+" <i>"+co.v.calc.cur+"</i>")}else d.text(co.lang.w(49))};l.append(b)};n.discount=function(a){var b=q.filter(".field-discount").clone(),c=b.children("label"),d=b.children("div");c.text(co.lang.trans(a.label));z=function(){if(co.v.calc.on){var c=co.calc.getCurDiscount(co.v.quantity);
d.html(co.v.calc.curLeft?"<i>"+co.v.calc.cur+"</i>"+-c:-c+" <i>"+co.v.calc.cur+"</i>");a.hidezero&&b.toggle(!!c)}else d.text(0)};l.append(b)};n.checkbox=function(b){var c=q.filter(".field-checkbox").clone(),d=c.find("label span"),f=c.find("input"),e=b.label.split("***"),g=b.label.split("%%%");d.text(b.label);f[0].checked=!!b.on;r.push($.extend({inp:f},b));if(1<e.length){d.text(co.lang.trans(e[0]));var h=u.push(0)-1;var k=+e[1];f.change(function(){u[h]=f[0].checked?k:0;a()}).change()}else if(1<g.length){d.text(co.lang.trans(g[0]));
h=u.push(0)-1;var p=g[1].trim(),m=!1;"!"===p.charAt(0)?(p=+p.substr(1),m=!0):p=+p;f.change(function(){p&&!isNaN(p)&&(k=function(){var a=m?0:co.calc.getCurDiscount(co.v.quantity);return(co.calc.lastSum*co.v.quantity+a)*p/100});u[h]=f[0].checked?k:0;a()}).change()}l.append(c)};n.promocode=function(b){function c(){k.attr("data-state","error").html(co.lang.w(200));f(0);n.state="invalid"}function d(a){k.attr("data-state","success").html(a)}function f(b){u[p]=b;a()}var e=q.filter(".field-promocode").clone(),
g=e.children("label"),h=e.children("input"),k=e.children(".state"),p=u.push(0)-1,m;co.v.unical++;g.attr("for","inp-"+co.v.unical);g.text(co.lang.trans(b.label));h.attr("id","inp-"+co.v.unical);var n=$.extend({inp:h,state:"empty"},b);r.push(n);h.on("input",function(){clearTimeout(m);k.attr("data-state","default").html("");f(0);n.state="empty";var a=h.val().trim();a&&(m=setTimeout(function(){k.attr("data-state","waiting").html(co.lang.w(199));f(0);n.state="empty";co.ajax({post:"promocode/check",data:{adminID:co.v.adminID,
prods:JSON.stringify([co.v.curColor.unical,co.v.curModel.unical,co.v.curBase.unical]),code:a},success:function(a){if(!(a&&co.d(a.discount)&&co.d(a.val)&&co.d(a.percent)))return c();var b=a.discount?co.lang.w(134):co.lang.w(133);if(a.percent){var e=function(){return co.calc.lastSum*co.v.quantity*(a.discount?a.val:-a.val)/100};b=b+" "+a.val+" %"}else e=a.discount?a.val:-a.val,b=co.v.calc.curLeft?b+" "+co.v.calc.cur+a.val:b+" "+a.val+" "+co.v.calc.cur;f(e);d(b);n.state="accepted"},error:function(){c()}})},
1E3))});l.append(e)};f.ajaxForm({beforeSubmit:function(){function a(){var a=[co.lang.w(32)];co.order.save({fast:!0,fields:g(!0),fieldsUserlang:g(),order:!0,fonts:co.order.getFontsFiles(),timeout:6E4,success:function(a){e();b.close();co.order.success(a);co.order.thumbSender.error&&setTimeout(function(){co.alert(co.lang.w(181))},300)},error:function(){co.alert(a[0])},complete:function(){co.nowait()}})}co.wait(!1,co.lang.w(31));if(!d())return co.nowait(),!1;if(co.order.thumbSender.inprogress)$(co.order.thumbSender).one("send-thumb-complete",
a);else a();return!1}})};co.extend(co.PopupOrder,co.Popup);co.PopupOrder.current=null;co.PopupOrderAgain=function(){co.Popup.call(this,"pop-order-again pop-over","pop-order-again-shown pop-over-shown");var a=this,d=co.lang.applyToTemplate($(co.tpls.popOrderAgainContent)),g=d.find(".btn-use-current"),e=d.find(".btn-make-new"),h=a.show;a.closeOutside=!1;a.show=function(){h.call(a,d);a.pos()};g.click(function(){co.order.reset();a.close()});e.click(function(){co.order.reset();co.svg.clear();co.wait();co.trans.hide();$(co.svg.reinit()).one("sidesBuilt",function(){co.mobile?(co.mobileBottomTopPanel.stateDefault(),
co.mobileSides.update()):co.sidebar.stateDefault();co.nowait();$(co).trigger("showComplete")});a.close()})};co.extend(co.PopupOrder,co.Popup);co.Nav=function(){function a(a){co.popups.close();var b=y.pop,c=co.v.curBase.ages;co.ar(c)&&(b.empty(),c.forEach(function(a,c){a=$('<li data-translate="'+co.lang.transID(a)+'">'+co.lang.trans(a)+"</li>");c===co.v.age&&a.activate();b.append(a)}),b.css({top:a}),b.click(function(a){a=$(a.target);a.is("li")&&(co.selRegul.selAge(a.index()),y.close())}),y.show(),a=co.nav.box.width(),c=b.width(),a+c>co.winWidth&&(a=co.winWidth-c),b.css({left:a}))}function d(a,b){return parseFloat(a.css(b))}var g=this;co.nav=
g;g.box=co.box.find("nav");g.ul=g.box.find("ul");var e=g.ul.children();g.$btns=g.box.find(".btn");g.$btnsNotSex=g.$btns.not(".man,.woman");g.$btnsSex=g.$btns.filter(".man,.woman");g.btnsSexWrap=g.box.find(".btns-sex");var h=$(".btn-nav-close"),c=g.box.find(".btn-nav-close-top"),b=g.box.find(".capt-select"),k=g.box.find(".capt-add"),l=g.box.find("li.sum"),m=l.children("span"),n=l.children("i"),q="base man woman age model size color method format image text figure order save".split(" ");g.btns={};q.forEach(function(a){g.btns[a]=
g.$btns.filter("."+a)});g.btns.save.detach();g.btnSaveShow=function(){g.ul.append(g.btns.save)};if(co.d(co.v.face.nav)){var f=function(a,b){r[a]&&co.d(r[a].on)&&!r[a].on&&(b.remove(),"sel"===a&&g.box.addClass("no-capt-sel"),"sum"===a&&u&&g.box.find("li.sep").remove())},r=co.v.face.nav,t=!1,u=!1;q.forEach(function(a){if(r[a]&&co.d(r[a].on)&&!r[a].on){g.btns[a].remove();if("man"===a||"woman"===a)t=!0;"order"===a&&(u=!0)}});t&&g.btnsSexWrap.remove();f("sel",b);f("add",k);f("sum",l);var p=function(a,
b,c){b+="";c||b.length||(b="&nbsp;");a.txt(b)};q.forEach(function(a){co.d(r[a])&&co.d(r[a].text)&&p(g.btns[a],r[a].text)});r.sel&&co.d(r.sel.text)&&p(b,r.sel.text);r.add&&co.d(r.add.text)&&p(k,r.add.text);r.sum&&co.d(r.sum.text)&&p(m,r.sum.text,!0);var x="";q.forEach(function(a){if(r[a]&&r[a].icon){var b=co.v.domain+"nav-icons/"+co.v.adminID+"/"+a+".png#"+Date.now();x+="nav .btn."+a+'::before{ background-position: center center !important; background-image: url("'+b+'") !important; background-size: 80% !important; } ';
$("<img>").load(function(){this.height>this.width&&g.box.prepend("<style>nav .btn."+a+"::before{ background-size: auto 80% !important; } </style>")}).attr("src",b)}});co.d(co.v.face.navWidth)&&(g.box.css("width",co.v.face.navWidth+"px"),x+="@media screen and (max-width: 549px){ body.nav-closed nav{ -webkit-transform: translateX(-"+co.v.face.navWidth+"px); transform: translateX(-"+co.v.face.navWidth+"px); } } ");x.length&&co.body.prepend("<style>"+x+"</style>")}-1<[109].indexOf(+co.adminID)&&g.btns.order.html("<br>  ").addClass("multiline");
g.box.click(function(b){var c=$(b.target).closest("li.btn");b=c.offset();c.length&&(c.hasClass("text")?co.AddText.add():c.hasClass("age")?a(b.top):c.hasClass("order")?co.order.popOrder():c.hasClass("save")?co.v.composMode?co.compos.sendToCabinet():co.v.orderEditMode&&co.order.popOrder():q.forEach(function(a,b){if(c.hasClass(a))return["image","figure"].includes(a)&&!co.v.sideEditable?void 0:co.popups.show(a+"s",[{btn:c}]);b===q.length&&co.popups.close()}),co.body.removeClass("nav-opened-select nav-opened-add"))});
g.$btnsNotSex.on("touchstart mousedown",function(){$(this).activate();co.win.one("touchend mouseup",function(){g.$btnsNotSex.deactivate()})});g.$btnsSex.deactivate();g.$btnsSex.eq(co.v.sex).activate();g.$btnsSex.click(function(){var a=$(this);co.popups.close();g.$btnsSex.deactivate();a.activate();co.selRegul.selSex(a.index())});var y=new co.PopupBlock('<ul class="dropdown drop-ages"></ul>',g.btns.age,"drop-ages-shown");co.body.append(y.pop);g.updateBtnBase=function(){g.btns.base.toggle(1<co.v.bases.length);
g.updateHeight()};g.updateBtnSex=function(){g.btnsSexWrap.toggle(!!co.v.curBase.params.sex);co.nav.$btnsSex.deactivate();g.$btnsSex.eq(co.v.sex).activate();g.updateHeight()};g.updateBtnAge=function(){g.btns.age.toggle(!!co.v.curBase.params.age&&1<co.v.curBase.ages.length);g.updateHeight()};g.updateBtnModel=function(){g.btns.model.toggle(1<co.v.curBase.models.length&&1<co.selRegul.modelsMatchedSexAge().length);g.updateHeight()};g.updateBtnColor=function(){g.btns.color.toggle(1<co.v.curModel.colors.length||
co.selRegul.colorizLayersExist());g.updateHeight()};g.updateBtnSize=function(){var a=co.v.curBase,b=!1,c=a.sizes,d=co.v.sex,f=co.v.age;a.params.sizes&&co.d(c)&&co.d(c[d])&&co.d(c[d][f])&&Array.isArray(c[d][f].cols)&&1<c[d][f].cols.length&&(b=!0);g.btns.size.toggle(b);g.updateHeight()};g.updateModelsMatchSexage=function(){co.nav.box.toggleClass("no-models-match-sexage",!co.selRegul.modelsMatchedSexAge().length)};g.updateBtnMethod=function(){g.btns.method.toggle(1<co.selRegul.modelMethods().length);
g.updateHeight()};g.updateBtnFormat=function(){var a=co.chain(co.v.curColor.formats,co.v.side);g.btns.format.toggle(a&&1<a.length);g.updateHeight()};g.sum={show:function(){l.show();return this},hide:function(){l.hide();return this},val:function(a){co.d(a)&&n.html(co.v.calc.curLeft?co.v.calc.cur+"<i>"+a+"</i>":"<i>"+a+"</i> "+co.v.calc.cur);return this}};g.updateLabels=function(){b.toggleClass("api-hidden",!g.$btns.filter(".base,.age,.model,.color,.size,.method").add(g.btnsSexWrap).filter(":visible").length);
g.updateHeight()};g.close=function(){co.mobile&&co.body.addClass("nav-closed")};h.click(function(a){a.stopPropagation();co.popups.close();co.body.addClass("nav-closed")});c.click(function(a){a.stopPropagation();co.popups.close();co.body.toggleClass("nav-closed")});g.updateHeight=function(){function a(){function a(){var a=0;q.forEach(function(b){return a+=b});return a}function n(){var b=a();b&&b+w>f?(0<q[A]&&--q[A],A++,A>q.length-1&&(A=0),n()):B()}function B(){h&&b.css({paddingTop:q[0]+"px",lineHeight:q[2]+
"px"});p&&k.css({marginTop:q[1]+"px",lineHeight:q[3]+"px"});e.length&&t.css({paddingTop:q[4]+"px",paddingBottom:q[5]+"px"});m.length&&m.css({marginTop:q[6]+"px",marginBottom:q[7]+"px"});u&&l.css({marginBottom:q[8]+"px"});q.splice(0,9);for(var a=Math.floor(q.length/2),d=0;d<a;d++)c.eq(d).css({paddingTop:q[d]+"px"});q.splice(0,a);for(a=0;a<q.length;a++)c.eq(a).css({paddingBottom:q[a]+"px"})}var z=d(c.eq(0),"paddingTop"),C=d(c.eq(0),"paddingBottom"),J=e.length?d(e,"paddingTop"):0,y=e.length?d(e,"paddingBottom"):
0,q=[h?d(b,"paddingTop"):0,p?d(k,"marginTop"):0,h?d(b,"lineHeight"):0,p?d(k,"lineHeight"):0,J,y,m.length?d(m,"marginTop"):0,m.length?d(m,"marginBottom"):0,u?d(l,"marginBottom"):0];c.each(function(){q.push(z,C)});var A=0,w=g.box.height()-a();w>f?(q.forEach(function(a,b){return q[b]=0}),B()):n()}var c=g.$btns.add(g.ul.children(".detail")).filter(":visible"),f=co.win.height()-co.v.blockOverHeight-co.v.blockUnderHeight-(co.mobile?60:0),e=c.filter(".man"),h=b.is(":visible"),p=k.is(":visible"),m=$("li.sep:visible",
g.box),u=l.is(":visible");if(e.length){var n=c.filter(".woman");var t=e.add(n).css({paddingTop:"",paddingBottom:""});c=c.not(t)}h&&b.css({paddingTop:"",lineHeight:""});p&&k.css({marginTop:"",lineHeight:""});m.length&&m.css({marginTop:"",marginBottom:""});u&&l.css({marginBottom:""});c.css({paddingTop:"",paddingBottom:""});g.box.height()>f&&a()};g.updateHeight();co.win.on("resizeEnd",function(){y.close();g.updateHeight()});g.updateAddAbility=function(){g.$btns.filter(".image,.text,.figure").toggleClass("dis",
!co.v.sideEditable);var a=co.addsFeature("image","on"),b=co.addsFeature("text","on"),c=co.addsFeature("figure","on");g.btns.image.toggle(a);g.btns.text.toggle(b);g.btns.figure.toggle(c);k.toggle(a||b||c)};g.updateOrderAbility=function(){g.btns.order.toggleClass("dis",co.v.absent)};g.updateDetailsBtns=function(){g.ul.children(".detail").remove();co.details.listForNav.forEach(function(a){if(!a.detail.off){var b=a.detail.menu;if(b&&b.on){var c=co.details.navInsertAfter,d=b.btnText||a.detail.title,f=
$('<li class="btn icon detail btn-detail-'+a.detail.unical+'"><span class="btn-detail-icon"></span><span class="btn-detail-text"></span></li>'),h=f.find(".btn-detail-icon");f.find(".btn-detail-text").txt(d);b.icon&&h.css({backgroundImage:"url('"+co.v.domain+"detail-imgs/"+co.v.adminID+"/"+b.icon+"')"});b=g.btns[c];if(g.ul[0].contains(b[0]))b.after(f);else{var k=[];e.each(function(){var a=$(this);if(a.hasClass(c))return!1;k.unshift(a)});(b=k.forEach2(function(a){if(g.ul[0].contains(a[0]))return a}))?
b.after(f):g.ul.prepend(f)}f.click(function(){var b=co.popups.shown.details;if(b){var c=b.param;c.btn&&c.btn[0]!==f[0]&&b.close()}co.popups.show("details",[{detail:a,btn:f,shownFromMenu:!0}])});f.hover(function(){co.details.highlightDetail(a.image)},function(){co.details.dehighlightDetail(a.image)})}}});g.updateHeight()};g.updateImgsCatsBtns=function(){if(co.addsFeature("image","on")){g.ul.children(".imgs-cat").remove();var a;co.v.images.cats.forEach(function(b){if(b.menu.on){var c=b.menu.prods;if(c.length&&
("all"===c[0]||c.includes(co.v.curBase.unical)||c.includes(co.v.curModel.unical)||c.includes(co.v.curColor.unical)||c.includes(co.v.curSideData.unical))){c=b.menu.btnText||b.title;var d=$('<li class="btn icon imgs-cat btn-imgs-cat-'+b.unical+'"><span class="btn-imgs-cat-icon"></span><span class="btn-imgs-cat-text"></span></li>'),f=d.find(".btn-imgs-cat-icon");d.find(".btn-imgs-cat-text").txt(c);b.menu.icon&&f.css({backgroundImage:"url('"+co.v.domain+"nav-img-cat-icons/"+co.v.adminID+"/"+b.menu.icon+
"')"});co.v.sideEditable||d.addClass("dis");if(a)a.after(d);else if(c=g.btns.image,g.ul[0].contains(c[0]))c.after(d);else{var h=[];e.each(function(){var a=$(this);if(a.hasClass("image"))return!1;h.unshift(a)});(c=h.forEach2(function(a){if(g.ul[0].contains(a[0]))return a}))?c.after(d):g.ul.prepend(d)}a=d;d.click(function(){var a=co.popups.shown.images;if(a){var c=a.param;c.btn&&c.btn[0]===d[0]||a.close()}co.popups.show("images",[{cat:b,btn:d}])})}}})}};g.openFast=function(){co.mobile&&(co.nav.box.css("transition",
"none"),co.body.removeClass("nav-closed"),co.fakevar=co.nav.box[0].offsetWidth,co.nav.box.css("transition",""))}};co.Ribbon=function(){function a(){b.css("top",co.v.blockOverHeight?co.v.blockOverHeight+"px":"")}function d(){return co.winWidth-co.nav.box.outerWidth()-co.sidebar.box.outerWidth()<k.outerWidth()}function g(){co.mobile?b.hide():(b.show().removeClass("small").removeClass("no-capt").css({left:co.nav.box.outerWidth(),right:co.sidebar.box.outerWidth()}),d()&&(b.addClass("small"),d()&&(b.addClass("no-capt"),d()&&b.hide())));var a=co.v.ribbonHeight,e=0;b.is(":visible")&&(e=b.outerHeight());a!==e&&(co.v.ribbonHeight=
e,$(c).trigger("height-changed"))}function e(){co.details&&(k.children(".detail").remove(),co.details.list.forEach(function(a){if(!a.detail.off){var b=a.detail.ribbon;if(b&&b.on){b=(b.capt?b.capt+": ":"")+(a.variant.title||"");var c=$('<div class="detail detail-'+a.detail.unical+'"></div>'),d=m[co.details.ribbonInsertAfter];c.txt(b||a.detail.title);d.after(c);c.click(function(){var b=co.popups.shown.details;b&&b.param.detail.detail.unical!==a.detail.unical&&b.close();b=co.nav.ul.children(".btn-detail-"+
a.detail.unical);co.popups.show("details",[{detail:a,btn:b.length?b:void 0}])})}}}),g())}function h(){a();g()}co.ribbon=this;var c=this,b=co.box.find(".ribbon");c.hidden=co.d(co.v.face)&&!!co.v.face.hideRibbon;if(c.hidden)b.remove(),c.update=$.noop,co.v.ribbonHeight=0;else{var k=b.find(".in"),l=k.find("span"),m={base:b.find(".base"),sex:b.find(".sex"),age:b.find(".age"),model:b.find(".model"),color:b.find(".color"),size:b.find(".size"),method:b.find(".method"),format:b.find(".format")};$(co).one("showComplete",
function(){b.css("visibility","visible")});c.update=function(){if(co.v.bases.length){var b=function(a){return co.lang.trans(a)};co.d(co.v.face)&&co.d(co.v.face.ribbonTitle)?""===co.v.face.ribbonTitle?l.remove():l.txt(co.v.face.ribbonTitle):l.html(co.lang.w(113)+":");var c=co.v.curBase;1<co.v.bases.length?m.base.show().html(b(c.title)):m.base.hide();c.params.sex?m.sex.show().html([co.lang.w(67),co.lang.w(68)][co.v.sex]):m.sex.hide();c.params.age&&1<c.ages.length?m.age.show().html(b(c.ages[co.v.age])):
m.age.hide();1<co.selRegul.modelsMatchedSexAge().length?m.model.show().html(b(c.models[co.v.model].title)):m.model.hide();1<c.models[co.v.model].colors.length?m.color.show().html(b(c.models[co.v.model].colors[co.v.color].title)):m.color.hide();c=co.selRegul.sizesArray();1<c.length?(c=c[co.v.size])?m.size.show().html(b(c[0])):m.size.hide():m.size.hide();c=co.selRegul.modelMethods();co.d(co.v.method)&&1<c.length?(c=co.arrayObject(c,"id",co.v.method))?m.method.show().html(b(c.title)):m.method.hide():
m.method.hide();(c=co.chain(co.v.curColor.formats,co.v.side))&&1<c.length?(c=co.formats.curSelection().prog,m.format.show().html(b(c.title))):m.format.hide();e();a();g()}};c.update();["base","model","color","size","method"].forEach(function(a){m[a].click(function(){co.nav.btns[a].click()})});m.sex.click(function(){co.selRegul.selSex(co.v.sex?0:1)});m.age.click(function(){setTimeout(function(){return co.nav.btns.age.click()},10)});m.format.click(function(){setTimeout(function(){return co.nav.btns.format.click()},
10)});g();c.updateDetailsItems=e;co.win.resize(function(){h();var a=setInterval(h,100);setTimeout(function(){return clearInterval(a)},1E3)})}};co.MobileSides=function(){function a(a){var b=$('<div class="item"></div>');a===co.v.side&&b.activate();var c=co.svg.box.find(".side:eq("+a+") .layer-base"),d=+c.attr("width"),e=+c.attr("height");if(d&&e){c=co.svg.box.clone();c.find(".area-frame").remove();co.sidesReplaceIDs(c,a);var f=c.find(".side"),h=f.eq(a),k=co.rectContain(44,44,d,e);d=(44-d*k)/2/k+2/k;e=(44-e*k)/2/k+2/k;f.attr("visibility","hidden");h.attr({width:44,height:44,transform:"scale("+k+") translate("+d+","+e+")",visibility:"visible"});
c.attr({width:44,height:44});b.append(c);b.click(function(){return g.selSide(a)});return b}}function d(){var a=h[0].scrollWidth,c=h.width();if(a>c){b.css("width",c/a*100+"%");var d=function(){return b.css("transform","translateX("+h[0].scrollLeft/a*(c-6)+"px)")};d();h[0].removeEventListener("scroll",d);h[0].addEventListener("scroll",d,{passive:!0});e.addClass("with-scroll")}else e.removeClass("with-scroll")}var g=this;co.mobileSides=g;var e=$(".mobile-sides"),h=e.find(".overflow"),c=e.find(".items"),
b=e.find(".scroll-line").find(".handle");co.win.resize(function(){g.update()});g.clear=function(){c.empty();e.removeClass("with-scroll");co.v.mobileSidesHeight=0};g.update=function(b){if(co.mobile)if(Array.isArray(b))co.mobile&&!c.children().length?g.update():b.forEach(function(b){var d=a(b);c.children().eq(b).after(d).remove()});else if(b)if(co.mobile&&!c.children().length)g.update();else{b=co.v.side;var h=a(b);c.children().eq(b).after(h).remove()}else c.empty(),b=co.v.curModel.sides,h=2>b.length,
e.toggleClass("no-sides",h),h?(b=co.v.mobileSidesHeight,co.v.mobileSidesHeight=0,d(),0!==b&&$(g).trigger("height-changed")):(b.forEach(function(b,d){b=a(d);c.append(b)}),b=co.v.mobileSidesHeight,co.v.mobileSidesHeight=e.outerHeight(),d(),b!==co.v.mobileSidesHeight&&$(g).trigger("height-changed"));else b=co.v.mobileSidesHeight,g.clear(),0!==b&&$(g).trigger("height-changed")};g.selSide=function(a,b){function d(){e++;2===e&&co.f(b)}if(co.v.side===a)return co.f(b);if(a>=co.svg.dummies().length)throw Error("wrong side ID");
var e=0;$(co).one("selSideComplete",d);co.selRegul.selSide(a);c.children().deactivate().eq(a).activate();d()}};co.Lang=function(a){function d(a){function c(b){if("number"===typeof a[b]&&a[b]in e.langs)e[b]=a[b];else if("object"===typeof a[b])e[b]=e.langs.indexOf(a[b]);else if(a[b]&&"string"===typeof a[b]){var c=co.arrayObjectID(e.langs,"code",a[b]);-1<c&&(e[b]=c)}}c("userlang");c("adminlang");e.userlangObj=e.langs[e.userlang];e.adminlangObj=e.langs[e.adminlang]}function g(a){a=+a;var c=e.userlangObj.customWords[a];return c?c:(c=e.defaultRus().customWords[a])?c:""}var e=this;co.lang=e;e.langs=co.v.lang.langs;
e.userlang=0;e.adminlang=0;e.userlangObj=void 0;e.adminlangObj=void 0;d(a);e.translatesLangs=[];e.langs.forEach(function(a){a.on&&e.translatesLangs.push(a)});e.defaultRus=function(){for(var a=0;a<e.langs.length;a++)if(e.langs[a].deflt&&"rus"===e.langs[a].code)return e.langs[a]};e.w=function(a,c,b){var d={underscore:!1};$.extend(d,b);c=c?e.adminlangObj:e.userlangObj;a=c.deflt?co.v.langsData.words[c.code][a]:c.solidWords[a]||co.v.langsData.words.rus[a];d.underscore&&(a=a.replace(/ /gmi,"_"));return a};
e.applyToTemplate=function(a,c){$("[data-lang]",a).each(function(){var a=$(this),d=e.w(a.attr("data-lang"),c)+(a.attr("data-lang-after")||"");a.text(d)});$("[data-lang-title]",a).each(function(){var a=$(this),d=e.w(a.attr("data-lang-title"),c);a.attr("title",d)});$("[data-lang-id]",a).each(function(){var a=$(this),d=e.w(a.attr("data-lang-id"),c);a.attr("id",d)});$("[data-lang-placeholder]",a).each(function(){var a=$(this),d=e.w(a.attr("data-lang-placeholder"),c);a.attr("placeholder",d)});a||(document.title=
e.w(109,c));$("[data-translate]",a).each(function(){var a=$(this),c=a.attr("data-translate");-1<c&&a.html(g(c))});!a&&co.ribbon&&co.ribbon.update();return a};e.applyToTemplate();e.setLangs=function(a){co.d(co.popups)&&co.f(co.popups.close);d(a);e.applyToTemplate();co.sidebar&&co.sidebar.updateLangs()};e.trans=function(a,c){if(!a)return"";var b=c?e.adminlangObj:e.userlangObj,d=e.transID(a);if(-1<d&&b.customWords[d])return b.customWords[d];c=e.search(a,c);if(-1<c){if(b.deflt)return co.v.langsData.words[b.code][c];
if(b.solidWords[c])return b.solidWords[c]}return a};e.transID=function(a){if(!a)return-1;var c=e.userlangObj,b=e.defaultRus(),d=c.customWords.indexOf(a);0>d&&c!==b&&(d=b.customWords.indexOf(a));return d};e.search=function(a,c){c=c?e.adminlangObj:e.userlangObj;var b=[c],d=e.defaultRus();c!==d&&b.push(d);var g=-1;b.forEach2(function(b){b=b.deflt?co.v.langsData.words[b.code]:b.solidWords;for(var c in b)if(b.hasOwnProperty(c)&&b[c]===a)return g=c,!0});return g};jQuery.fn.lang=function(a){var c=e.transID(a);
-1<c&&this.attr("data-translate",c);this.html(e.trans(a));return this};jQuery.fn.txt=function(a){function c(a,c){var f=e.search(a);if(-1<f)return a=f,d.removeAttr("data-translate"),d.attr("data-lang",a),c||d.removeAttr("data-lang-after"),d.html(e.w(a)+(c?h:"")),!0;f=e.transID(a);if(-1<f)return a=f,d.removeAttr("data-lang"),d.attr("data-translate",a),c||d.removeAttr("data-lang-after"),d.html(g(a)+(c?h:"")),!0;b();return!1}function b(){d.removeAttr("data-lang");d.removeAttr("data-translate");d.removeAttr("data-lang-after");
d.html(a)}var d=this;if(!a||!a.trim()||"&nbsp;"===a.trim())return b(),d;var h=d.attr("data-lang-after")||"",m=a.indexOf(h);h&&-1<m&&m===a.length-h.length?(m=a.substr(0,a.length-h.length),c(m,!0)||c(a)):c(a);return d}};co.Svg=function(){function a(){C=r.width();A=r.height();co.mobile&&(A-=100);var a=co.v.face.textOver,b=0;co.d(a)&&a.trim().length&&(b=co.box.children(".text-over-block").outerHeight());a=co.v.face.textUnder;co.d(a)&&a.trim().length&&(a=co.box.children(".text-under-block").outerHeight(),A-=a,co.svgwrap.css("padding-bottom",a+"px"));(b+=co.v.ribbonHeight+co.v.mobileSidesHeight)?(A-=b,co.svgwrap.css("padding-top",b+"px")):co.svgwrap.css("padding-top","");0>C&&(C=0);0>A&&(A=0);t.attr({width:C,height:A})}
function d(){function a(){t++;t>=d.sides.length?$(f).trigger("sidesBuilt"):(h(t),c(),$(f).one("sideready",function(){g(t);a()}))}var d=co.v.curModel,m=co.v.side;if(f.dummiesRefind().length){var n=[];p.each(function(a){var b=$(this),c=b.find(".layer-base"),d=c.attr("width");c=c.attr("height");b=$("g.adds",b).detach();n[a]={adds:b,width:d,height:c}});w.unshift(n);p.remove()}b();d.sides.forEach(function(a,b){var c=$(l("g"));c.prop("sideIndex",b);c.attr({"class":"side",id:a.replace(/ /g,"_")+"___"+co.v.unical++});
e(d.colors[co.v.color].layers[b].reverse()).forEach(function(a,d){if("compos"===a.type){if(w.length&&co.d(w[w.length-1][b])){var e=w[w.length-1][b].adds;e.removeAttr("clip-path")}e&&e.length||(e=$(l("g")),e.attr({"class":"adds",id:co.lang.w(56,!0,{underscore:1})+"___"+co.v.unical++}));c.append(e)}else if("detail"===a.type){e=$(l("image"));var g=co.getDetailVariantInfo(a.variant);g=(g=g?g.variant.title:"")?g.replace(/ /g,"_")+"___"+co.v.unical++:co.lang.w(192,!0,{underscore:1})+"___"+co.v.unical++;
e.attr({x:0,y:0,width:0,height:0,"class":"layer layer-detail layer"+d+" detail-variant-"+a.variant,id:g});co.d(a.variant)&&(e[0].detailVariant=a.variant);c.append(e)}else{e=$(l("image"));g=co.lang.w(57,!0,{underscore:1})+"___"+co.v.unical++;var h="";"custom"===a.type&&(g=a.title.replace(/ /g,"_")+"___"+co.v.unical++,a.dontPass&&(h=" layer-dont-pass"));e.attr({x:0,y:0,width:0,height:0,"class":"layer layer"+d+" layer-"+a.type+h,id:g});e.mousedown(function(a){a.preventDefault()});c.append(e);a.tone&&
"#ffffff"!==a.tone&&(d=$(co.svg.elem("feColorMatrix")).attr({"in":"SourceGraphic",type:"matrix","color-interpolation-filters":"sRGB"}),g=co.lang.w(13,1)+"_"+co.v.unical++,$(co.svg.elem("filter")).attr("id",g).append(d).appendTo(f.box),e.attr("filter","url(#"+g+")"),e[0].matrix=d[0],f.addClass(e,"layer-coloriz"),d[0].setAttribute("values",co.makeToneMatrix(a.tone)))}});u.append(c)});f.dummiesRefind();var t=-1;a();$(f).one("sidesBuilt",function(){h(m);f.fit();if(w.length){var a=w[w.length-1];if(co.d(a[m])){var b=
a[m];f.adds.each(function(){var a=$(this),c=F/b.width,d=f.elemScale(a);f.elemScale(a,d.x*c,d.y*c)})}}w.pop();k();f.layersColor.restore();$(f).trigger("svgComplete")})}function g(a){var b=co.v.curColor,c=co.gt(b.selectedFormats,a+".prog.area");if(c&&c.on){var d=co.baseLayer(b.layers[a]).real,e=$(f.elem("defs")),g=$(f.elem("clipPath")),h=$(f.elem("rect"));b=u.children("g").eq(a);var p=b.find(".layer-base"),k=+p.attr("width")/d[0];d=+p.attr("height")/d[1];p=b.find("g.adds");g.attr("id","area"+a);h.attr({x:c.x*
k,y:c.y*d,width:c.w*k,height:c.h*d});c.circle&&h.attr("rx","1000000px");g.append(h);e.append(g);b.append(e);p.attr("clip-path","url(#area"+a+")");c.visible&&(a=$(f.elem("rect")),a.attr({class:"area-frame",x:c.x*k,y:c.y*d,width:c.w*k,height:c.h*d}),c.circle&&a.attr("rx","1000000px"),c.visibleColor&&a.css({stroke:c.visibleColor,opacity:1,"mix-blend-mode":"normal"}),b.append(a))}}function e(a){return a.filter(function(a){return a.off||"detail"===a.type&&(a=co.getDetailVariantInfo(a.variant))&&a.detail.off?
!1:!0})}function h(a){D=a;p.not(p[a]).attr("visibility","hidden");p.eq(a).attr("visibility","visible");x=p.eq(a);y=x.children(".layer-base");F=+y.attr("width");v=+y.attr("height");z=x.find("g.adds");f.addsBox=z;f.addsRefind();return f}function c(){function a(){if(p.length){var e=p[0];["base","custom"].includes(e.type)?b($("image.layer"+e.id,x),co.d(e.img)?co.v.domain+"layer-imgs/"+co.v.adminID+"/"+e.img+"."+e.ext:k):"detail"===e.type&&e.variant&&c(e.variant);p.shift();$(f).one("layerready",a)}else d()}
function b(a,b){function c(b,c,d,e){a.attr({width:b,height:c});f.setImageSrc(a,d);$(f).trigger("layerready");co.details.cachePixels(a[0],e,b,c)}co.imgRealSizes(b,c,function(){co.alert(co.lang.w(58));co.imgRealSizes(u,c,function(){co.alert(co.lang.w(59))})})}function c(a){co.details.showVariant({dummyBuilding:!0,sideIndex:D,curVariantUnical:a,newVariantUnical:a,dontWait:!0,callback:function(){$(f).trigger("layerready")}})}function d(){$(f).trigger("sideready")}var g=e(co.v.curColor.layers[D].reverse()),
h=co.baseLayer(g),p=[],k=co.v.domain+"img/layer-empty.png",u=co.v.domain+"img/transparent.png";g.forEach(function(a,b){["base","custom"].includes(a.type)&&co.d(a.img)?(a.id=g.length-1-b,p.push(a)):"detail"===a.type&&co.d(a.variant)&&(a.id=g.length-1-b,p.push(a))});p.length?a():(b($("image.layer-base",x),co.d(h.img)?co.v.domain+"layer-imgs/"+co.v.adminID+"/"+h.img+"."+h.ext:k),$(f).one("layerready",d),d())}function b(){co.v.curColor.layers.forEach(function(a){e(co.clon(a).reverse()).forEach(function(a){co.d(a.img)&&
(document.createElement("img").src=co.v.domain+"layer-imgs/"+co.v.adminID+"/"+a.img+"."+a.ext);"detail"===a.type&&co.d(a.variant)&&(a=co.getDetailVariantImgSrc(a.variant))&&(document.createElement("img").src=a)})})}function k(){f.scale(B)}function l(a){return document.createElementNS("http://www.w3.org/2000/svg",a)}function m(a){a.find(".detail-ants").remove();a.find(".hidden-detail").remove();a.find(".transparent-detail").remove();a.find(".layer-dont-pass").remove();a.find(".area-frame").remove();
co.lang.applyToTemplate($("<div/>").append(a),!0)}function n(a,b){f.box.find("g.image.coloriz-filter").each(function(){var c=$(this),d=this.addInstance;c=c.attr("class");var e=a.find("g."+c.replace(/ /g,"."));c=d.coloriz.matrix.replace(/ /g,"_");e=e.find("image");e[0].setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",d.src+"#matrix="+c);b||(d=a.find("#"+$(d.colorMatrix).parent().attr("id")),d.length&&d.remove(),e.parent().removeAttr("filter"))});var c=a.find("image.layer-coloriz");c.length&&
f.box.find("image.layer-coloriz").each(function(d){var e=$(this);d=c.eq(d);e=e.prop("matrix");var g=e.getAttribute("values").split(" ");g=g[0]+"_"+g[1]+"_"+g[2]+"_"+g[5]+"_"+g[6]+"_"+g[7]+"_"+g[10]+"_"+g[11]+"_"+g[12];d[0].setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",f.getImageSrc(d).split("#matrix=")[0]+"#matrix="+g);b||(e=a.find("#"+$(e).parent().attr("id")),e.length&&e.remove(),d.removeAttr("filter"))})}function q(a){a.find("pattern.text-pattern image, pattern.figure-pattern image").each(function(){var a=
$(this);a[0].setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",f.getImageSrc(a)+"#base64")})}var f=this;co.svg=f;var r=co.win,t=co.svgwrap.children(),u=t.find("g.sides"),p,x,y,z,C,A,F,v,D=0,B=1,w=[];f.box=t;f.adds=$();f.dummyLeft=0;f.dummyTop=0;f.sidesBox=u;co.defineGet(f,"dummy",function(){return x});f.addsBox=void 0;f.dummiesRefind=function(){return p=u.children("g")};f.dummies=function(){return p};f.reinit=function(){d();a();if(co.ribbon)$(co.ribbon).off("height-changed.svg-reinit").on("height-changed.svg-reinit",
function(){a()});if(co.mobileSides)$(co.mobileSides).off("height-changed.svg-reinit").on("height-changed.svg-reinit",function(){a()});return f};f.clear=function(){p.remove()};f.updateBoxSizes=a;f.updateArea=function(a){var b=u.children("g").eq(a),c=b.find("#area"+a);b=b.find(".area-frame");if(c.length){var d=c.parent();c.remove();d.children().length||d.remove()}b.length&&b.remove();g(a)};f.getRegionLayout=function(){var a=co.formats.curSelection().prog.region;if(!a||!a.on){if((a=co.formats.curSelection().prog.area)&&
a.on){var b=co.v.curBaseLayer.real,c=+y.attr("width")/b[0];b=+y.attr("height")/b[1];a={x:a.x*c,y:a.y*b,width:a.w*c,height:a.h*b}}else a=!1;return a}b=co.v.curBaseLayer.real;c=+y.attr("width")/b[0];b=+y.attr("height")/b[1];return{x:a.x*c,y:a.y*b,width:a.w*c,height:a.h*b}};f.getCode=function(a){return(new XMLSerializer).serializeToString(a).replace(/NS1|NS2/g,"xlink")};f.getCodeFull=function(){return f.getCode(t[0]).replace(/[\t\n]+/gmi,"")};f.refresh=function(){var a=f.getCode(t[0]);t.replaceWith(a);
return f.reinit()};f.addsRefind=function(){f.adds=z.children("g")};f.turn=h;f.getDummySizes=function(){return{width:F,height:v}};f.addsAppend=function(a){z.append(a);f.adds=z.children("g");return f};f.addsFind=function(a){return z.find(a)};f.getAdds=function(a,b){a=void 0===a?u.find(".add-box"):a===D?f.adds:p.eq(a).find(".add-box");return b?a.map(function(){return this.addInstance}).get():a};f.updateDummyLayout=k;r.on("resize resizeEnd",function(){var b=co.trans.active();co.trans.hide();a();f.fit();
b&&co.trans.show()});f.elem=function(a){return l(a)};f.addClass=function(a,b){var c=a.attr("class");c?a.attr("class",c+" "+b):a.attr("class",b);return f};f.removeClass=function(a,b){var c=a.attr("class");if(!c)return f;var d=[];c.split(" ").forEach(function(a){a!==b&&d.push(a)});a.attr("class",d.join(" "));return f};f.removeClassRegExp=function(a,b){var c=a.attr("class");if(!c)return f;var d=[];c.split(" ").forEach(function(a){null===a.match(b)&&d.push(a)});a.attr("class",d.join(" "));return f};f.hasClass=
function(a,b){a=a.attr("class");if(!a)return!1;a=a.split(" ");for(var c=0;c<a.length;c++)if(a[c]===b)return!0;return!1};f.dummyLocal=function(a,b){return{x:(a-f.dummyLeft)/B,y:(b-f.dummyTop)/B}};f.addLocal=function(a,b,c){b=f.dummyLocal(b,c);c=f.elemPos(a);a=f.elemScale(a);return{x:(b.x-c.x*a.x)/a.x,y:(b.y-c.y*a.y)/a.y}};f.dummyGlobal=function(a,b){return{x:a*B+f.dummyLeft,y:b*B+f.dummyTop}};f.addGlobal=function(a,b,c){var d=f.elemPos(a);a=f.elemScale(a);return f.dummyGlobal((b+d.x)*a.x,(c+d.y)*a.y)};
f.addsActivate=function(a,b,c){f.addsDeactivate();var d=a.box;"Firefox"===co.v.browserName&&$("#svgselect-morph",t).attr("radius",3/(f.elemScale(d).x*B));c?f.addClass(d,"hovered"):d.attr("filter","url(#svgselect)");a.activated=!0;b||co.sidebar.layerActivate(co.svg.adds.length-1-d.index());return f};f.addsDeactivate=function(a,b){co.d(a)?(a.removeAttr("filter"),f.removeClass(a,"hovered"),a[0].addInstance.activated=!1):f.adds.removeAttr("filter").each(function(){f.removeClass($(this),"hovered")});b||
co.sidebar.layersDeactivate();return f};f.scale=function(a){if(co.d(a)){if(!co.normalNumber(a))return console.error("not a number"),B;B=a;if(x){a=co.mobile?0:co.nav.box.outerWidth();var b=co.mobile?0:co.sidebar.box.is(":visible")?co.sidebar.box.outerWidth():0;f.dummyLeft=(C-a-b-F*B)/2+a;f.dummyTop=(A-v*B)/2;f.elemPos(x,f.dummyLeft,f.dummyTop);f.elemScale(x,B);x.find(".layer-detail").each(function(){this.antsUpdate&&this.antsUpdate()})}co.v.add&&co.v.add.select(!0);f.adds.each(function(){var a=this.addInstance;
a.patternUpdate&&a.patternUpdate()})}return B};f.translate=function(a,b){f.dummyLeft=a;f.dummyTop=b;f.elemPos(x,f.dummyLeft,f.dummyTop);f.elemScale(x,B);co.v.add&&co.trans.layoutUpdate()};f.fit=function(){if(!F||!v)return co.v.zoomDef=1,f;var a=co.mobile?0:co.nav.box.outerWidth(),b=co.mobile?0:co.sidebar.box.is(":visible")?co.sidebar.box.outerWidth():0;a=(C-a-b-20)/F;b=(A-20)/v;var c=co.v.curBase.scaleDefault||1;co.mobile||!co.v.curBase.scaleOff||co.isRetina()?co.v.zoomDef=(a<b?a:b)*c:co.v.zoomDef=
c;co.zoom.deflt();return f};f.elemWidth=function(a,b){if(co.d(b))return a.attr("width",b),b;a=a.attr("width");return co.d(a)&&a?+a:0};f.elemHeight=function(a,b){if(co.d(b))return a.attr("height",b),b;a=a.attr("height");return co.d(a)&&a?+a:0};f.elemCenter=function(a,b){var c=f.elemScale(a),d=f.elemWidth(a)*c.x,e=f.elemHeight(a)*c.y;b?f.elemPos(a,((b.width-d)/2+b.x)/c.x,((b.height-e)/2+b.y)/c.y):f.elemPos(a,(F-d)/2/c.x,(v-e)/2/c.y);return f};f.elemFit=function(a){var b=f.elemWidth(a),c=f.elemHeight(a);
if(!b||!c)return f;var d=b/c,e=f.getRegionLayout();if(e){var g=e.width;var h=e.height}else g=.5*F,h=.5*v;d>=g/h?f.elemScale(a,g/b):f.elemScale(a,h/c);f.elemCenter(a,e);return f};var L=/(?:\s*,\s*|\s+)/;f.elemTransform=function(a,b,c){if(!co.d(a))return[1,1];var d=a.attr("transform");if(co.d(c)){var e=b+"("+c+")";d=co.d(d)?-1===d.indexOf(b+"(")?d+(" "+e):d.replace(new RegExp(b+"\\([^\\)]*\\)","gi"),e):e;a.attr("transform",d);return String(c).split(L).map(Number)}if(!co.d(d)||-1===d.indexOf(b+"("))return[];
a=(new RegExp(b+"\\(([^\\)]*)\\)","gi")).exec(d);return null===a?[]:String(a[1]).split(L).map(Number)};f.elemPos=function(a,b,c){if(co.d(b)){co.d(c)||(c=f.elemPos(a).y);if(!co.normalNumber(b)||!co.normalNumber(c))return console.error("not a number"),{x:0,y:0};f.elemTransform(a,"translate",b+","+c);return{x:b,y:c}}a=f.elemTransform(a,"translate");return{x:a[0],y:a[1]}};f.addPos=function(a,b,c){var d=f.elemScale(a);if(co.d(b)){co.d(c)||(c=f.addPos(a).y);if(!co.normalNumber(b)||!co.normalNumber(c))return console.error("not a number"),
{x:0,y:0};f.elemPos(a,b/d.x,c/d.y);return{x:b,y:c}}a=f.elemPos(a);return{x:a.x*d.x,y:a.y*d.y}};f.addPosGlobal=function(a,b,c){if(co.d(b)){co.d(c)||(c=f.addPosGlobal(a).y);if(!co.normalNumber(b)||co.d(c)&&!co.normalNumber(c))return console.error("not a number"),{x:0,y:0};var d=f.dummyLocal(b,c);f.addPos(a,d.x,d.y);return{x:b,y:c}}d=f.addPos(a);return f.dummyGlobal(d.x,d.y)};f.elemScale=function(a,b,c){if(co.d(b)){co.d(c)||(c=b);if(!co.normalNumber(b)||!co.normalNumber(c))return console.error("not a number"),
{x:1,y:1};f.elemTransform(a,"scale",b+","+c);a={x:b,y:c}}else{a=f.elemTransform(a,"scale");switch(a.length){case 2:a={x:a[0],y:a[1]};break;case 1:a={x:a[0],y:a[0]};break;default:a={x:1,y:1}}co.normalNumber(a.x)&&0!==a.x||(a.x=1);co.normalNumber(a.y)&&0!==a.y||(a.y=1)}return a};f.elemRotation=function(a,b,c){if(co.d(b)){if(!co.normalNumber(b))return 0;co.d(c)?f.elemTransform(a,"rotate",b+","+c.x+","+c.y):f.elemTransform(a,"rotate",b+","+f.elemWidth(a)/2+","+f.elemHeight(a)/2);return b}a=f.elemTransform(a,
"rotate");return a.length?(a=a[0])?a:0:0};f.addDuplicate=function(a,b){var c=f.addsFind(">g.add-"+a);if(!c.length)return null;c=c.clone();return f.removeClass(c,"add-"+a).addClass(c,"add-"+b).addClass(c,"add-duplicate").addsAppend(c).addsFind(">g.add-"+b)};f.addsReorder=function(a){var b=f.adds.toArray().reverse();a.forEach(function(a){return z.prepend(b[a])});f.addsRefind()};f.addsReorder2=function(a){a.forEach(function(a){return z.append(f.adds[a])});f.addsRefind()};f.textBoundingVirtual=function(a,
b,c){a=f.multilineTextElem(a,b,c);b=$(a);c=!1;f.addsAppend(b);if(a.getBBox)try{c=a.getBBox()}catch(Q){}c||(c={x:0,y:0,width:1,height:1});b.remove();return c};f.multilineTextElem=function(a,b,c,d){co.d(d)?$(d).children().remove():d=f.elem("text");c.split("\n").forEach(function(c,e){var g=f.elem("tspan");$(g).attr(a);$(g).attr({x:0,dy:e?b:0});c=document.createTextNode(""===c?String.fromCharCode(160):c);g.appendChild(c);d.appendChild(g)});return d};f.getCodeFitted=function(a,b){var c=f.box.clone(),d=
$("g.side",c);a=a||1E3;b=b||1E3;c.attr({width:a,height:b});d.each(function(){var c=$(this),d=c.find(".layer-base"),e=+d.attr("width");d=+d.attr("height");var g=a/e,h=b/d;g=g<h?g:h;f.elemPos(c,(a-e*g)/2,(b-d*g)/2);f.elemScale(c,g)});n(c);q(c);m(c);return f.getCode(c[0])};f.getVectorPreview=function(a,b){var c=f.box.clone(),d=$("g.side",c);a=a||700;b=b||700;c.attr({width:a*d.length,height:b});d.each(function(c){var d=$(this),e=d.find(".layer-base"),g=+e.attr("width");e=+e.attr("height");var h=a/g,p=
b/e;h=h<p?h:p;f.elemPos(d,(a-g*h)/2+c*a,(b-e*h)/2);f.elemScale(d,h)});n(c);q(c);m(c);return f.getCode(c[0])};f.getVectorPreviewForServerThumb=function(){var a=f.box.clone(),b=a.find("g.side"),c=b.length,d=1,e=1;a.attr({width:1E3,height:1E3});2===c&&(d=2);2<c&&(d=Math.ceil(Math.sqrt(c)),e=Math.ceil(c/d));var g=1E3/d;a.attr("height",Math.floor(e*g));for(c={$jscomp$loop$prop$row$40:0};c.$jscomp$loop$prop$row$40<e;c={$jscomp$loop$prop$row$40:c.$jscomp$loop$prop$row$40},c.$jscomp$loop$prop$row$40++)for(var h=
{$jscomp$loop$prop$col$42:0};h.$jscomp$loop$prop$col$42<d;h={$jscomp$loop$prop$col$42:h.$jscomp$loop$prop$col$42},h.$jscomp$loop$prop$col$42++)(function(a,c){return function(){var e=b.eq([a.$jscomp$loop$prop$row$40*d+c.$jscomp$loop$prop$col$42]);if(e.length){var h=e.find(".layer-base"),p=+h.attr("width");h=+h.attr("height");var k=g/p,u=g/h;k=.95*(k<u?k:u);f.elemPos(e,(g-p*k)/2+c.$jscomp$loop$prop$col$42*g,(g-h*k)/2+a.$jscomp$loop$prop$row$40*g);f.elemScale(e,k);e.attr("visibility","visible")}}})(c,
h)();n(a);m(a);return f.getCode(a[0])};f.userComposes=function(a,b){var c=f.box.clone(),d=c.find("g.side"),e=[];a=a||1E3;b=b||1E3;c.attr({width:a,height:b});d.each(function(c){var d=$(this),g=d.find(".layer-base"),h=+g.attr("width");g=+g.attr("height");h=a/h;g=b/g;h=h<g?h:g;e[c]=h;f.elemPos(d,0,0);f.elemScale(d,h);c=d.children("image");c.length&&c.remove()});n(c);q(c);m(c);var g=[];d.each(function(a){var b=c.clone(),d=b.find("g.side"),h=d.eq(a);if(!h.find("g.adds > g").length)return!0;d.not(h).remove();
d=h.find("g.adds");var p=d.attr("clip-path");(function(){if("string"===typeof p&&"url("===p.substr(0,4)){var c=p.substr(4,p.length-5).replace(/"/g,"");if(c){var d=h.find(c+" rect");if(d.length){c=+d.attr("x")||0;var g=+d.attr("y")||0,k=+d.attr("width")||0;d=+d.attr("height")||0;var u=e[a];if(c||g||k||d)(c||g)&&f.elemPos(h,-c*u,-g*u),b.attr({width:k*u,height:d*u})}}}})();var k=b.find('defs[id^="defs-text-pattern"],defs[id^="defs-figure-pattern"]'),u=[];d.find('[style*="fill"]').each(function(){var a=
$(this).css("fill");if("url("!==a.substr(0,4))return!0;a=a.substr(4,a.length-5).replace(/"/g,"").replace(/#/g,"");a=b.find("#defs-"+a);a.length&&u.push(a[0])});k.not(u).remove();g.push(f.getCode(b[0]))});return g};f.getImageSrc=function(a){var b=a.attr("xlink:href");b||(b=a.attr("href"));b||(b=a[0].getAttributeNS("http://www.w3.org/1999/xlink","xlink:href"));b||(b=a[0].getAttributeNS("http://www.w3.org/1999/xlink","href"));b||(b="");return b};f.setImageSrc=function(a,b){f.setXlinkAttr(a,"href",b)};
f.getAttr=function(a,b){a=$(a);return a.attr(b)||a.attr("xlink:"+b)||a[0].getAttributeNS("http://www.w3.org/1999/xlink","xlink:"+b)||a[0].getAttributeNS("http://www.w3.org/1999/xlink",b)||""};f.setXlinkAttr=function(a,b,c){$(a)[0].setAttributeNS("http://www.w3.org/1999/xlink","xlink:"+b,c)};f.addsExist=function(a){return!!(a?t.find("g.adds g"):f.adds).length};if(co.mobile&&!co.inFrame()){var K=null,E=null;co.svgwrap.on("touchstart",function(a){1!==a.originalEvent.targetTouches.length||co.v.curBase.productDragOff||
(a=a.originalEvent.touches[0],K=[a.clientX,a.clientY],E=[f.dummyLeft,f.dummyTop])}).on("touchmove",function(a){K&&1===a.originalEvent.targetTouches.length&&!co.v.curBase.productDragOff&&(a.preventDefault(),a=a.originalEvent.touches[0],a=[a.clientX,a.clientY],f.translate(a[0]-K[0]+E[0],a[1]-K[1]+E[1]))});co.win.on("touchend",function(){K=null})}if(!co.mobile){var H=null,M=null;co.svgwrap.on("mousedown",function(a){co.v.curBase.productDragOff||a.originalEvent.dummyDontDrag||(H=[a.clientX,a.clientY],
M=[f.dummyLeft,f.dummyTop],co.docElem.on("mousemove.dummy",function(a){H&&(a.preventDefault(),f.translate(a.clientX-H[0]+M[0],a.clientY-H[1]+M[1]))}))});co.win.on("mouseup",function(){return f.offDummyMousemove()});f.offDummyMousemove=function(){co.docElem.off("mousemove.dummy");H=null}}f.addsClear=function(){u.find("g.adds > g").each(function(){this.addInstance.remove()});f.addsRefind()};f.filled=function(){return f.box.find("g.adds:has(g)").length};f.filledPrice=function(){var a=0;f.box.find("g.adds:has(g)").each(function(){$(this).children("g").each(function(){var b=
this.addInstance;if(b.composParams&&b.composParams.noPrice)return!0;if("image"===b.addName){var c=b.changeable;if(!c.on||!c.priceSel||c.chosen)if(!b.cat||!b.cat.noFillPrice)return a++,!1}else return a++,!1})});return a};var G,I;f.layersColor=function(a){if(co.d(a))if("#ffffff"===a)G=void 0,delete co.v.curColor.layersColor,I&&(I.parent().remove(),I=void 0),u.find("image.layer-coloriz").each(function(){var a=$(this);a.removeAttr("filter");f.removeClass(a,"layer-coloriz");delete a[0].matrix});else{if(!G){I=
$(co.svg.elem("feColorMatrix")).attr({"in":"SourceGraphic",type:"matrix","color-interpolation-filters":"sRGB"});var b=co.lang.w(13,1)+"_"+co.v.unical++;$(co.svg.elem("filter")).attr("id",b).append(I).appendTo(f.box);co.v.curColor.layers.forEach(function(a,c){e(co.clon(a).reverse()).forEach(function(a,d){a.coloriz&&(a=$(p[c]).children().eq(d),a.attr("filter","url(#"+b+")"),a[0].matrix=I[0],f.addClass(a,"layer-coloriz"))})})}G=a;co.v.curColor.layersColor=a;I[0].setAttribute("values",co.makeToneMatrix(a))}return G};
f.layersColor.restore=function(){G=void 0;co.v.curColor.layersColor&&f.layersColor(co.v.curColor.layersColor)};co.defineGet(f,"top",function(){return co.v.blockOverHeight+co.v.ribbonHeight+co.v.mobileSidesHeight})};co.FontCSSIncluder=function(){function a(a){function c(c){var d=""+co.v.domain+(a.def?"default-fonts":"custom-fonts/"+co.v.adminID)+"/"+a.id+"-"+c;b+='@font-face {\n\t\t\t\tfont-family: "'+a.family+'";\n\t\t\t\tfont-weight: '+("bold"===c||"bolditalic"===c?"bold":"normal")+";\n\t\t\t\tfont-style: "+("italic"===c||"bolditalic"===c?"italic":"normal")+';\n\t\t\t\tsrc: url("'+d+'.woff2") format("woff2"), url("'+d+'.woff") format("woff"), url("'+d+'.ttf") format("truetype");\n\t\t\t}'}if(!g.included.families.includes(a.family)){var b=
"";c("normal");c("bold");c("italic");c("bolditalic");co.head.append("<style>"+b+"</style>");g.included.families.push(a.family);g.included.ids.push(a.id)}}function d(a,c,b){return e.some(function(d){return d.family===a&&d.bold===c&&d.italic===b})}var g=this;co.fontCSSIncluder=g;g.included={families:[],ids:[]};g.missed=[];var e=[];g.checkFontReady=function(a,c,b,k){if(d(a,c,b)||g.missed.includes(a))return k();document.fonts&&document.fonts.load?document.fonts.load((b?"italic ":"")+(c?"bold ":"")+"20px '"+
a+"'").then(function(){e.push({family:a,bold:c,italic:b});k()}).catch(function(a){console.warn(a);k()}):(new FontLoader([{family:a,weight:c?"bold":"normal",style:b?"italic":"normal"}],{complete:function(d){d?console.warn(d):e.push({family:a,bold:c,italic:b});k()}},2E4)).loadFonts()};g.load=function(d,c,b,e,l){function h(){g.checkFontReady(d,c,b,function(){k||l||co.nowait();e()})}if(g.missed.includes(d))return e();var k=co.waitPopup.shown;k||l||co.wait(!1,co.lang.w(25));if(g.included.families.includes(d))h();
else{var q=co.fontByFamily(d);q?(a(q),h()):(co.alert(co.lang.w(19),void 0,void 0,void 0,void 0,!0),k||l||co.nowait(),g.missed.push(d),e())}}};co.Add=function(a){var d=this,g=co.svg,e=co.d(a);d.id=e?a:co.v.unical++;d.activated=!1;d.box=e?g.addsFind("g.add-"+a):$(g.elem("g"));e||(g.addClass(d.box,"add-"+d.id),g.addClass(d.box,"add-box"));d.box[0].addInstance=d;d.scaleBox=e?d.box.children():null;d.scaleBox||(d.scaleBox=$(g.elem("g")).addClass("scale-box").attr("id",co.lang.w(1,1,{underscore:1})+"___"+co.v.unical++).appendTo(d.box));var h=e?d.scaleBox.children():null;d.elem=function(a){a&&(h=a,d.scaleBox.empty(),d.scaleBox.append(a));return h};
d.placed=e;d.place=function(){d.box=g.addsAppend(d.box).addsFind("g.add-"+d.id);(co.gt(co.v,"curBase.addsFeatures."+d.addName)||{}).noFit||"image"===d.addName&&!d.mustFitWhenPlace()?(g.elemScale(d.box,1,1),g.elemCenter(d.box,g.getRegionLayout())):g.elemFit(d.box);d.placed=!0;d.assignActions();co.updateSides(!0);co.calc.update();return d};d.assignActions=function(){d.box.mouseenter(function(a){d.box_mouseenter_inner(a)}).mouseleave(function(a){d.box_mouseleave_inner(a)}).mousedown(function(a){d.box_mousedown_inner(a)}).mousemove(function(a){d.box_mousemove_inner(a)})};
d.box_mouseenter_inner=function(){co.v.sideEditable&&(co.v.dragging||g.addsActivate(d,!1,!0))};d.box_mouseleave_inner=function(){co.v.dragging||g.addsDeactivate(d.box)};d.box_mousedown_inner=function(a){co.v.sideEditable&&(d.selectTime=Date.now(),co.v.userAddsAction=!0,d.select(),a.originalEvent.dummyDontDrag=!0,co.trans.mousePress(a))};d.box_mousemove_inner=function(){};e&&(d.placed=!0,d.assignActions());d.cantSelect=!1;d.select=function(a){d.cantSelect||co.Add.cantSelect||!co.v.sideEditable||(co.nav.close(),
co.svg.addsDeactivate(),(a=co.curMobileTextEdit())&&a.add!==d&&co.closeMobileTextEdit(),co.trans.show(d));return d};d.unselect=function(){co.trans.hide();co.sidebar.runInDontUpdateAllSidesMode(function(){co.mobile?co.mobileBottomTopPanel.stateDefault():co.sidebar.stateDefault()});return d};d.duplicate=function(){return null};d.ready=e;d.remove=function(){d.box.remove();d.placed=!1};d.remove2=function(a){if(!co.gt(d.composParams,"noDel")||co.v.composMode||a)d.remove(),co.trans.hide(),g.addsRefind(),
co.mobile?(co.mobileBottomTopPanel.stateDefault(),co.mobileSides.update(!0)):(co.sidebar.dontUpdateAllSides=!0,co.sidebar.stateDefault(),co.sidebar.dontUpdateAllSides=!1),co.calc.update(),co.v.userCreative=!0,co.v.userAddsAction=!0};d.scale=function(a,b){return co.svg.elemScale(d.box,a,b)};d.propor=function(a){return co.d(a)?co.svg.elemScale(d.scaleBox,1,a).y:co.svg.elemScale(d.scaleBox).y};d.pos=function(a,b){return co.svg.addPos(d.box,a,b)};d.width=function(a){var b=d.scale().x;return co.d(a)?(co.svg.elemWidth(d.box,
a/b),a):co.svg.elemWidth(d.box)*b};d.height=function(a){var b=d.scale().y;return co.d(a)?(co.svg.elemHeight(d.box,a/(b*d.propor())),a):co.svg.elemHeight(d.box)*b*d.propor()};d.bounds=function(){var a=d.scale().x,b=d.propor(),e=co.svg.elemPos(d.box);a={x:e.x*a,y:e.y*a,width:co.svg.elemWidth(d.box)*a,height:co.svg.elemHeight(d.box)*a*b,scale:a,propor:b,pos:e};a.heightOrig=a.height/b;a.right=a.x+a.width;a.bottom=a.y+a.height;return a};d.size=function(){var a=d.scale().x,b=d.propor();return{width:co.svg.elemWidth(d.box)*
a,height:co.svg.elemHeight(d.box)*a*b,scale:a,propor:b}};d.angle=function(a,b){a=co.svg.elemRotation(d.box,a,b);d.transformOrderFix(d.box);return a};d.transformOrderFix=function(a){var b=a.attr("transform");if(b){var c=b.replace(/\)\s+([\w]+)\(/g,")###$1(").split("###");if(1<c.length){var d=["scale","translate","rotate"];c=c.map(function(a){var b=a.split("(")[0];return{str:a,index:d.indexOf(b)}});c.sort(function(a,b){if(-1===a.index||-1===b.index||a.index===b.index)return 0;if(a.index>b.index)return 1;
if(a.index<b.index)return-1});c=c.map(function(a){return a.str}).join(" ");c!==b&&a.attr("transform",c)}}};d.canDelete=function(){return co.v.composMode||!co.chain(d.composParams,"noDel")&&!co.gt(co.v,"curBase.addsFeatures."+d.addName+".noDel")};d.index=function(a){if(co.d(a)){if(!co.digits(a))throw Error("wrong index");for(var b=d.box.index(),c=[],e=0;e<co.svg.adds.length;e++)c.push(e);c.splice(b,1);c.splice(a,0,b);co.svg.addsReorder2(c);return a}return d.box.index()};d.local={pos:function(a,b){return co.svg.elemPos(d.box,
a,b)},width:function(a){return co.d(a)?(co.svg.elemWidth(d.box,a),a):co.svg.elemWidth(d.box)},height:function(a){return co.d(a)?(co.svg.elemHeight(d.box,a/d.propor()),a):co.svg.elemHeight(d.box)*d.propor()},heightOrig:function(a){return co.d(a)?(co.svg.elemHeight(d.box,a),a):co.svg.elemHeight(d.box)},size:function(){var a=d.propor(),b=co.svg.elemHeight(d.box);return{width:co.svg.elemWidth(d.box),height:b*a,heightOrig:b,propor:a}},bounds:function(){var a=d.propor(),b=co.svg.elemPos(d.box);b={x:b.x,
y:b.y,width:co.svg.elemWidth(d.box),height:co.svg.elemHeight(d.box)*a,propor:a};b.heightOrig=b.height/a;b.right=b.x+b.width;b.bottom=b.y+b.height;return b}};d.global={pos:function(a,b){return g.addPosGlobal(d.box,a,b)},width:function(a){var b=d.scale().x,c=co.svg.scale();return co.d(a)?(co.svg.elemWidth(d.box,a/(b*c)),a):co.svg.elemWidth(d.box)*b*c},height:function(a){var b=d.scale().y,c=co.svg.scale();return co.d(a)?(co.svg.elemHeight(d.box,a/(b*d.propor()*c)),a):co.svg.elemHeight(d.box)*b*d.propor()*
c},bounds:function(){var a=d.scale().x,b=d.propor(),e=g.addPosGlobal(d.box),h=co.svg.scale();a={x:e.x,y:e.y,width:co.svg.elemWidth(d.box)*a*h,height:co.svg.elemHeight(d.box)*a*b*h,scale:a,propor:b};a.heightOrig=a.height/b;a.right=a.x+a.width;a.bottom=a.y+a.height;return a}}};co.AddImage=function(a){function d(a,c,d,e){l=b.elem($(co.svg.elem("image")));b.srcWidth=a;b.srcHeight=c;b.box.add(l).attr({width:a,height:c});b.box.attr({id:co.lang.w(12,!0,{underscore:1})+"___"+k});l.attr({id:co.lang.w(11,!0,{underscore:1})+"___"+co.v.unical++,x:0,y:0});l[0].setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",b.src);d=document.createElement("canvas");d.width=a;d.height=c;d=d.getContext("2d");d.drawImage(e,0,0);m=d.getImageData(0,0,a,c);g()}function g(){b.place();b.ready=
!0;setTimeout(function(){return $(b).trigger("addready")},0)}function e(){var a=b.coloriz;if(a.mode===a.MODE_SUBTRACT||a.mode===a.defaultMode&&a.color===a.COLOR_DEFAULT)(function(){var b=function(a,b){function c(b,c){return+a[b]+(a[c]-a[b])*d}b=+b;360===b&&(b=0);var d=b/120;if(0===d)return a;if(0<d&&1>=d)return[c(0,2),c(1,0),c(2,1),a[3],a[4],c(5,7),c(6,5),c(7,6),a[8],a[9],c(10,12),c(11,10),c(12,11),a[13],a[14],a[15],a[16],a[17],a[18],a[19]];if(1<d&&2>=d)return--d,[c(2,1),c(0,2),c(1,0),a[3],a[4],c(7,
6),c(5,7),c(6,5),a[8],a[9],c(12,11),c(10,12),c(11,10),a[13],a[14],a[15],a[16],a[17],a[18],a[19]];if(2<d&&3>=d)return d-=2,[c(1,0),c(2,1),c(0,2),a[3],a[4],c(6,5),c(7,6),c(5,7),a[8],a[9],c(11,10),c(12,11),c(10,12),a[13],a[14],a[15],a[16],a[17],a[18],a[19]]}(function(){var b=.66666*a.saturation,c=.5*b;return[.333+b,.333-c,.333-c,0,0,.333-c,.333+b,.333-c,0,0,.333-c,.333-c,.333+b,0,0,0,0,0,1,0]}(),a.hue),c=function(){var b=a.brightness+1;return[b,b,b,1,1,b,b,b,1,1,b,b,b,1,1,1,1,1,1,1]}(),e=co.colorMatrixMultiply(b,
c);(function(){var b=a.color,c=co.hexToRgb(b).split(","),g=c[0]/255,f=c[1]/255;c=c[2]/255;b="#000000"===b;var h=co.rgb2hsv({r:g,g:f,b:c}).v;h=co.colorMatrixMultiply(e,[h,h,h,1,1,h,h,h,1,1,h,h,h,1,1,1,1,1,1,1]);var p=a.brightness+1;p=co.colorMatrixMultiply([.333*g,.333*g,.333*g,0,0,.333*f,.333*f,.333*f,0,0,.333*c,.333*c,.333*c,0,0,0,0,0,1,0],[p,p,p,1,1,p,p,p,1,1,p,p,p,1,1,1,1,1,1,1]);d=co.colorMatrixMix(h,p,b?1:co.rgb2hsv({r:g,g:f,b:c}).s)})()})();else if(a.mode===a.MODE_FILL){var c=co.hexToRgb(a.color).split(",");
var d=[0,0,0,0,c[0]/255,0,0,0,0,c[1]/255,0,0,0,0,c[2]/255,0,0,0,1,0]}return d.join(" ")}function h(a){n?$(a.target).closest(n).length||b.changeHide():co.body.off("mousemove",h)}function c(){if(n){var a=b.global.bounds(),c=a.width,d=a.height,e=a.x;a=a.y+co.svg.top;var g=b.angle();n.css({left:e,top:a,width:c,height:d,transform:"rotate("+g+"deg)"}).find(".btn").css({transform:"rotate("+-g+"deg)"})}}co.Add.call(this,a);var b=this,k=co.v.unical++;b.addName="image";(a=co.d(a))||co.svg.addClass(b.box,"image");
var l=a?b.scaleBox.children():null;b.isAdminImg=!1;b.src=a?co.svg.getImageSrc(l):"";b.srcWidth=-1;b.srcHeight=-1;b.imgData=void 0;b.cat=void 0;var m;b.coloriz=function(){var a={MODE_SUBTRACT:"subtract",MODE_FILL:"fill",get defaultMode(){return co.addsFeature("image","fill")&&!co.addsFeature("image","subtract")?a.MODE_FILL:a.MODE_SUBTRACT},COLOR_DEFAULT:"#ffffff",VALS_ARRAY:["color","mode","brightness","hue","saturation"],get isDefault(){return a.color===a.COLOR_DEFAULT&&a.mode===a.defaultMode&&0===
a.brightness&&0===a.hue&&1===a.saturation},get copyPasteSense(){return!co.equalVals(a,co.v.colorizClip,a.VALS_ARRAY)},reset:function(){a.color=a.COLOR_DEFAULT;a.mode=a.defaultMode;a.brightness=0;a.hue=0;a.saturation=1;a.matrix=""}};a.reset();a.apply=function(){if(a.isDefault)a.matrix="",co.d(b.colorMatrix)&&($(b.colorMatrix).parent().remove(),delete b.colorMatrix),b.scaleBox.removeAttr("filter"),b.box.attr("id",co.lang.w(12,!0,{underscore:1})+"___"+k),co.svg.removeClass(b.box,"coloriz-filter");else{if(!a.matrix){var c=
co.svg.elem("filter"),d=co.svg.elem("feColorMatrix"),g=co.v.unical++;$(c).attr("id","filter_"+g);$(d).attr({"in":"SourceGraphic",type:"matrix"});b.colorMatrix=d;c.appendChild(b.colorMatrix);co.svg.box.append(c);b.scaleBox.attr("filter","url(#filter_"+g+")");b.box.attr("id",co.lang.w(12,!0,{underscore:1}));co.svg.addClass(b.box,"coloriz-filter")}b.colorMatrix.setAttribute("color-interpolation-filters","sRGB");a.matrix=e();b.colorMatrix.setAttribute("values",a.matrix)}};a.copy=function(){co.v.colorizClip=
co.copyVals(a,{},a.VALS_ARRAY)};a.paste=function(){co.copyVals(co.v.colorizClip,a,a.VALS_ARRAY).apply()};return a}();b.composParams={noTrans:!1,noDel:!1,noColoriz:!1,noPrice:!1};b.changeable={on:!1,will:!1,priceSel:!1,btn:!1,btnText:"",size:"equal",initWidth:0,initHeight:0,initPos:0,chosen:!1};var n=null;b.load=function(a){b.src=a;b.imgData||(b.imgData=co.findImgData(a));co.imgRealSizes(b.src,d,function(){$(b).trigger("loadError")});return b};b.mustFitWhenPlace=function(){var a=co.gt(co.v,"curBase.addsFeatures.image")||
{};if(a.noFit||"admin"===a.fitImgType&&!b.isAdminImg||"user"===a.fitImgType&&b.isAdminImg)return!1;a=a.fitImgMore||"any";if("any"===a)return!0;var c=co.svg.getDummySizes(),d=co.gt(co.formats.curSelection(),"prog.area");d&&d.on||(d={w:c.width,h:c.height});var e=co.gt(co.formats.curSelection(),"prog.region");e&&e.on||(e=d);return!("region"===a&&b.srcWidth<=e.w&&b.srcHeight<=e.h||"area"===a&&b.srcWidth<=d.w&&b.srcHeight<=d.h||"product"===a&&b.srcWidth<=c.width&&b.srcHeight<=c.height)};b.duplicate=function(){var a=
co.v.unical++;co.svg.addDuplicate(b.id,a);a=new co.AddImage(a);var c=b.coloriz;c.isDefault||co.copyVals(c,a.coloriz,c.VALS_ARRAY).apply();$.extend(a.changeable,b.changeable);$.extend(a.composParams,b.composParams);a.isAdminImg=b.isAdminImg;b.price&&(a.price=b.price);b.imgData&&(a.imgData=b.imgData);b.cat&&(a.cat=b.cat);return a};var q=b.select;b.select=function(a){b.cantSelect||co.Add.cantSelect||(q(),co.mobile?co.mobileBottomTopPanel.stateImage(b):a||co.sidebar.stateImage(b));return b};var f=b.remove;
b.remove=function(){b.coloriz.reset();b.coloriz.apply();f.call(b)};b.changeShow=function(){n&&b.changeHide();n=$('<div class="change-frame"><div class="btn"></div></div>');var a=b.changeable,d=a.btnText,e=n.find(".btn");e.lang(d.length?d:"");co.body.append(n);c();n.mouseleave(function(){b.changeHide()});a.btn||(e.remove(),n.addClass("no-btn"));n.click(function(){b.changeClick()});setTimeout(function(){return co.body.on("mousemove",h)},0)};b.changeClick=function(){b.select();var a=co.v.images.cats.forEach2(function(a){if(a.imgs.forEach2(function(a){if(co.v.domain+
"imgs/"+co.v.adminID+"/"+a.filename===b.src)return!0}))return a}),c;a&&" "!==a.title&&a.menu.on&&(c=co.nav.box.find(".btn-imgs-cat-"+a.unical)).length?(co.mobile&&co.body.hasClass("nav-closed")&&co.nav.openFast(),co.popups.show("images",[{cat:a,btn:c}])):co.popups.show("images");var d=b.changeable;co.popups.shown.images.changingCallback=function(a){var c,e,g;d.initWidth?c=d.initWidth:d.initWidth=c=b.width();d.initHeight?e=d.initHeight:d.initHeight=e=b.height();d.initPos?g=
co.clon(d.initPos):d.initPos=co.clon(g=b.pos());var f=co.svg.elemWidth(a.box),h=co.svg.elemHeight(a.box),p=c/f,k=e/h,u=1;"contain"===d.size?(p=co.rectContain(c,e,f,h),g.x+=(c-f*p)/2,g.y+=(e-h*p)/2):"cover"===d.size?(p=co.rectCover(c,e,f,h),g.x+=(c-f*p)/2,g.y+=(e-h*p)/2):p!==k&&(u=k/p,co.svg.elemScale(a.scaleBox,1,u));co.svg.elemScale(a.box,p,p);co.svg.addPos(a.box,g.x,g.y);co.svg.elemRotation(a.box,co.svg.elemRotation(b.box),{x:f/2,y:h*u/2});co.svg.removeClass(a.box,"changing-new-add");$.extend(a.changeable,
d);$.extend(a.composParams,b.composParams);c=b.coloriz;c.isDefault||co.copyVals(c,a.coloriz,c.VALS_ARRAY).apply();a.changeable.chosen=!0;a.box.insertBefore(b.box);co.svg.addsRefind();co.sidebar.updateSides(!0);b.remove2(!0)}};b.changeHide=function(){n&&(n.remove(),n=null,co.body.off("mousemove",h))};b.price=0;var r;b.imgThrough=r={activated:[],activate:function(a){r.activated.forEach(function(a){return co.svg.addsDeactivate(a.box)});co.svg.addsActivate(a,!1,"image"!==a.addName);r.activated.push(a)},
deactivateAll:function(){r.activated.forEach(function(a){return co.svg.addsDeactivate(a.box)});r.activated.length=0},getPixel:function(a,c){if(2048<b.srcWidth||1464<b.srcHeight)return{r:255,g:255,b:255,a:255};a=4*(a+m.width*c);c=m.data;return{r:c[a],g:c[a+1],b:c[a+2],a:c[a+3]}},solidPixel:function(a,c){var d=co.details.detectDetailUnderCursor({pageX:a,pageY:c});if(d&&$(d).index()>co.svg.addsBox.index())return!1;d=co.svg;var e=d.addLocal(b.box,a,c-co.v.blockOverHeight-co.v.ribbonHeight-co.v.mobileSidesHeight);
a=b.propor();c=d.elemWidth(l);d=d.elemHeight(l);e=co.pointPosAfterRot(360-b.angle(),e.x,e.y,c/2,d/2*a);c=Math.min(Math.max(Math.round(e.x),0),Math.round(c));a=Math.min(Math.max(Math.round(e.y/a),0),Math.round(d));try{var g=r.getPixel(c,a).a}catch(z){g=0}return 50<g},through:function(a){r.deactivateAll();a.fakeVar=co.svg.box.outerHeight;var c=co.elementsFromPoint(a.pageX,a.pageY);if(c&&c.length)for(var d=c.length;d--;){var e=c[d];if(e!==l&&(e=$(e).closest(".add-box"),e.length&&e[0]!==b.box[0])){e=
e[0].addInstance;var g;"image"===e.addName?e.imgThrough.solidPixel(a.pageX,a.pageY)&&(r.activate(e),(g=e["box_"+a.type+"_inner"])&&g.call(e,a)):(r.activate(e),(g=e["box_"+a.type+"_inner"])&&g.call(e,a))}}}};b.assignActions=function(){b.box.mouseenter(function(a){co.v.sideEditable&&(b.imgThrough.solidPixel(a.pageX,a.pageY)||!co.elementsFromPoint?b.box_mouseenter_inner():b.imgThrough.through(a))}).mousemove(function(a){var c=b.imgThrough.solidPixel(a.pageX,a.pageY);!co.v.dragging&&c?co.svg.addsActivate(b):
co.svg.addsDeactivate(b.box);c||!co.elementsFromPoint?b.box_mousemove_inner():b.imgThrough.through(a)}).mouseleave(function(){co.v.dragging||(co.svg.addsDeactivate(b.box),b.imgThrough.deactivateAll())}).mousedown(function(a){co.v.sideEditable&&(b.imgThrough.solidPixel(a.pageX,a.pageY)||!co.elementsFromPoint?b.box_mousedown_inner(a):b.imgThrough.through(a))}).find("image").mousedown(function(a){a.preventDefault()})};b.box_mouseenter_inner=function(){co.v.dragging||co.svg.addsActivate(b);b.changeable.on&&
b.changeShow()};b.box_mousemove_inner=function(){co.v.dragging||co.svg.addsActivate(b);b.changeable.on&&b.changeShow()};b.box_mousedown_inner=function(a){b.selectTime=Date.now();co.v.userAddsAction=!0;b.select();a.originalEvent.dummyDontDrag=!0;co.trans.mousePress(a)}};co.extend(co.AddImage,co.Add);co.AddFigure=function(a){function d(){var a=co.paletteLimited(),b=co.v.addLastColor||co.chain(co.v.curColor.sidesData,co.v.side,"figureDefColor")||"#000000";return a.length&&-1!==a.indexOf(b)?b:a.length?a[0]:b}function g(a,d){c.box.add(b).attr({width:a,height:d});c.box.attr({id:co.lang.w(10,!0,{underscore:1})+"___"+co.v.unical++});b.attr({id:co.lang.w(10,!0,{underscore:1})+"___"+co.v.unical++,x:0,y:0});b.on("mousedown mousemove mouseup",function(a){return a.preventDefault()});e()}function e(){c.place();
c.ready=!0;setTimeout(function(){return $(c).trigger("addready")},0)}function h(a){a=co.details.detectDetailUnderCursor(a);return!!a&&$(a).index()>co.svg.addsBox.index()}co.Add.call(this,a);var c=this;c.addName="figure";(a=co.d(a))||co.svg.addClass(c.box,"figure");var b=a?c.scaleBox.children():null;c.path="";c.pathID=-1;c.composParams={noTrans:!1,noDel:!1,noColoriz:!1,noPrice:!1};var k=null,l=null;c.load=function(a,e){a.is("path")?(b=c.elem($(co.svg.elem("path"))),c.path=a.attr("d"),b.attr({d:c.path,
id:co.lang.w(7,1,{underscore:1})+"___"+co.v.unical++})):co.alert(co.lang.w(8));c.pathID=e;b.css("fill",d());a=co.c.FIGURES_SIZES[e];g(a[0],a[1]);return c};c.duplicate=function(){var a=co.v.unical++;co.svg.addDuplicate(c.id,a);a=new co.AddFigure(a);a.path=c.path;a.pathID=c.pathID;$.extend(a.composParams,c.composParams);a.pattern(q);return a};var m=c.select;c.select=function(a){c.cantSelect||co.Add.cantSelect||(m(),co.mobile?co.mobileBottomTopPanel.stateFigure(c):a||co.sidebar.stateFigure(c));return c};
var n=d(),q=-1;c.color=function(a){a&&("#"!==a.charAt(0)&&(a="#000000"),n=a,co.v.addLastColor=a,b.css("fill",a),-1<q&&c.pattern(-1));return n};c.pattern=function(a){if(co.d(a)){var e=co.svg.box.find("#defs-figure-pattern-"+c.id);e.length&&(e.remove(),l=null);q=a;if(-1<a){var g=co.v.patternsFlat[a];if(g){var f=co.v.domain+"patterns/"+co.v.adminID+"/"+g.id+"."+g.ext;co.wait();$("<img/>").load(function(){e=$(co.svg.elem("defs"));e.attr({id:"defs-figure-pattern-"+c.id});var a=$(co.svg.elem("pattern"));
a.attr({id:"figure-pattern-"+c.id,"class":"figure-pattern",width:g.width,height:g.height});a[0].setAttribute("patternUnits","userSpaceOnUse");var d=$(co.svg.elem("image"));k=a;l=d;a.append(d);e.append(a);co.svg.box.prepend(e);d[0].setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",f);a=n;-1<q&&(a="url(#figure-pattern-"+c.id+")");b.attr("style","fill:"+a);c.patternUpdate();co.nowait();$(c).trigger("pattern-changed")}).error(function(){c.color(d());co.nowait();co.alert(co.lang.w(37));$(c).trigger("pattern-changed")}).attr("src",
f)}}else $(c).trigger("pattern-changed")}return q};c.patternUpdate=function(){if(-1!==q&&l&&k){var a=co.v.patternsFlat[q],b=1/c.propor(),d=c.scale().x,e=co.svg.scale(),g=1/(e*d);d=1/(e*d);l.attr({width:+a.width*g,height:+a.height*d,transform:"scale(1,"+b+")"});k.attr({width:+a.width*g,height:+a.height*d*b})}};var f=c.remove;c.remove=function(){c.pattern(-1);f.call(c)};var r=c.box_mouseenter_inner;c.box_mouseenter_inner=function(a){h(a)?c.box_mouseleave_inner(a):r.call(c,a)};var t=c.box_mousedown_inner;
c.box_mousedown_inner=function(a){h(a)?c.box_mouseleave_inner(a):t.call(c,a)};var u=c.box_mousemove_inner;c.box_mousemove_inner=function(a){h(a)?c.box_mouseleave_inner(a):(c.activated||r.call(c,a),u.call(c,a))};c.colorCopy=function(){co.v.colorizClip={color:n}};c.colorPaste=function(){co.v.colorizClip&&c.color(co.v.colorizClip.color)};c.colorCopySense=function(){return co.v.colorizClip?!co.equalVals({color:n},co.v.colorizClip,["color","mode","brightness","hue","saturation"]):!0};c.colorPasteSense=
function(){return co.v.colorizClip&&"color"in co.v.colorizClip?n!==co.v.colorizClip.color:!1}};co.extend(co.AddFigure,co.Add);co.AddText=function(a,d){function g(){b();$(f).trigger("addready");co.f(d,f)}function e(a,b,c){var d=.55228*c;c="C "+(a+d)+" "+b+", "+(a+c)+" "+(b+c-d)+", "+(a+c)+" "+(b+c)+" C "+(a+c)+" "+(b+c+d)+", "+(a+d)+" "+(b+2*c)+", "+a+" "+(b+2*c)+" C "+(a-d)+" "+(b+2*c)+", "+(a-c)+" "+(b+c+d)+", "+(a-c)+" "+(b+c)+" C "+(a-c)+" "+(b+c-d)+", "+(a-d)+" "+b+", "+a+" "+b;return"M "+a+" "+b+" "+c+" "+c}function h(a,b,c){var d=.55228*c;c="C "+(a+d)+" "+b+", "+(a+c)+" "+(b-c+d)+", "+(a+c)+" "+(b-c)+" C "+(a+c)+" "+
(b-c-d)+", "+(a+d)+" "+(b-2*c)+", "+a+" "+(b-2*c)+" C "+(a-d)+" "+(b-2*c)+", "+(a-c)+" "+(b-c-d)+", "+(a-c)+" "+(b-c)+" C "+(a-c)+" "+(b-c+d)+", "+(a-d)+" "+b+", "+a+" "+b;return"M "+a+" "+b+" "+c+" "+c}function c(){var a=co.paletteLimited(),b=co.v.addLastColor||co.chain(co.v.curColor.sidesData,co.v.side,"textDefColor")||"#000000";return a.length&&-1!==a.indexOf(b)?b:a.length?a[0]:b}function b(){var a=f.style.color;-1<f.style.pattern&&(a="url(#text-pattern-"+f.id+")");p="fill:"+a+";font-weight:"+
f.css.fontWeight+";font-style:"+f.css.fontStyle+";text-decoration:"+f.css.textDecoration+";";x.attr("style",p)}function k(a){var b={"font-family":q(),"font-size":f.style.fontSize,"font-weight":f.style.fontWeight,"text-anchor":["start","middle","end"][["left","center","right"].indexOf(f.style.textAlign)]};x=$(co.svg.multilineTextElem(b,f.style.lineHeight,r));f.elem(x);l(b);f.scaleBox.add(x);f.place();f.select(!0);var c=co.waitPopup.shown,d=c?co.waitPopup.getText():"";c?co.waitPopup.setText(co.lang.w(25)):
co.wait(!1,co.lang.w(25),!1,"createTextElement");f.setFontFamily(f.style.fontFamily,function(){c?co.waitPopup.setText(d):co.nowait(!1,"createTextElement");f.ready=!0;co.f(a)})}function l(a){var b={width:0,height:0};if(f.ready)if(co.d(x[0].duplicateBounding))b=x[0].duplicateBounding,delete x[0].duplicateBounding;else try{if(b=x[0].getBBox(),!b.width||!b.height){setTimeout(function(){return l(a)},100);return}}catch(A){}else b=co.svg.textBoundingVirtual(a,f.style.lineHeight,r);var c={x:0,y:f.style.round?
0:f.style.fontSize,width:b.width,height:b.height,style:p,transform:"translate("+{start:0,middle:b.width/2,end:b.width}[a["text-anchor"]]+")",id:co.lang.w(16,!0,{underscore:1})+"___"+co.v.unical++};$.extend(c,a);x.attr(c);f.box.attr({width:b.width,height:b.height,id:co.lang.w(17,!0,{underscore:1})+"___"+co.v.unical++})}function m(a){if(!f.dontUpdateLayout&&f.text){var b=co.trans.active();b&&co.trans.hide();f.text(r);f.patternUpdate();b&&(co.trans.show(f),co.trans.layoutUpdate());co.mobile?(co.svg.box.hide(),
setTimeout(function(){co.svg.box.show();$(f).trigger("layoutupdated");co.f(a)},0)):($(f).trigger("layoutupdated"),co.f(a))}}function n(a){a=co.details.detectDetailUnderCursor(a);return!!a&&$(a).index()>co.svg.addsBox.index()}function q(){return f.style.fontFamily.includes(" ")?"'"+f.style.fontFamily+"'":f.style.fontFamily}co.Add.call(this,a);var f=this;f.addName="text";(a=co.d(a))||co.svg.addClass(f.box,"text");var r=co.lang.w(15),t=null,u=null;f.dontUpdateLayout=!1;f.styleDefault={fontFamily:"Lobster",
fontSize:20,lineHeight:20,color:c(),pattern:-1,textAlign:"left",round:0};f.style=co.clon(f.styleDefault);co.v.fonts.length&&(f.style.fontFamily=co.v.fonts[0].family);f.css={fontWeight:"normal",fontStyle:"normal",textDecoration:"none"};var p="";f.patternSrc="";f.isRoundedText=!1;f.composParams={noTrans:!1,noDel:!1,noColoriz:!1,noPrice:!1,noEdit:!1,noFont:!1,noBIU:!1,noAlign:!1,noLineh:!1,noRound:!1};(function(){var a=this;f.bold=function(a,c){if(co.d(a)){var d=function(){e||co.nowait(!1,"addTextBold");
co.f(c)},e=co.waitPopup.shown;e||co.wait(!1,co.lang.w(25),!1,"addTextBold");f.css.fontWeight=a?"bold":"normal";b();co.fontCSSIncluder.checkFontReady(f.style.fontFamily,f.bold(),f.italic(),function(){f.dontUpdateLayout?d():m(d)})}return"bold"===f.css.fontWeight};f.italic=function(a,c){if(co.d(a)){var d=function(){e||co.nowait(!1,"addTextItalic");co.f(c)},e=co.waitPopup.shown;e||co.wait(!1,co.lang.w(25),!1,"addTextItalic");f.css.fontStyle=a?"italic":"normal";b();co.fontCSSIncluder.checkFontReady(f.style.fontFamily,
f.bold(),f.italic(),function(){f.dontUpdateLayout?d():m(d)})}return"italic"===f.css.fontStyle};f.boldItalic=function(a,c){if(co.d(a)){var d=function(){e||co.nowait(!1,"addTextBoldItalic");co.f(c)},e=co.waitPopup.shown;e||co.wait(!1,co.lang.w(25),!1,"addTextBoldItalic");f.css.fontWeight=a?"bold":"normal";f.css.fontStyle=a?"italic":"normal";b();co.fontCSSIncluder.checkFontReady(f.style.fontFamily,a,a,function(){f.dontUpdateLayout?d():m(d)})}return f.bold()&&f.italic()};f.normal=function(a,c){if(a){var d=
function(){e||co.nowait(!1,"addTextNormal");co.f(c)},e=co.waitPopup.shown;e||co.wait(!1,co.lang.w(25),!1,"addTextNormal");f.css.fontWeight="normal";f.css.fontStyle="normal";b();co.fontCSSIncluder.checkFontReady(f.style.fontFamily,!1,!1,function(){f.dontUpdateLayout?d():m(d)})}return!f.bold()&&!f.italic()};f.styleIndex=function(a,c){if(co.d(a)){var d=function(){e||co.nowait(!1,"addTextStyleIndex");co.f(c)},e=co.waitPopup.shown;e||co.wait(!1,co.lang.w(25),!1,"addTextStyleIndex");f.css.fontWeight=1===
a||3===a?"bold":"normal";f.css.fontStyle=2===a||3===a?"italic":"normal";b();co.fontCSSIncluder.checkFontReady(f.style.fontFamily,f.bold(),f.italic(),function(){f.dontUpdateLayout?d():m(d)})}return co.styleIndex(f.bold(),f.italic())};f.underline=function(a,c){co.d(a)&&(f.css.textDecoration=a?"underline":"none",b(),f.dontUpdateLayout?co.f(c):m(c));return"underline"===f.css.textDecoration};f.align=function(a,b){co.d(a)&&(f.style.textAlign=a||"left",f.dontUpdateLayout?co.f(b):m(b));return f.style.textAlign};
f.setFontFamily=function(a,b){co.fontCSSIncluder.load(a,f.bold(),f.italic(),function(){f.style.fontFamily=a;f.dontUpdateLayout?co.f(b):m(b)})};f.cyrillicText=function(){return(new RegExp("["+co.c.CYRILLIC_CHARS+"]","g")).test(r)};f.round=function(a){if(co.d(a)){if(a===f.style.round)return a;f.style.round=a;f.isRoundedText=!!a;var b=co.svg.box.find("#defs-text-round-"+f.id);b.length&&b.remove();var c=x.find("textPath");if(a){b=$(co.svg.elem("defs"));b.attr({id:"defs-text-round-"+f.id});var d=e;0>a&&
(a=-a,d=h);a=Math.tan(Math.PI/2*(1-a/100));20<a&&(a=20);a=1E3*Math.tan(a/20*(Math.PI/2));if(15E4<a)return f.round(0);var g=$(co.svg.elem("path"));g.attr({d:d(0,f.style.fontSize,a),id:"path-text-round-"+f.id});b.append(g);co.svg.box.prepend(b);c&&c.length||(b=x.children(),c=$(co.svg.elem("textPath")),x.append(c),c.append(b));co.svg.setXlinkAttr(c,"href","#path-text-round-"+f.id);c[0].setAttribute("startOffset","50%");1!==f.propor()&&(f.propor(1),co.trans.layoutUpdate())}else if(c.length){b=x[0].childNodes;
for(d=0;d<b.length;d++)3===b[0].nodeType&&x[0].removeChild(b[0]);b=c.children();b.length&&x.append(b);c.remove()}x.attr("y",f.style.round?0:f.style.fontSize)}return f.style.round};f.color=function(a,c){co.d(a)&&(-1<f.style.pattern&&f.pattern(-1),f.style.color=a,c||(co.v.addLastColor=a),b());return f.style.color};f.pattern=function(a){if(co.d(a)){var d=co.svg.box.find("#defs-text-pattern-"+f.id);d.length&&(d.remove(),u=null);f.style.pattern=a;f.patternSrc="";if(-1<a){var e=co.v.patternsFlat[a];if(e){var g=
co.v.domain+"patterns/"+co.v.adminID+"/"+e.id+"."+e.ext;co.wait();$("<img/>").load(function(){d=$(co.svg.elem("defs"));d.attr({id:"defs-text-pattern-"+f.id});var a=$(co.svg.elem("pattern"));a.attr({id:"text-pattern-"+f.id,"class":"text-pattern",width:e.width,height:e.height});a[0].setAttribute("patternUnits","userSpaceOnUse");var c=$(co.svg.elem("image"));t=a;u=c;f.patternSrc=g;a.append(c);d.append(a);co.svg.box.prepend(d);co.svg.setImageSrc(c,g);b();f.patternUpdate();co.nowait();$(f).trigger("pattern-changed")}).error(function(){f.color(c());
co.nowait();co.alert(co.lang.w(37));$(f).trigger("pattern-changed")}).attr("src",g)}}else $(f).trigger("pattern-changed")}return f.style.pattern};f.patternUpdate=function(){if(-1!==f.style.pattern&&u){var a=co.v.patternsFlat[f.style.pattern],b=1/f.propor(),c=f.scale().x,d=co.svg.scale(),e=1/(d*c);c=1/(d*c);u.attr({width:+a.width*e,height:+a.height*c,transform:"scale(1,"+b+")"});t.attr({width:+a.width*e,height:+a.height*c*b})}};f.duplicate=function(){var a=co.v.unical++;co.svg.addDuplicate(f.id,a);
a=new co.AddText(a);var b=f.local.bounds();a.elem()[0].duplicateBounding={x:b.x,y:b.y,width:b.width,height:b.heightOrig};a.styleDefault=$.extend({},f.styleDefault);a.style=$.extend({},f.style);a.composParams=$.extend({},f.composParams);a.text(r);a.color(f.color());a.dontUpdateLayout=!0;a.bold(f.bold());a.italic(f.italic());a.underline(f.underline());a.align(f.align());a.dontUpdateLayout=!1;a.pattern(f.style.pattern);co.closeMobileTextEdit();return a};var d=f.select;f.select=function(a){f.cantSelect||
co.Add.cantSelect||(d(),co.mobile?co.mobileBottomTopPanel.stateText(f):a||co.sidebar.stateText(f));return f};f.text=function(a){if(co.d(a)){r=a;var b={"font-family":q(),"font-size":f.style.fontSize,"font-weight":f.style.fontWeight,"text-anchor":["start","middle","end"][["left","center","right"].indexOf(f.style.textAlign)]};a=f.bounds();var c=f.angle(),d=a.width/2,e=a.height/2,g={x:0,y:0},h=co.pointPosAfterRot(c,g.x,g.y,d,e);co.svg.multilineTextElem(b,f.style.lineHeight,r,x[0]);l(b);b=f.local.size();
f.angle(c,{x:b.width/2,y:b.height/2});var k=f.size();b=k.width/2;var p=k.height/2;g={left:g,center:{x:g.x-(k.width-a.width)/2,y:g.y},right:{x:g.x-(k.width-a.width),y:g.y}}[f.style.textAlign];d=co.pointPosAfterRot(c,g.x,g.y,d,e);e=co.pointPosAfterRot(c,g.x,g.y,b,p);c=a.x+(d.x-h.x)+(d.x-e.x);a=a.y+(d.y-h.y)+(d.y-e.y);co.d(c)&&co.d(a)&&!isNaN(c)&&!isNaN(a)&&f.pos(c,a);f.style.round&&(a=f.style.round,f.style.round=0,f.round(a))}return r};f.layoutUpdate=m;var g=f.remove;f.remove=function(){f.pattern(-1);
f.round(0);co.closeMobileTextEdit();g.call(f)};var k=f.box_mouseenter_inner;f.box_mouseenter_inner=function(b){n(b)?f.box_mouseleave_inner(b):k.call(a,b)};var p=f.box_mousedown_inner;f.box_mousedown_inner=function(b){n(b)?f.box_mouseleave_inner(b):p.call(a,b)};var v=f.box_mousemove_inner;f.box_mousemove_inner=function(b){n(b)?f.box_mouseleave_inner(b):(f.activated||k.call(a,b),v.call(a,b))};f.colorCopy=function(){co.v.colorizClip={color:f.style.color}};f.colorPaste=function(){co.v.colorizClip&&f.color(co.v.colorizClip.color)};
f.colorCopySense=function(){return co.v.colorizClip?!co.equalVals({color:f.style.color},co.v.colorizClip,["color","mode","brightness","hue","saturation"]):!0};f.colorPasteSense=function(){return co.v.colorizClip&&"color"in co.v.colorizClip?f.style.color!==co.v.colorizClip.color:!1};f.getTextRect=function(){var a=0,b=0,c=0,d=0,e=co.svg.elemWidth(f.box);r.split("").forEach(function(e,g){try{var f=x[0].getExtentOfChar(g)}catch(I){return}e=f.x+f.width;g=f.y+f.height;a>f.x&&(a=f.x);b>f.y&&(b=f.y);c<e&&
(c=e);d<g&&(d=g)});c-=a;d-=b;"center"===f.style.textAlign?a+=e/2:"right"===f.style.textAlign&&(a+=e);return{x:a,y:b,width:c,height:d}};var D;f.rememberPos=function(){if(!r.length||!f.style.round)return D=void 0;D=f.pos()};f.restorePos=function(){D&&r.length&&f.style.round&&f.pos(D.x,D.y)};f.roundedRotPosCor=function(){if(!f.style.round)return{x:0,y:0};var a=f.getTextRect(),b=f.scale(),c=f.local.size(),d=f.angle();c=co.pointPosAfterRot(d,0,0,c.width/2,c.height/2);a=co.pointPosAfterRot(d,0,0,a.x+a.width/
2,a.y+a.height/2);return{x:(a.x-c.x)*b.x,y:(a.y-c.y)*b.y}};f.roundedRotPosCorGlobal=function(){var a=f.roundedRotPosCor(),b=co.svg.scale();return{x:a.x*b,y:a.y*b}};f.roundedRotStart=function(){if(f.style.round){var a=f.pos(),b=f.roundedRotPosCor();f.pos(a.x-b.x,a.y-b.y)}};f.roundedRotFinish=function(){if(f.style.round){var a=f.local.size(),b=f.angle();f.angle(b,{x:a.width/2,y:a.height/2});a=f.pos();b=f.roundedRotPosCor();f.pos(a.x+b.x,a.y+b.y)}}})();if(a){var x=f.elem();g()}else k(g)};
co.extend(co.AddText,co.Add);co.AddText.add=function(){co.v.sideEditable&&(co.wait(void 0,void 0,void 0,"AddText.add"),co.svgwrap.addClass("transparent"),co.popups.close(),co.v.userAddsAction=!0,new co.AddText(void 0,function(a){co.nowait(void 0,"AddText.add");co.svgwrap.removeClass("transparent");co.v.userCreative=!0;co.mobile?(co.mobileBottomTopPanel.stateText(a),co.mobileSides.update(!0)):co.sidebar.stateText(a)}))};co.Popups=function(){var a=this;co.popups=a;a.shown={models:null,sizes:null,methods:null,images:null,figures:null,details:null};a.show=function(d,g){if(!a.shown[d]||"images"===d&&a.shown.images.param.btn[0]!==co.gt(g,"0.btn.0")){a.close();var e=new function(){co["Popup"+d.capitalize()].apply(this,g)};a.shown[d]=e;e.doAfterClose=function(){a.shown[d]=null};e.show()}};a.close=function(){$.each(a.shown,function(d,g){g&&(g.close(),a.shown[d]=null)})};co.win.on("popstate",a.close)};co.Slider=function(a,d,g,e,h){function c(){t.boxOffset=q.offset().left;t.handleWidth=f.outerWidth();t.width=q.outerWidth()-t.handleWidth;t.pixelRatio=t.width/(g-d)}function b(){t.pressed=!1;f.deactivate();co.docElem.off("touchmove mousemove",k);$(n).trigger("finish",e)}function k(a){t.pressed&&(co.touchCoord(a),a=(a.pageX-t.boxOffset-t.mouseDif).range(0,t.width),l(a/t.pixelRatio),$(n).trigger("change",e))}function l(a){a=a.range(d,g);var b=a*t.pixelRatio;co.d(b)?(b=b.range(0,t.width),f.css("left",
b),h?(b-=t.width/2,r.css({width:Math.abs(b),transform:0>b?"translate(-100%,0)":"none"})):r.css("width",b+3)):f.position();e=a}function m(){document.body.contains(q[0])?(c(),co.d(e)&&l(e)):(co.win.off("resize",m),co.win.off("resizeEnd",m))}var n=this,q=$(a),f=q.find(".handle"),r=q.find(".line"),t={pressed:!1,mouseDif:0,boxOffset:null,width:0,pixelRatio:1,handleWidth:0};c();n.reinit=c;f.on("touchstart mousedown",function(a){co.touchCoord(a);t.pressed=!0;t.mouseDif=a.pageX-f.offset().left;f.activate();
co.docElem.one("touchend mouseup",b);co.docElem.on("touchmove mousemove",k)});n.endMouseMove=function(){return b()};n.pos=function(a,b){return co.d(a)?(l(a),!0!==b&&($(n).trigger("change",e),$(n).trigger("finish",e)),a):e};co.d(e)&&l(e);co.win.on("resize",m);co.win.on("resizeEnd",m)};co.Sidebar=function(){function a(){r.detach();f.detach();co.zoom.hide();h();co.centralPlaceUpdate()}function d(){co.zoom.show();q.prepend(r,f);n.updateSides();m()}function g(){n.box.attr("class",function(a,b){return b.replace(/(^|\s)state-\S+/g,"")});n.box.addClass("state-"+p)}function e(a,b,c,d,e){var g=co.svg.box,f=g.find("g.side:eq("+b+") image.layer-base"),h=+f.attr("width");f=+f.attr("height");if(h&&f){g=g.clone();d-=6;c=e-4-c;g.find(".area-frame").remove();co.sidesReplaceIDs(g,b);e=g.find("g.side");
b=e.eq(b);var k=d/h,m=c/f;k=k<m?k:m;h=(d-h*k)/2/k+2/k;f=(c-f*k)/2/k+2/k;e.attr("visibility","hidden");b.attr({width:d,height:c,transform:"scale("+k+") translate("+h+","+f+")",visibility:"visible"});g.attr({width:d,height:c});a.append(g)}}function h(){var a=$("div.widget",n.box);a.length&&a.remove();n.box.removeClass("has-widgets");n.box.attr("class",function(a,b){return b.replace(/(^|\s)has-widget-\S+/g,"")});u.length=0}function c(a){a.dontShow||(u.push(a),t.append(a.box),n.box.addClass("has-widgets has-widget-"+
a.name).scrollTop(0),a.updateLayout())}function b(a){for(var b=0;b<u.length;b++)if(u[b].constructor===a)return u[b];return null}function k(){function a(){c(new co.WidgetDescr(b))}var b=co.chain(co.v.bases,co.v.base,"models",co.v.model,"colors",co.v.color,"sidesDescr",co.v.side);if(b){if("-"===b.text)return;if(b.text)return a()}if(b=co.chain(co.v.bases,co.v.base,"models",co.v.model,"colors",co.v.color,"descr")){if("-"===b.text)return;if(b.text)return a()}if(b=co.chain(co.v.bases,co.v.base,"models",
co.v.model,"descr")){if("-"===b.text)return;if(b.text)return a()}if((b=co.chain(co.v.bases,co.v.base,"descr"))&&"-"!==b.text&&b.text)return a()}function l(a){a=a||{};a.scrollRestore&&(x=n.box.scrollTop());var c=co.v.blockOverHeight,d=co.v.blockUnderHeight;co.v.blockOverHeight&&n.box.css("margin-top",c+"px");n.box.css("max-height","none");n.box.toggleClass("vert-scroll",n.box.outerHeight()>(c||d?co.win.height()-c-d:co.win.height()));n.box.css("max-height",c||d?co.win.height()-c-d+"px":"100%");co.zoom.update();
if(c=b(co.WidgetFont))c=$("li.active",c.box),c.length&&n.box.scrollTop(c.offset().top-co.v.blockOverHeight-Math.floor(co.win.height()/2)+15);n.box.toggleClass("no-widgets",!u.length);c=n.box.is(":visible");l.lastVisible!==c&&co.svg.updateDummyLayout();l.lastVisible=c;co.centralPlaceUpdate();a.scrollRestore&&null!==x&&(n.box.scrollTop(x),x=null)}function m(){"default"===p&&(co.canShowLangSelection()?(n.box.removeClass("no-langs"),r.empty(),co.lang.translatesLangs.forEach(function(a,b){var c=$('<div class="item lang-'+
a.code+'">'+a.selfname+"</div>");a===co.lang.userlangObj&&c.activate();c.click(function(){r.children().deactivate();c.activate();co.lang.setLangs({userlang:a})});b&&r.append("<i>&nbsp;</i>");r.append(c)})):(r.remove(),n.box.addClass("no-langs")))}var n=this;co.sidebar=n;n.box=co.box.find(".sidebar");var q=n.box.children(),f=n.box.find(".sides"),r=n.box.find(".langs"),t=n.box.find(".widgets"),u=[],p="none";n.dontUpdateAllSides=!1;new co.Zoom;n.runInDontUpdateAllSidesMode=function(a){var b=n.dontUpdateAllSides;
n.dontUpdateAllSides=!0;a();n.dontUpdateAllSides=b};n.stateDefault=function(){p="default";a();var b=co.chain(co.v.bases,co.v.base,"models",co.v.model,"colors",co.v.color,"layers",co.v.side);(co.areaOn()||b&&null!==co.arrayObject(b,"type","custom"))&&c(new co.WidgetSideLayers);k();co.svg.adds.length&&c(new co.WidgetLayers);d();g();l()};n.stateImage=function(b){p="image";a();co.mobile||n.runInDontUpdateAllSidesMode(d);c(new co.WidgetImage(b));g();l()};n.stateFigure=function(b){p="figure";a();co.mobile||
n.runInDontUpdateAllSidesMode(d);c(new co.WidgetFigure(b));g();l()};n.stateText=function(b){p="text";a();co.mobile||n.runInDontUpdateAllSidesMode(d);c(new co.WidgetText(b));g();l()};n.stateFont=function(b,e){p="font";a();co.mobile||n.runInDontUpdateAllSidesMode(d);e=new co.WidgetFont(b,e);c(e);n.stateFont.add=b;g();l();return{widgetFont:e}};n.updateSides=function(a){n.dontUpdateAllSides&&(a=!0);var b=n.box.scrollTop();a||f.empty();var c=co.v.curModel.sides;if(2>c.length)n.box.addClass("no-sides");
else{n.box.removeClass("no-sides");var d=80,g=98;if(co.desktop||co.mobile)switch(c.length){case 2:d=125;g=130;break;case 4:d=125,g=98}else d=120,g=100;Array.isArray(a)&&a.forEach(function(a){var b=f.children().eq(a);b.children("svg").remove();e(b,a,b.children("span").outerHeight(),d,g)});a?(a=f.children().eq(co.v.side),a.children("svg").remove(),e(a,co.v.side,a.children("span").outerHeight(),d,g)):c.forEach(function(a,b){var c=$("<div></div>");c.css({width:d,height:g});f.append(c);var h=$('<span data-translate="'+
co.lang.transID(a)+'"></span>');h.text(co.lang.trans(a));c.append(h);e(c,b,h.outerHeight(),d,g);b===co.v.side&&c.activate();c.click(function(){n.selSide(b)})});l();n.box.scrollTop(b)}};n.selSide=function(a,b){function c(){d++;2===d&&co.f(b)}if(co.v.side===a)return co.f(b);if(a>=co.svg.dummies().length)throw Error("wrong side ID");var d=0;$(co).one("selSideComplete",c);co.selRegul.selSide(a);f.children().deactivate().eq(a).activate();n.runInDontUpdateAllSidesMode(function(){n.stateDefault()});c()};
n.selSideUpdate=function(){f.children().deactivate().eq(co.v.side).activate()};n.layerActivate=function(a){if("default"===p){var c=b(co.WidgetLayers);c&&c.itemActivate(a)}};n.layersDeactivate=function(){if("default"===p){var a=b(co.WidgetLayers);a&&a.itemsDeactivate()}};n.updateLayout=l;l();var x=null;co.win.on("resizeEnd",function(){var a=b(co.WidgetLayers);a&&a.updateLayout();(a=b(co.WidgetFont))&&a.updateLayout();n.stateDefault();co.centralPlaceUpdate()});n.updateLangs=m;m()};co.MobileBottomTopPanel=function(){function a(){e.state=e.STATE_UNDEFINED;e.add=null;h.empty();d()}function d(){c&&c.close();b&&b.close();k&&k.close();l&&l.close();m&&m.close();q&&q.close();f&&f.close();r&&r.close();t&&t.close()}function g(){co.v.userCreative=!0;co.v.userAddsAction=!0}var e=this;co.mobileBottomTopPanel=e;var h=$(".mobile-bottom-top-panel"),c=null,b=null,k=null,l=null,m=null,n=null,q=null,f=null,r=null,t=null;co.closeMobileTextEdit=function(){n&&n.close()};co.curMobileTextEdit=function(){return n};
e.STATE_UNDEFINED="undefined";e.STATE_DEFAULT="default";e.STATE_IMAGE="image";e.STATE_FIGURE="figure";e.STATE_TEXT="text";e.state=e.STATE_UNDEFINED;e.dontChangeState=!1;e.add=null;e.stateDefault=function(){function b(a){return co.v.sideEditable&&co.addsFeature(a,"on")}if(!e.dontChangeState&&e.state!==e.STATE_DEFAULT){e.add=null;a();var c=co.lang.applyToTemplate($(co.tpls.mobileBottomTopPanelDefault)),g=c.find(".btns-adds"),f=c.find(".width-checker"),k=c.find(".btn-image"),m=c.find(".btn-figure"),
l=c.find(".btn-text"),n=c.find(".btn-lang"),q=b("image"),r=b("figure"),B=b("text"),w=co.canShowLangSelection();q||k.remove();r||m.remove();B||l.remove();w||n.remove();q&&(q=co.gt(co.v,"face.nav.image.text"),co.d(q)&&k.find("span").txt(q),k.click(function(){co.popups.show("images")}),c.addClass("has-btn-image"));r&&(k=co.gt(co.v,"face.nav.figure.text"),co.d(k)&&m.find("span").txt(k),m.click(function(){co.body.removeClass("nav-closed");setTimeout(function(){co.popups.show("figures")},400)}),c.addClass("has-btn-figure"));
B&&(m=co.gt(co.v,"face.nav.text.text"),co.d(m)&&l.find("span").txt(m),l.click(function(){co.AddText.add()}),c.addClass("has-btn-text"));w&&(n.find("span").text(co.lang.userlangObj.code),n.click(function(){var a=t;d();a||(t=co.showLangPop({selected:function(a){n.find("span").text(a.code);co.lang.setLangs({userlang:a})},closed:function(){t=null}}))}),c.addClass("has-btn-lang"));h.append(c);l=f.width();w=g.width();l>w&&(c.addClass("small-texts"),l=f.width(),w=g.width(),l>w&&c.removeClass("small-texts").addClass("no-texts"))}};
e.stateImage=function(f){function m(a){return!f.composParams.noColoriz&&co.addsFeature("image",a)}function n(){f.coloriz.mode===f.coloriz.MODE_SUBTRACT&&f.coloriz.color!==f.coloriz.COLOR_DEFAULT?F.activate():F.deactivate();f.coloriz.mode===f.coloriz.MODE_FILL&&f.coloriz.color!==f.coloriz.COLOR_DEFAULT?v.activate():v.deactivate();f.coloriz.brightness?D.activate():D.deactivate();1!==f.coloriz.saturation?B.activate():B.deactivate();f.coloriz.hue?w.activate():w.deactivate()}if(!(e.dontChangeState||e.state===
e.STATE_IMAGE&&e.add===f)){if(f.composParams.noColoriz)return e.stateDefault();e.add=f;a();var u=co.lang.applyToTemplate($(co.tpls.mobileBottomTopPanelImage)),q=u.find(".btns-image"),r=!!co.paletteLimited().length,t={color:m("subtract")&&!r,fill:m("fill"),bright:m("brightness")&&!r,satur:m("saturation")&&!r,hue:m("hue")&&!r};r=Object.keys(t).filter(function(a){return t[a]}).length;if(!r)return e.stateDefault();4>r&&q.addClass("limit-btns-width");var F=q.find(".btn-color"),v=q.find(".btn-fill"),D=
q.find(".btn-bright"),B=q.find(".btn-satur"),w=q.find(".btn-hue");t.color||F.remove();t.fill||v.remove();t.bright||D.remove();t.satur||B.remove();t.hue||w.remove();n();t.color&&F.click(function(){var a=c;d();a&&"image-color-subtract"===a.name||(c=co.showMobileColorPicker({name:"image-color-subtract",initColor:f.coloriz.color,selected:function(a){f.coloriz.mode="subtract";f.coloriz.color=a;f.coloriz.apply();f.coloriz.mode===f.coloriz.MODE_SUBTRACT&&f.coloriz.color!==f.coloriz.COLOR_DEFAULT?(F.activate(),
t.fill&&v.deactivate()):F.deactivate();g()},finished:function(){co.updateSides(!0)},closed:function(){c=null},showClearBtn:!0,cleared:function(){f.coloriz.mode=f.coloriz.defaultMode;f.coloriz.color=f.coloriz.COLOR_DEFAULT;f.coloriz.apply();g();n();co.updateSides(!0)}}))});t.fill&&v.click(function(){var a=c;d();a&&"image-color-fill"===a.name||(c=co.showMobileColorPicker({name:"image-color-fill",initColor:f.coloriz.color,dontActivateInitColor:f.coloriz.isDefault,bodyClass:"mobile-limited-color-picker-shown-for-image-fill",
selected:function(a){f.coloriz.mode="fill";f.coloriz.color=a;f.coloriz.apply();f.coloriz.mode===f.coloriz.MODE_FILL&&f.coloriz.color!==f.coloriz.COLOR_DEFAULT?(v.activate(),t.color&&F.deactivate()):v.deactivate();g()},finished:function(){co.updateSides(!0)},closed:function(){c=null},showClearBtn:!0,cleared:function(){f.coloriz.mode=f.coloriz.defaultMode;f.coloriz.color=f.coloriz.COLOR_DEFAULT;f.coloriz.apply();g();n();co.updateSides(!0)}}))});t.bright&&D.click(function(){var a=b;d();a||(b=co.showMobileColorSliderPop({tplKey:"mobileBrightnessSliderPop",
initVal:f.coloriz.brightness,bodyClass:"mobile-brightness-slider-pop-shown",selected:function(a){f.coloriz.brightness=a;f.coloriz.apply();a?D.activate():D.deactivate();g()},finished:function(){co.updateSides(!0)},closed:function(){b=null},cleared:function(){f.coloriz.brightness=0;f.coloriz.apply();g();n();co.updateSides(!0)}}))});t.satur&&B.click(function(){var a=k;d();a||(k=co.showMobileColorSliderPop({tplKey:"mobileSaturationSliderPop",initVal:f.coloriz.saturation/2,bodyClass:"mobile-saturation-slider-pop-shown",
selected:function(a){f.coloriz.saturation=2*a;f.coloriz.apply();1!==a?B.activate():B.deactivate();g()},finished:function(){co.updateSides(!0)},closed:function(){k=null},cleared:function(){f.coloriz.saturation=1;f.coloriz.apply();g();n();co.updateSides(!0)}}))});t.hue&&w.click(function(){var a=l;d();a||(l=co.showMobileColorSliderPop({tplKey:"mobileHueSliderPop",initVal:f.coloriz.hue/360,bodyClass:"mobile-hue-slider-pop-shown",selected:function(a){f.coloriz.hue=360*a;f.coloriz.apply();a?w.activate():
w.deactivate();g()},finished:function(){co.updateSides(!0)},closed:function(){l=null},cleared:function(){f.coloriz.hue=0;f.coloriz.apply();g();n();co.updateSides(!0)}}))});h.append(u)}};e.stateFigure=function(b){if(!(e.dontChangeState||e.state===e.STATE_FIGURE&&e.add===b)){e.add=b;a();var f=co.lang.applyToTemplate($(co.tpls.mobileBottomTopPanelFigure)),k=f.find(".btns-figure"),l=!!co.paletteLimited().length,n={color:!b.composParams.noColoriz&&co.addsFeature("figure","color"),pattern:!b.composParams.noColoriz&&
co.addsFeature("figure","pattern")&&!l&&co.v.patternsFlat.length};l=Object.keys(n).filter(function(a){return n[a]}).length;if(!l)return e.stateDefault();4>l&&k.addClass("limit-btns-width");l=k.find(".btn-color");k=k.find(".btn-pattern");n.color||l.remove();n.pattern||k.remove();n.color&&l.click(function(){var a=c;d();a&&"figure-color"===a.name||(c=co.showMobileColorPicker({name:"figure-color",initColor:b.color(),bodyClass:"mobile-figure-color-picker-shown",selected:function(a){b.color(a);g()},finished:function(){co.updateSides(!0)},
closed:function(){c=null}}))});n.pattern&&k.click(function(){var a=c;d();a||(m=co.showMobilePatternPicker({initID:b.pattern(),titleID:115,selected:function(a){$(b).one("pattern-changed",function(){co.updateSides(!0)});b.pattern(a);-1===a&&b.color(b.color());g()},closed:function(){m=null}}))});h.append(f)}};e.stateText=function(b){function k(a){return co.addsFeature("text",a)}function l(){w.bold&&E.toggleClass("active",b.bold());w.italic&&H.toggleClass("active",b.italic());w.underline&&M.toggleClass("active",
b.underline());w.alignLeft&&G.toggleClass("active","left"===b.align());w.alignCenter&&I.toggleClass("active","center"===b.align());w.alignRight&&J.toggleClass("active","right"===b.align());w.pattern&&P.toggleClass("active",-1!==b.pattern());w.round&&N.toggleClass("active",0!==b.round())}function u(a,c){var f=q;d();f||(q=co.showMobileFontPicker({panel:e,add:b,selected:function(){co.f(c)},closed:function(){q=null},updateBtnsActivation:l,otherFonts:a}))}function t(){d();g();e.dontChangeState=!1;co.updateSides(!0)}
function C(a,c){function d(a){b.styleIndex(f,function(){t();l();co.f(a)})}var f=co.styleIndex(a?!b.bold():b.bold(),c?!b.italic():b.italic()),g=co.fontsOfStyle(co.v.fonts,f);a=co.fontByFamily(b.style.fontFamily);e.dontChangeState=!0;a.styles[f]?d(function(){A()}):(a=co.lang.w([0,205,206,207][f]),g.length?co.confirm(a+" "+co.lang.w(208),function(a){a&&u(g,function(){b.styleIndex()!==f&&(e.dontChangeState=!0,d())})}):co.alert(a))}function A(){if(w.bold){var a=b.italic()?3:1;a=co.fontsOfStyle(co.v.fonts,
a);E.toggle(!!a.length)}w.italic&&(a=b.bold()?3:2,a=co.fontsOfStyle(co.v.fonts,a),H.toggle(!!a.length))}if(!(e.dontChangeState||e.state===e.STATE_TEXT&&e.add===b)){e.add=b;a();var F=co.lang.applyToTemplate($(co.tpls.mobileBottomTopPanelText)),v=F.find(".overflow"),D=F.find(".btns-text"),B=!!co.paletteLimited().length,w={edit:!b.composParams.noEdit,font:k("font")&&!b.composParams.noFont,color:k("color")&&!b.composParams.noColoriz,bold:k("bold")&&!b.composParams.noBIU,italic:k("italic")&&!b.composParams.noBIU,
underline:k("underline")&&!b.composParams.noBIU,alignLeft:k("align")&&!b.composParams.noAlign,alignCenter:k("align")&&!b.composParams.noAlign,alignRight:k("align")&&!b.composParams.noAlign,pattern:k("pattern")&&!b.composParams.noColoriz&&!B&&co.v.patternsFlat.length,round:k("round")&&!b.composParams.noRound,lineHeight:k("lineh")&&!b.composParams.noLineh};B=Object.keys(w).filter(function(a){return w[a]}).length;if(!B)return e.stateDefault();4>B&&D.addClass("limit-btns-width");B=D.find(".btn-edit");
var L=D.find(".btn-font"),K=D.find(".btn-color"),E=D.find(".btn-bold"),H=D.find(".btn-italic"),M=D.find(".btn-underline"),G=D.find(".btn-align-left"),I=D.find(".btn-align-center"),J=D.find(".btn-align-right"),P=D.find(".btn-pattern"),N=D.find(".btn-round");D=D.find(".btn-line-height");w.edit||B.remove();w.font||L.remove();w.color||K.remove();w.bold||E.remove();w.italic||H.remove();w.underline||M.remove();w.alignLeft||G.remove();w.alignCenter||I.remove();w.alignRight||J.remove();w.pattern||P.remove();
w.round||N.remove();w.lineHeight||D.remove();l();w.edit&&B.click(function(){var a=n;d();a&&"text-color"===a.name||(n=co.showMobileTextEdit({add:b,rounded:!!b.round(),initText:b.text(),bodyClass:"mobile-text-edit-shown",changed:function(a){b.text(a);co.trans.active()?co.trans.layoutUpdate():co.trans.show(b);g();co.updateSides(!0)},closed:function(){n=null}}))});w.font&&L.click(function(){return u()});w.color&&K.click(function(){var a=c;d();a&&"text-color"===a.name||(c=co.showMobileColorPicker({name:"text-color",
initColor:b.color(),bodyClass:"mobile-text-color-picker-shown",selected:function(a){b.color(a);g()},finished:function(){P.toggleClass("active",-1!==b.pattern());co.updateSides(!0)},closed:function(){c=null}}))});w.bold&&E.click(function(){C(!0,!1)});w.italic&&H.click(function(){C(!1,!0)});A();w.underline&&M.click(function(){var a=!b.underline();M.toggleClass("active",a);e.dontChangeState=!0;b.underline(a,t)});w.alignLeft&&G.click(function(){"left"!==b.align()&&(G.activate(I.add(J)),e.dontChangeState=
!0,b.align("left",t))});w.alignCenter&&I.click(function(){"center"!==b.align()&&(I.activate(G.add(J)),e.dontChangeState=!0,b.align("center",t))});w.alignRight&&J.click(function(){"right"!==b.align()&&(J.activate(G.add(I)),e.dontChangeState=!0,b.align("right",t))});w.pattern&&P.click(function(){var a=m;d();a||(m=co.showMobilePatternPicker({initID:b.pattern(),titleID:115,selected:function(a){$(b).one("pattern-changed",function(){co.updateSides(!0)});b.pattern(a);-1===a&&b.color(b.color());g();P.toggleClass("active",
-1!==a)},closed:function(){m=null}}))});w.round&&N.click(function(){var a=r;d();a||(r=co.showMobileTextRoundPop({initRound:b.round(),text:b.text(),bodyClass:"mobile-text-round-pop-shown",selected:function(a){b.round(a);co.trans.layoutUpdate();co.trans.updateNoScales();g()},finished:function(){N.toggleClass("active",0!==b.round());co.updateSides(!0)},closed:function(){r=null}}))});w.lineHeight&&D.click(function(){var a=f;d();a||(f=co.showMobileLineHeightPop({initLineHeight:b.style.lineHeight,defaultLineHeight:b.styleDefault.lineHeight,
bodyClass:"mobile-line-height-pop-shown",selected:function(a){b.style.lineHeight=a;b.round()||(e.dontChangeState=!0,$(b).one("layoutupdated",function(){e.dontChangeState=!1}),b.layoutUpdate());g()},finished:function(){co.updateSides(!0)},closed:function(){f=null}}))});h.append(F);F=v.width();D=v[0].scrollWidth;D>F&&(v.addClass("overflowing"),v.animate({scrollLeft:D-F},0).animate({scrollLeft:0},1E3))}};co.win.on("resizeEnd",function(){e.stateDefault()})};co.MobileBottomBottomPanel=function(){var a=this;co.mobileBottomBottomPanel=this;var d=$(".mobile-bottom-bottom-panel"),g=d.find(".btn-nav-open"),e=d.find(".sum"),h=e.find("span"),c=e.children("i"),b=d.find(".btn-order");g.click(function(){co.body.toggleClass("nav-closed")});b.click(function(){co.order.popOrder()});this.sum={init:function(){var b=co.v.face.nav;b&&b.sum&&co.d(b.sum.text)&&h.txt(b.sum.text||"");return a},show:function(){e.show();d.removeClass("sum-hidden");return a},hide:function(){e.hide();
d.addClass("sum-hidden");return a},val:function(b){co.d(b)&&c.html(co.v.calc.curLeft?co.v.calc.cur+"<i>"+b+"</i>":"<i>"+b+"</i> "+co.v.calc.cur);return a}};this.sum.init()};co.Zoom=function(){co.zoom=this;var a=co.sidebar.box,d=a.children(),g=a.find(".zoom-wrap"),e=new co.Slider(a.find(".zoom"),0,700,90),h=!0;this.hide=function(){h&&(h=!1,g.detach(),a.addClass("no-zoom"))};this.show=function(){h||co.v.face.hideScale||(d.prepend(g),a.removeClass("no-zoom"),e.reinit(),h=!0)};this.update=function(){h&&e.reinit()};this.deflt=function(){h?e.pos(90):co.svg.scale(co.v.zoomDef)};this.pos=function(a){if(co.d(a))e.pos(a);else return h?e.pos():90};$(e).change(function(a,b){co.svg.scale(b/
90*co.v.zoomDef)});this.hide()};co.Palette=function(a){function d(){var a=k(b({h:p,s:1,v:1}));n.css("background","linear-gradient(transparent,black), linear-gradient(to right,white,"+a+")")}function g(){f.css({left:100*x+"%",top:100*(1-y)+"%"})}function e(){r.css("top",(360-p)/3.6+"%")}function h(){return k(b({h:p,s:x,v:y}))}function c(){f.css("color",h())}function b(a){var b,c;var d=a.h;var e=a.s,f=a.v;0===e?d=b=c=255*f:(a=255*f,e=(1-e)*f*255,f=d%60*(a-e)/60,360===d&&(d=0),60>d?(d=a,c=e,b=e+f):120>d?(b=a,c=e,d=a-f):180>d?(b=a,
d=e,c=e+f):240>d?(c=a,d=e,b=a-f):300>d?(c=a,b=e,d=e+f):360>d?(d=a,b=e,c=a-f):c=b=d=0);return{r:Math.round(d),g:Math.round(b),b:Math.round(c)}}function k(a){return"#"+[a.r.toString(16),a.g.toString(16),a.b.toString(16)].map(function(a){return 1===a.length?"0"+a:a}).join("")}var l=$.extend({box:$(),initColor:"#ffffff",selected:function(a){},finished:function(a){}},a),m=$(document.documentElement),n=l.box.find(".main-rect"),q=l.box.find(".hue-rect"),f=n.find(".picker"),r=q.find(".picker");a="mousedown";
var t="mousemove",u="mouseup",p=0,x=0,y=0;co.touchDevice&&(a="touchstart",t="touchmove",u="touchend");this.getColor=function(){return h()};this.setColor=function(a,b){var f=parseInt(a.replace(/[^0-9A-F]/gi,""),16);a=f>>16&255;var k=f>>8&255;f&=255;var m=Math.max(a,k,f),n=Math.min(a,k,f),q=m-n;if(m===n)var u=0;else{switch(m){case a:u=(k-f)/q+(k<f?6:0);break;case k:u=(f-a)/q+2;break;case f:u=(a-k)/q+4}u/=6}p=360*u;x=0===m?0:q/m;y=m/255;0===x&&(p=300);d();g();e();c();b&&(l.selected(h()),l.finished(h()))};
this.setColor(l.initColor,!1);n.on(a+".palette",function(a){function b(a){if(co.touchDevice){var b=a.originalEvent.touches[0].pageX;a=a.originalEvent.touches[0].pageY}else b=a.pageX,a=a.pageY;b-=d.left;a-=d.top;0>b&&(b=0);b>d.width&&(b=d.width);0>a&&(a=0);a>d.height&&(a=d.height);x=b/d.width;y=1-a/d.height;g();c();l.selected(h())}a.preventDefault();var d=n[0].getBoundingClientRect();b(a);m.on(t+".palette",function(a){a.preventDefault();b(a)});m.one(u+".palette",function(a){m.off(t+".palette");l.finished(h())})});
q.on(a+".palette",function(a){function b(a){a=co.touchDevice?a.originalEvent.touches[0].pageY-f.top:a.pageY-f.top;0>a&&(a=0);a>f.height&&(a=f.height);p=Math.round(360*(1-a/f.height));e();d();c();l.selected(h())}a.preventDefault();var f=q[0].getBoundingClientRect();b(a);m.on(t+".palette",function(a){a.preventDefault();b(a)});m.one(u+".palette",function(a){m.off(t+".palette");l.finished(h())})});window._hsvToRgb=b};co.Widget=function(a,d){this.name="simple";this.add=d;this.box=co.lang.applyToTemplate($(co.tpls[a]));this.updateLayout=$.noop};co.WidgetSideLayers=function(){co.Widget.call(this,"widgetSideLayers");this.name="side-layers";var a=this.box.children("h3"),d=this.box.find(".layers-list"),g=d.children().remove();co.v.face.hideLayers?(this.dontShow=!0,this.box.remove(),this.updateLayout=$.noop):(this.updateLayout=function(){d.css("max-height",co.win.height()-d.offset().top-14+"px")},function(){d.empty();var e=co.v.side,h=co.v.curColor.layers[e],c=0;h.forEach(function(a,b){if("custom"===a.type){var k=g.clone();b=h.length-1-b;var f=
$("h4",k),m=co.svg.box.find("g.side").eq(e).children().eq(b);f.lang(a.title);k.addClass("switchable").dataAttr("lang-title",62).attr("title",co.lang.w(62));"hidden"===m.attr("visibility")&&k.addClass("off");k.click(function(){"hidden"!==m.attr("visibility")?(m.attr("visibility","hidden"),k.addClass("off")):(m.removeAttr("visibility"),k.removeClass("off"))});d.append(k);c++}});c||a.remove();d.append("<div></div>");if(co.areaOn()){var b=g.clone(),k=b.find("h4");b.addClass("area");var l=co.svg.box.find("g.side").eq(e).find("g.adds");
l.attr("clip-path")?k.dataAttr("lang",64).text(co.lang.w(64)):(b.addClass("off"),k.dataAttr("lang",63).text(co.lang.w(63)));b.click(function(){l.attr("clip-path")?(l.attr("clip-path",""),b.addClass("off"),k.dataAttr("lang",63).text(co.lang.w(63))):(l.attr("clip-path","url(#area"+e+")"),b.removeClass("off"),k.dataAttr("lang",64).text(co.lang.w(64)))});d.append(b)}}())};co.extend(co.WidgetSideLayers,co.Widget);co.WidgetLayers=function(){co.Widget.call(this,"widgetLayers");this.name="layers";var a=this.box.find(".layers-list"),d=co.svg,g=a.find(".image").remove(),e=a.find(".figure").remove(),h=a.find(".text").remove();this.updateLayout=$.noop;(function(){a.children().remove();d.adds.each(function(){var c=$(this),b=this.addInstance;if(d.hasClass(c,"image")){var k=c.children().children(),l=g.clone(),m=l.find(".img img"),n=l.find("h4"),q=!1;d.hasClass(c,"add-duplicate")&&n.text(n.text()+" ("+co.lang.w(61)+
")");m.attr("src",k.attr("xlink:href"));b.coloriz.isDefault||m.css({filter:b.scaleBox.attr("filter")});l.on("mouseup touchend",function(){q?q=!1:co.v.sideEditable&&(b.select(),co.v.userAddsAction=!0)});var f;l.on("sortStarted",function(){q=!0;a.children().each(function(a){this.order=a});f=[]});l.on("sortFinished",function(){q=!1});l.on("sortUpdated",function(){a.children().each(function(){f.push(this.order)});d.addsReorder(f);a.children().each(function(a){this.order=a});f=[]});l.mouseover(function(){co.v.sideEditable&&
d.addsActivate(b,!0)});l.mouseleave(function(){d.addsDeactivate(void 0,!0)});co.v.sideEditable?l.sortableItem():l.addClass("no-select");a.prepend(l)}else if(d.hasClass(c,"figure")){k=e.clone();l=k.find(".img");m=k.find("h4");var r=!1;d.hasClass(c,"add-duplicate")&&m.text(m.text()+" ("+co.lang.w(61)+")");c=b.elem();l.append('<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 '+c.attr("width")+" "+c.attr("height")+'" width="40" height="40">'+co.svg.getCode(c[0])+"</svg>");k.on("mouseup touchend",
function(){r?r=!1:co.v.sideEditable&&b.select()});var t;k.on("sortStarted",function(){r=!0;a.children().each(function(a){this.order=a});t=[]});k.on("sortFinished",function(){r=!1});k.on("sortUpdated",function(){a.children().each(function(){t.push(this.order)});d.addsReorder(t);a.children().each(function(a){this.order=a});t=[]});k.mouseover(function(){co.v.sideEditable&&d.addsActivate(b,!0,!0)});k.mouseleave(function(){d.addsDeactivate(void 0,!0)});co.v.sideEditable?k.sortableItem():k.addClass("no-select");
a.prepend(k)}else if(d.hasClass(c,"text")){k=h.clone();l=k.find(".img i");m=k.find("h4");var u=!1;d.hasClass(c,"add-duplicate")&&m.text(m.text()+" ("+co.lang.w(61)+")");l.css("background-color",b.style.color);b.patternSrc&&l.css("background-image","url("+b.patternSrc+")");m.html(b.text().replace(/\n/g," "));m.css($.extend({},b.css,{fontFamily:b.style.fontFamily}));k.on("mouseup touchend",function(){u?u=!1:co.v.sideEditable&&b.select()});var p;k.on("sortStarted",function(){u=!0;a.children().each(function(a){this.order=
a});p=[]}).on("sortFinished",function(){u=!1}).on("sortUpdated",function(){a.children().each(function(){p.push(this.order)});d.addsReorder(p);a.children().each(function(a){this.order=a});p=[]}).mouseover(function(){co.v.sideEditable&&d.addsActivate(b,!0,!0)}).mouseleave(function(){d.addsDeactivate(void 0,!0)});co.v.sideEditable?k.sortableItem():k.addClass("no-select");a.prepend(k)}})})();this.itemActivate=function(c){a.children().deactivate().eq(c).activate()};this.itemsDeactivate=function(){a.children().deactivate()}};
co.extend(co.WidgetLayers,co.Widget);co.WidgetImage=function(a){function d(){if(co.addsFeature("image","subtract")||co.addsFeature("image","fill")){var b=x.is(":visible"),c=!a.coloriz.isDefault&&!a.composParams.noColoriz;x.toggle(c);p.toggleClass("vis",c||C.is(":visible")||A.is(":visible"));b!==c&&co.sidebar.updateLayout({scrollRestore:!0})}else x.hide(),p.toggleClass("vis",C.is(":visible")||A.is(":visible")),co.sidebar.updateLayout({scrollRestore:!0})}function g(){var b=x.is(":visible");if(co.addsFeature("image","colorcopy")){var c=
C.is(":visible"),d=A.is(":visible"),e=!a.coloriz.isDefault&&a.coloriz.copyPasteSense&&!a.composParams.noColoriz,f=!!co.v.colorizClip&&a.coloriz.copyPasteSense&&!a.composParams.noColoriz;C.toggle(e);A.toggle(f);p.toggleClass("vis",e||f||b);c===e&&d===f||co.sidebar.updateLayout({scrollRestore:!0})}else C.hide(),A.hide(),b||p.removeClass("vis"),co.sidebar.updateLayout({scrollRestore:!0})}function e(){b.css({filter:a.coloriz.isDefault?"":a.scaleBox.attr("filter")})}co.Widget.call(this,"widgetImage",a);
this.name="image";var h=this,c=h.box.find("h3:first"),b=h.box.find("img.img"),k=c.find("span").eq(0),l=h.box.find(".color-picker"),m=l.find(".co-palette"),n,q=h.box.find(".cs-brightness"),f=h.box.find(".cs-saturation"),r=h.box.find(".cs-hue"),t=co.paletteLimited(),u=h.box.find(".limited-palette"),p=h.box.find(".color-btns"),x=p.find(".no-coloriz").hide(),y=h.box.find(".btn-center"),z=h.box.find(".btn-select-image"),C=p.find(".copy"),A=p.find(".paste"),F=h.box.find(".switcher");co.svg.hasClass(a.box,
"add-duplicate")&&c.append(" ("+co.lang.w(61)+")");b[0].src=a.src;e();d();a.changeable.on?(z.lang(a.changeable.btnText.length?a.changeable.btnText:""),z.click(function(){a.changeClick()})):y.remove();k.click(function(){a.unselect()});setTimeout(function(){return co.sidebar.box.scrollTop(c.offset().top-co.v.blockOverHeight)},100);if(co.v.composMode||!a.composParams.noColoriz){var v=function(){t.length||(w=!0,n&&n.setColor(a.coloriz.color),co.addsFeature("image","brightness")&&(L.pos=
a.coloriz.brightness),co.addsFeature("image","hue")&&(K.pos=a.coloriz.hue/360),co.addsFeature("image","saturation")&&(E.pos=a.coloriz.saturation/2),H&&(H[0].checked=!0),co.f(M),w=!1)};if(t.length){l.remove();q.remove();r.remove();f.remove();F.remove();var D=co.v.curBase.fillImgsSubtr;(D?co.addsFeature("image","subtract")||co.addsFeature("image","fill"):co.addsFeature("image","fill"))?(t.forEach(function(b){var c=$('<div class="palette-color"></div>');c.css("background",b);c[0].colorCode=b;a.coloriz.color===
b&&c.activate();u.append(c)}),u.click(function(b){if($(b.target).hasClass("palette-color")){b=$(b.target);var c=b[0].colorCode;u.children().deactivate();b.activate();a.coloriz.mode=D?a.coloriz.MODE_SUBTRACT:a.coloriz.MODE_FILL;a.coloriz.color=c;a.coloriz.apply();co.v.userCreative=!0;co.v.userAddsAction=!0;e();d();co.updateSides(!0);co.sidebar.updateLayout({scrollRestore:!0});g()}})):u.remove()}else{var B=function(){a.coloriz.apply();co.v.userCreative=!0;co.v.userAddsAction=!0;e();co.f(M);d();g()};
u.remove();var w=!1;co.addsFeature("image","subtract")||co.addsFeature("image","fill")?n=new co.Palette({box:m,initColor:a.coloriz.color,selected:function(b){a.coloriz.color=b;a.coloriz.apply();e()},finished:function(){co.v.userCreative=!0;co.v.userAddsAction=!0;d();g();co.updateSides(!0)}}):l.remove();if(co.addsFeature("image","brightness")){var L=co.ColorSlider(q);L.line.css("color",a.coloriz.color);L.pos=a.coloriz.brightness;L.selected=function(b){w||(a.coloriz.brightness=b,a.coloriz.apply(),co.v.userCreative=
!0,co.v.userAddsAction=!0,e(),d(),g())};L.finished=function(){co.updateSides(!0)}}else q.remove();if(co.addsFeature("image","hue")){var K=co.ColorSlider(r);K.pos=a.coloriz.hue/360;K.selected=function(b){w||(a.coloriz.hue=360*b,a.coloriz.apply(),co.v.userCreative=!0,co.v.userAddsAction=!0,e(),d(),g())};K.finished=function(){co.updateSides(!0)}}else r.remove();if(co.addsFeature("image","saturation")){var E=co.ColorSlider(f);E.pos=a.coloriz.saturation/2;E.selected=function(b){w||(a.coloriz.saturation=
2*b,a.coloriz.apply(),co.v.userCreative=!0,co.v.userAddsAction=!0,e(),d(),g())};E.finished=function(){co.updateSides(!0)}}else f.remove();if(co.addsFeature("image","subtract")&&co.addsFeature("image","fill")){var H=F.find("input");"subtract"===a.coloriz.mode?H[0].checked=!0:"fill"===a.coloriz.mode&&(H[1].checked=!0);H.change(function(){if(!w){var b=$(this);b[0].checked&&(a.coloriz.mode=b.data("mode"));B()}});var M=function(){"subtract"===a.coloriz.mode?(co.addsFeature("image","brightness")&&L.elem.show(),
co.addsFeature("image","hue")&&K.elem.show(),co.addsFeature("image","saturation")&&E.elem.show()):"fill"===a.coloriz.mode&&(co.addsFeature("image","brightness")&&L.elem.hide(),co.addsFeature("image","hue")&&K.elem.hide(),co.addsFeature("image","saturation")&&E.elem.hide());co.updateSides(!0);co.sidebar.updateLayout({scrollRestore:!0})}}else F.remove(),co.addsFeature("image","fill")&&(a.coloriz.mode="fill");B()}x.click(function(){h.box.find("div.palette-color.active").deactivate();a.coloriz.reset();
!co.addsFeature("image","subtract")&&co.addsFeature("image","fill")&&(a.coloriz.mode="fill");a.coloriz.apply();co.v.userCreative=!0;co.v.userAddsAction=!0;e();v();d();g();co.updateSides(!0);setTimeout(function(){return co.updateSides(!0)},100)});C.click(function(){a.coloriz.copy();g()});A.click(function(){a.coloriz.paste();co.v.userCreative=!0;co.v.userAddsAction=!0;e();t.length?u.children().deactivate().each(function(){if(this.colorCode===a.coloriz.color)return!$(this).activate()}):v();g();d()});
g()}else q.remove(),r.remove(),f.remove(),F.remove(),l.remove(),u.remove(),p.remove();(function(){var b=h.box.find("div.change-box");if(b.length){if(!co.v.composMode)return b.remove();var c=b.find("label.check-changeable input"),d=b.find("div.if-changeable"),e=b.find("label.check-price input"),f=b.find("label.check-btn input"),g=b.find("input.inp-btn-capt"),k=b.find("label.chimgsize-equal input"),m=b.find("label.chimgsize-contain input"),l=b.find("label.chimgsize-cover input"),n=a.changeable;c.change(function(){var a=
c[0].checked;d.toggle(a);n.will=a;co.sidebar.updateLayout()});e.change(function(){n.priceSel=e[0].checked;n.priceSel&&h.box.find("label.check-noprice input").prop("checked",!1).change()});f.change(function(){n.btn=f[0].checked});g.change(function(){n.btnText=g.val().trim()});k.add(m).add(l).change(function(){k[0].checked&&(n.size="equal");m[0].checked&&(n.size="contain");l[0].checked&&(n.size="cover")});c[0].checked=n.on||n.will;c.change();e[0].checked=n.priceSel;f[0].checked=n.btn;g.val(n.btnText);
"equal"===n.size&&(k[0].checked=!0);"contain"===n.size&&(m[0].checked=!0);"cover"===n.size&&(l[0].checked=!0)}})();(function(){var b=h.box.find("div.compos-params");if(b.length){if(!co.v.composMode)return b.remove();var c=b.find("label.check-notrans input"),d=b.find("label.check-nodel input"),e=b.find("label.check-nocoloriz input"),f=b.find("label.check-noprice input"),g=a.composParams;c.change(function(){g.noTrans=c[0].checked});d.change(function(){g.noDel=d[0].checked});e.change(function(){g.noColoriz=
e[0].checked});f.change(function(){g.noPrice=f[0].checked;g.noPrice&&h.box.find("label.check-price input").prop("checked",!1).change()});c[0].checked=g.noTrans;d[0].checked=g.noDel;e[0].checked=g.noColoriz;f[0].checked=g.noPrice}})()};co.extend(co.WidgetImage,co.Widget);co.WidgetFigure=function(a){function d(a){A.children().first().css("fill",a)}function g(){if(co.addsFeature("figure","colorcopy")){var b=p.is(":visible"),c=x.is(":visible"),d=a.colorCopySense()&&!a.composParams.noColoriz,e=!!co.v.colorizClip&&a.colorPasteSense()&&!a.composParams.noColoriz;p.toggle(d);x.toggle(e);u.toggleClass("vis",d||e);b===d&&c===e||co.sidebar.updateLayout({scrollRestore:!0})}else p.hide(),x.hide(),u.removeClass("vis"),co.sidebar.updateLayout({scrollRestore:!0})}co.Widget.call(this,
"widgetFigure",a);this.name="figure";var e=this,h=e.box.find("h3:first"),c=e.box.find("div.img"),b=h.find("span").eq(0),k=e.box.find(".color-picker"),l=k.find(".co-palette"),m=e.box.find(".limited-palette"),n=co.paletteLimited(),q=e.box.find(".patterns-box"),f=q.find("h3"),r=f.find("select").remove(),t=q.find(".items"),u=e.box.find(".color-btns"),p=u.find(".copy"),x=u.find(".paste"),y=!co.v.composMode&&a.composParams.noColoriz;n.length?k.remove():m.remove();co.svg.hasClass(a.box,"add-duplicate")&&
h.text(h.text()+" ("+co.lang.w(61)+")");var z=a.elem().clone(),C=co.desktop||co.mobile?"260":"104",A=$('<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 '+z.attr("width")+" "+z.attr("height")+'" width="'+C+'" height="50" preserveAspectRatio="xMinYMid">'+co.svg.getCode(z[0])+"</svg>");c.append(A);if(y||!co.addsFeature("figure","color"))k.remove(),m.remove();else{var F={};if(n.length){var v=a.color();n.forEach(function(a){var b=$('<div class="palette-color"></div>');b.css("background",a);b[0].colorCode=
a;v===a&&b.activate();m.append(b);F[a]=b});m.click(function(b){if($(b.target).hasClass("palette-color")){b=$(b.target);var c=b[0].colorCode;m.children().deactivate();b.activate();d(c);a.color(c);co.v.userCreative=!0;co.v.userAddsAction=!0;g();co.updateSides(!0)}})}else var D=new co.Palette({box:l,initColor:a.color(),selected:function(b){d(b);a.color(b);t.children(".active").deactivate()},finished:function(){co.v.userCreative=!0;co.v.userAddsAction=!0;g();co.updateSides(!0)}});p.click(function(){a.colorCopy();
g()});x.click(function(){a.colorPaste();d(a.color());if(n.length){m.children().deactivate();var b=F[a.color()];b&&b.activate()}else D.setColor(a.color(),!1);g();co.updateSides(!0)});g()}b.click(function(){a.unselect()});setTimeout(function(){return co.sidebar.box.scrollTop(h.offset().top-co.v.blockOverHeight)},0);y||!co.addsFeature("figure","pattern")?q.remove():co.sidebarPatterns(a,q,f,r,t,n,115,function(){-1!==a.pattern()&&d("url(#figure-pattern-"+a.id+")")});(function(){var b=e.box.find("div.compos-params");
if(b.length){if(!co.v.composMode)return b.remove();var c=a.composParams;["noTrans","noDel","noColoriz","noPrice"].forEach(function(a){var d=b.find("label.check-"+a.toLowerCase()+" input");d[0].checked=c[a];d.change(function(){c[a]=d[0].checked})})}})()};co.extend(co.WidgetFigure,co.Widget);co.WidgetText=function(a){function d(){if(co.addsFeature("text","colorcopy")){var b=F.is(":visible"),c=v.is(":visible"),d=a.colorCopySense()&&!a.composParams.noColoriz,e=!!co.v.colorizClip&&a.colorPasteSense()&&!a.composParams.noColoriz;F.toggle(d);v.toggle(e);A.toggleClass("vis",d||e);b===d&&c===e||co.sidebar.updateLayout({scrollRestore:!0})}else F.hide(),v.hide(),A.removeClass("vis"),co.sidebar.updateLayout({scrollRestore:!0})}co.Widget.call(this,"widgetText",a);this.name="text";var g=this,e=g.box.find("h3:first").first(),
h=g.box.find("textarea:first"),c=g.box.find(".font-params"),b=g.box.find(".font"),k=g.box.find(".biu-wrap"),l=g.box.find(".bold"),m=g.box.find(".italic"),n=g.box.find(".underline"),q=g.box.find(".color-picker"),f=q.find(".co-palette"),r=g.box.find(".limited-palette"),t=e.find("span").eq(0),u=co.paletteLimited(),p=g.box.find(".align-left,.align-center,.align-right"),x=g.box.find(".patterns-box"),y=x.find("h3"),z=y.find("select").remove(),C=x.find(".items"),A=g.box.find(".color-btns"),F=A.find(".copy"),
v=A.find(".paste"),D=!co.v.composMode&&a.composParams.noColoriz,B=g.box.find(".line-height"),w=g.box.find(".round"),L=co.fontByFamily(a.style.fontFamily);co.svg.hasClass(a.box,"add-duplicate")&&e.text(e.text()+" ("+co.lang.w(61)+")");u.length?q.remove():r.remove();if(!co.v.composMode&&a.composParams.noEdit)h.remove();else{h.val(a.text());setTimeout(function(){if(h.is(":visible")&&!co.mobile){var a=2*h.val().length;h.focus()[0].setSelectionRange(a,a);co.sidebar.box.scrollTop(h.offset().top-co.v.blockOverHeight)}},
0);var K;h.on("input",function(){var b=co.textEditCorrection(a.text(),h,!!a.round());a.text(b);co.trans.layoutUpdate();clearTimeout(K);K=setTimeout(function(){return co.updateSides(!0)},500)})}if(!co.v.composMode&&a.composParams.noBIU)l.remove(),m.remove(),n.remove();else{var E=function(){var b=a.bold()?3:2;co.fontsOfStyle(co.v.fonts,b).length?(k.prepend(m),c.removeClass("no-italic")):(m.detach(),c.addClass("no-italic"));b=a.italic()?3:1;co.fontsOfStyle(co.v.fonts,b).length?(k.prepend(l),c.removeClass("no-bold")):
(l.detach(),c.addClass("no-bold"))},H=function(b,c){function d(b){a.styleIndex(e,function(){co.v.userCreative=!0;co.v.userAddsAction=!0;l.toggleClass("active",a.bold());m.toggleClass("active",a.italic());co.updateSides(!0);co.f(b)})}var e=co.styleIndex(b?!a.bold():a.bold(),c?!a.italic():a.italic()),f=co.fontsOfStyle(co.v.fonts,e);L.styles[e]?d(function(){E()}):(b=co.lang.w([0,205,206,207][e]),f.length?co.confirm(b+" "+co.lang.w(208),function(b){b&&(b=co.sidebar.stateFont(a,f).widgetFont,$(b).on("font-selected",
function(){a.styleIndex()!==e&&d()}))}):co.alert(b))};co.addsFeature("text","bold")?(a.bold()&&l.activate(),l.click(function(a){a.preventDefault();H(!0,!1)})):(l.remove(),c.addClass("no-bold"));co.addsFeature("text","italic")?(a.italic()&&m.activate(),m.click(function(a){a.preventDefault();H(!1,!0)})):(m.remove(),c.addClass("no-italic"));E();co.addsFeature("text","underline")?(a.underline()&&n.activate(),n.click(function(b){b.preventDefault();b=n.hasClass("active");!b&&a.round()?co.alert(co.lang.w(197)):
(b=!b,n.toggleClass("active",b),a.underline(b),co.v.userCreative=!0,co.v.userAddsAction=!0,co.updateSides(!0))})):(n.remove(),c.addClass("no-underline"))}!co.v.composMode&&a.composParams.noAlign||!co.addsFeature("text","align")?(p.remove(),c.addClass("no-align")):(p.filter(".align-"+a.align()).activate(),p.click(function(b){b.preventDefault();p.deactivate();b=$(this);b.activate();b.hasClass("align-left")?a.align("left"):b.hasClass("align-center")?a.align("center"):a.align("right");co.v.userCreative=
!0;co.v.userAddsAction=!0;co.updateSides(!0)}));!co.v.composMode&&a.composParams.noFont||!co.addsFeature("text","font")?(b.remove(),c.addClass("no-font")):b.click(function(b){b.preventDefault();co.sidebar.stateFont(a)});(!co.v.composMode&&a.composParams.noFont&&a.composParams.noBIU&&a.composParams.noAlign||!c.children().length)&&c.remove();if(D||!co.addsFeature("text","color"))q.remove(),r.remove(),A.remove();else{var M={};if(u.length){var G=a.color();u.forEach(function(a){var b=$('<div class="palette-color"></div>');
b.css("background",a);b[0].colorCode=a;G===a&&b.activate();r.append(b);M[a]=b});r.click(function(b){if($(b.target).hasClass("palette-color")){b=$(b.target);var c=b[0].colorCode;r.children().deactivate();b.activate();a.color(c);co.v.userCreative=!0;co.v.userAddsAction=!0;d();co.updateSides(!0)}})}else var I=new co.Palette({box:f,initColor:a.color(),selected:function(b){a.color(b);C.children(".active").deactivate()},finished:function(){co.v.userCreative=!0;co.v.userAddsAction=!0;d();co.updateSides(!0)}});
F.click(function(){a.colorCopy();d()});v.click(function(){a.colorPaste();if(u.length){r.children().deactivate();var b=M[a.color()];b&&b.activate()}else I.setColor(a.color(),!1);d()});d()}t.click(function(){a.unselect()});g.sidebarOpened=function(){co.f(P);co.f(Q)};if(!co.v.composMode&&a.composParams.noLineh||!co.addsFeature("text","lineh"))B.remove();else{var J=new co.Slider(B.find(".slider"),0,200,100,!0);e=B.find(".minus");b=B.find(".plus");B=B.find(".pointer");var P=function(){J.reinit();var b=
a.style.lineHeight-a.styleDefault.lineHeight;0<b&&(b*=.5);J.pos(5*b+100,!0)};setTimeout(P,0);$(J).change(function(b,c){c=.2*(c-100);0<c&&(c*=2);a.style.lineHeight=a.styleDefault.lineHeight+c;a.round()||a.layoutUpdate()}).on("finish",function(){co.updateSides(!0)});e.click(function(){var a=J.pos();1>a||J.pos(a-1)});b.click(function(){var a=J.pos();199<a||J.pos(a+1)});B.click(function(){J.pos(100)})}if(!co.v.composMode&&a.composParams.noRound||!co.addsFeature("text","round"))w.remove();else{var N=new co.Slider(w.find(".slider"),
0,200,100,!0);B=w.find(".minus");e=w.find(".plus");w=w.find(".pointer");var Q=function(){N.reinit();N.pos(a.round()+100,!0)};setTimeout(Q,0);$(N).change(function(b,c){1<a.text().split("\n").length&&c-100?(N.endMouseMove(),N.pos(100),co.alert(co.lang.w(187))):(a.round(c-100),co.trans.layoutUpdate(),co.trans.updateNoScales(),0!==c-100&&a.underline()&&(n.removeClass("active"),a.underline(!1)))}).on("finish",function(){co.updateSides(!0)});B.click(function(){var a=N.pos();1>a||N.pos(a-1)});e.click(function(){var a=
N.pos();199<a||N.pos(a+1)});w.click(function(){N.pos(100)})}D||!co.addsFeature("text","pattern")?x.remove():co.sidebarPatterns(a,x,y,z,C,u,114);(function(){var b=g.box.find(".compos-params");if(b.length){if(!co.v.composMode)return b.remove();var c=a.composParams;"noTrans noDel noColoriz noPrice noEdit noFont noBIU noAlign noLineh noRound".split(" ").forEach(function(a){var d=b.find("label.check-"+a.toLowerCase()+" input");d[0].checked=c[a];d.change(function(){c[a]=d[0].checked})})}})()};
co.extend(co.WidgetText,co.Widget);co.WidgetFont=function(a,d){function g(){b.empty();var c=co.ar(d)?d:co.v.fonts,m=a.styleIndex();c.forEach(function(c){var d=k.clone(),e=d.find(".block").find(".capt"),f=!!c.styles[m];e.css("background-image","url("+(""+co.v.domain+(c.def?"default-fonts":"custom-fonts/"+co.v.adminID)+"/"+c.id+"-thumb."+(co.webpSupport?"webp":"png"))+")");a.style.fontFamily===c.family&&d.activate();f||d.addClass("no-req-style");b.append(d);d.click(function(){function e(e){b.children().deactivate();d.activate();co.v.userCreative=
!0;co.v.userAddsAction=!0;a.setFontFamily(c.family,function(){co.updateSides(!0);co.f(e);$(h).trigger({type:"font-selected",font:c})})}function k(b,d,f){if(m!==b||!c.styles[d])return!1;co.confirm(co.lang.w(f)+" "+co.lang.w(215),function(b){b&&a.styleIndex(d,function(){return e(g)})});return!0}f?e():k(3,1,213)||k(3,2,212)||k(3,0,214)||k(2,0,213)||k(1,0,212)||e()})});e()}function e(){var b=a.styleIndex(),c=co.fontsOfStyle(co.v.fonts,b);co.ar(d)||a.normal()||c.length===co.v.fonts.length?m.hide():(m.show(),
b=co.lang.w([0,209,210,211][b]),m.html(b))}co.Widget.call(this,"widgetFont",a);this.name="font";var h=this,c=h.box.find("h3"),b=h.box.find(".font-list"),k=b.children().remove(),l=c.find("span:not(.fixed-wrap)");c=l.eq(0);l=l.eq(1);var m=h.box.find(".not-all-shown");h.updateLayout=$.noop;g();c.click(function(){a.unselect()});h.gotoText=function(){co.sidebar.stateText(a)};l.click(h.gotoText);co.sidebar.box.on("scroll.widgetFont",function(){co.sidebar.box[0].contains(h.box[0])||co.sidebar.box.off("scroll.widgetFont");
co.fontPreviewLoading&&(co.fontPreviewLoading.onload=void 0,co.fontPreviewLoading.onerror=void 0,co.fontPreviewLoading.src="");co.fontPreview&&co.fontPreview.remove()})};co.extend(co.WidgetFont,co.Widget);co.WidgetDescr=function(a){co.Widget.call(this,"widgetDescr");this.name="text";this.box.find("p").txt(a.text)};co.Calc=function(){function a(){var a=0;co.svg.box.find("g.adds > g").each(function(){var b=this.addInstance;b.price&&(a+=+b.price)});return isNaN(a)||!isFinite(a)?0:a}function d(){var a=0;co.details.productSelectedDetails().forEach(function(b){a+=+b.variant.price||0});return isNaN(a)||!isFinite(a)?0:a}function g(a){if("number"===typeof a)return a;if("string"!==typeof a||!a)return 0;-1!==a.indexOf("|")?(a=a.split("|"),a=co.d(a[co.v.method])?+a[co.v.method]:+a[0]):a=+a;return isNaN(a)||!isFinite(a)?
0:a}function e(){var a=0,b=[];co.svg.box.find("g.adds").each(function(a){var c=$(this);b[a]=!!c.find(".add-box").length});co.ar(co.v.curColor.selectedFormats)&&co.v.curColor.selectedFormats.forEach(function(c,d){(c=c.prog.prices)&&(a=b[d]?a+g(c.full):a+g(c.empty))});return a}function h(){function b(a){if(!Array.isArray(a)||!a.length)return"";var b=co.svg.filledPrice();return 1===b&&""!==a[1]?a[1]:1<b&&""!==a[2]?a[2]:1<b&&""!==a[1]?a[1]:a[0]}function c(a){a=b(a);co.d(a)&&""!==a&&(h=a)}var h=b(co.v.price||
["","","",""]),f=co.v.curBase;f.price&&c(f.price);var k=f.models[co.v.model];k.price&&c(k.price);(function(){var a=k.prices;if(a){var b=co.chain(a,co.v.sex,"price");b&&(c(b),b=co.chain(a,co.v.sex,"prices",co.v.age,"price"))&&(c(b),b=co.chain(a,co.v.sex,"prices",co.v.age,"prices",co.v.color,"price"))&&(c(b),(a=co.chain(a,co.v.sex,"prices",co.v.age,"prices",co.v.color,"prices",co.v.size))&&c(a))}})();f=co.d(h)?h=g(h):0;f+=e();f+=a();f+=d();return+f.toFixed(5)}function c(a,b){if(!a||!co.isInt(b))return 0;
var c=0,d=!1;String(a).split(";").forEach(function(a){var e=a.charAt(0);if([">","<","="].includes(e)){var f=a.substr(1);if(f){var g=!1;if(f.includes("-")){var h=!0;a=+f.split("-")[0];f=f.split("-")[1]}else if(f.includes("+")){var k=!0;a=+f.split("+")[0];f=f.split("+")[1]}else if(f.includes("~"))d=h=!0,a=+f.split("~")[0],f=f.split("~")[1];else if(f.includes("#"))d=k=!0,a=+f.split("#")[0],f=f.split("#")[1];else if(f.includes("%"))g=!0,a=+f.split("%")[0],f=f.split("%")[1];else if(f.includes("@")){var l=
!0;a=+f.split("@")[0];f=f.split("@")[1]}else return;co.isInt(a)&&!isNaN(parseFloat(f))&&isFinite(f)&&(f=+f,">"===e&&b>a||"<"===e&&b<a||"="===e&&b===a)&&(d?k?c=f:h&&(c=-f):k?c=f*b:h?c=-f*b:l?c=co.calc.lastSum*b*f/100:g&&(c=-co.calc.lastSum*b*f/100))}}});return co.d(c)&&!isNaN(c)&&isFinite(c)?c=+c.toFixed(5):0}function b(){if(!k.dontUpdate&&l.on&&"function"===typeof co.calcFun){var a=co.calcFun();co.nav.sum.val(a);co.mobileBottomBottomPanel.sum.val(a)}}var k=this;co.calc=k;k.lastSum=0;var l=co.v.calc;
k.prepareVars=function(){var a=co.v,b=[];co.svg.box.find("g.adds").each(function(){var a=$(this);b.push({filled:+!!a.has("g").length})});return{base:a.base,model:a.model,color:a.color,side:a.side,age:a.age,sex:a.sex,size:a.size,method:a.method,formats:co.formats.curSelectionAllUnicals(),filled:co.svg.filled(),sides:b,unicalMatch:function(a){return co.unicalMatch(a)},detVar:function(a,b){return co.details.variantSelected(a,b)}}};k.getCurDiscount=function(a){function b(a){a=a[3];co.d(a)&&""!==a&&(d=
a)}var d=co.v.price?co.v.price[3]:"",e=co.v.curBase;e.price&&b(e.price);var g=e.models[co.v.model];g.price&&b(g.price);(function(){var a=g.prices;if(a){var c=co.chain(a,co.v.sex,"price");c&&(b(c),c=co.chain(a,co.v.sex,"prices",co.v.age,"price"))&&(b(c),c=co.chain(a,co.v.sex,"prices",co.v.age,"prices",co.v.color,"price"))&&(b(c),(a=co.chain(a,co.v.sex,"prices",co.v.age,"prices",co.v.color,"prices",co.v.size))&&b(a))}})();return co.d(d)&&""!==d?c(d,a):0};k.getPrice=function(){var a=h();!a&&l.sum&&(a=
l.sum);return a};l.on?(co.body.append("<script>co.calcFun = function(){ var v = co.calc.prepareVars(); if( !v.sides.length ) return; var sum = co.calc.getPrice(); try{ "+l.js+';\n if( typeof sum === "number" ) sum = +(sum.toFixed(5)); co.calc.lastSum = sum; return sum } catch(e){ co.alert(co.lang.w(18)+".<br><br>"+e) } }\x3c/script>'),b()):(co.nav.sum.hide(),co.mobileBottomBottomPanel.sum.hide());k.dontUpdate=!1;k.update=b};co.Api=function(){function a(){var a=window.location.hash,b=g();b&&(a+=(a?";":"")+b);if(!a||"#"===a)return!1;"#"===a.charAt(0)&&(a=a.substr(1));b=a.split("?");1<b.length&&(a=b[0]);return a}function d(){var b=a();!1!==b&&h(b)}function g(){var a=location.href.split("/");if(a[4]!==String(co.v.adminID))return"";a=a[5];if(!a)return"";a.includes("?")&&(a=a.split("?")[0]);if(!a)return"";a.includes("#")&&(a=a.split("#")[0]);return a&&co.validURLAlternativeParams(a)?a:""}function e(a){(a=a.originalEvent.data)&&
"string"===typeof a&&(a=a.split(";"),"cosuv-api"===a[0]&&(a.splice(0,1),a=a.join(";"),h(a)))}function h(a,d){if(a&&"string"===typeof a){var e=!1;c(a).forEach(function(a){var b=a[0];l.add(b,a[1],!0);["color-scheme-preview","color-scheme"].includes(b)||(e=!0)});e&&(co.d(co.popups)&&co.f(co.popups.close),co.PopupOrder.current&&co.PopupOrder.current.close());d&&co.compos.detectInitCompos();r||b()}}function c(a){var b=[];a.split(";").forEach(function(a){if(a.includes("=")){var c=a.split("=")[1];c==+c&&
(c=+c);b.push([a.split("=")[0],c])}else b.push([a,1])});return b}function b(){if(f.length){r=!0;var a=f[0][0],c=f[0][1];f.shift();if(m&&!["lang","userlang","adminlang"].includes(a))return b();"base model color sex age size method side unical".split(" ").includes(a)&&(c=+c,isNaN(c)&&(c=0),0>c&&(c=0));switch(a){case "base":if(c===co.v.base)return b();if(co.v.bases.length>c){$(co).one("selBaseComplete",b);co.selRegul.selBase(c);return}console.log("API: wrong base id:"+c);break;case "model":if(c===co.v.model)return b();
if(co.v.curBase.models.length>c){$(co).one("selModelComplete",b);co.selRegul.selModel(c);return}console.log("API: wrong model id:"+c);break;case "color":if(c===co.v.color)return b();if(co.v.curBase.models[co.v.model].colors.length>c){$(co).one("selColorComplete",b);co.selRegul.selColor(c);return}console.log("API: wrong color id:"+c);break;case "sex":if(c===co.v.sex)return b();if(co.v.curBase.sexes.length>c){$(co).one("selSexComplete",b);co.selRegul.selSex(c);return}console.log("API: wrong sex id:"+
c);break;case "age":if(c===co.v.age)return b();if(co.v.curBase.ages.length>c){$(co).one("selAgeComplete",b);co.selRegul.selAge(c);return}console.log("API: wrong age id:"+c);break;case "size":if(c===co.v.size)return b();if(co.selRegul.sizeExists(c)){$(co).one("selSizeComplete",b);co.selRegul.selSize(c);return}console.log("API: wrong size id:"+c);break;case "method":if(c===co.v.method)return b();if(co.v.methods.length>c){$(co).one("selMethodComplete",b);co.selRegul.selMethod(c);return}console.log("API: wrong print-method id:"+
c);break;case "side":if(c===co.v.side)return b();if(co.digits(c)&&0<=+c&&+c<co.svg.dummies().length){co.sidebar.selSide(+c,b);return}console.log("API: wrong side id:"+c);break;case "unical":if(co.digits(c)){try{$(co).one("selUnicalComplete",b),co.selRegul.selUnical(+c)}catch(x){console.log("API: unical "+c+" not found, nothing selected")}return}console.log("API: wrong unical:"+c);break;case "btn-base":case "btn-model":case "btn-color":case "btn-age":case "btn-size":case "btn-method":case "btn-format":case "btn-image":case "btn-figure":case "btn-text":co.nav.btns[a.split("-")[1]].toggleClass("api-hidden",
!c);co.nav.updateLabels();break;case "btn-sex":co.nav.btnsSexWrap.toggleClass("api-hidden",!c);co.nav.updateLabels();break;case "lang":q=n=c;co.d(co.lang)&&co.lang.setLangs({userlang:c,adminlang:c});break;case "userlang":n=c;co.d(co.lang)&&co.lang.setLangs({userlang:c});break;case "adminlang":q=c;co.d(co.lang)&&co.lang.setLangs({adminlang:c});break;case "compos":if(co.isInt(c)){$(co).one("composComplete",b);co.compos.makeCompos(c);return}if("make"===c)co.v.composMode=!0,co.nav.btns.order.remove(),
co.nav.btnSaveShow();else if("string"===typeof c&&"edit"===c.substr(0,4)&&(a=+c.substr(4),co.digits(a))){co.v.composMode=!0;co.v.composEditID=+a;co.nav.btns.order.remove();co.nav.btnSaveShow();$(co).one("composComplete",b);co.compos.makeCompos(a);return}break;case "order-edit":co.orderEdit(c);break;case "color-scheme-preview":c=co.digits(c)?+c:void 0;co.applyColorSchemeForPreview(c);break;case "color-scheme":c=co.digits(c)?+c:void 0;co.applyColorScheme(c);break;case "details":co.details.selectByUnicalsCSV(String(c),
function(){return b()});return;case "formats":co.formats.selectFromAPI(String(c));break;case "from":co.setFrom(String(c))}b()}else r=!1,k()}function k(){t&&!f.length&&(t=!1,co.v.initAPIComplete=!0,$(co).trigger("initAPIComplete"))}var l=this;co.api=l;var m=!1,n=co.v.lang.userlang,q=co.v.lang.adminlang,f=[],r=!1,t=!1;l.init=function(){t=!0;co.win.on("hashchange",d);var b=a();!1!==b?(co.v.initCommands=c(b),co.v.initCommands.length||k(),h(b,!0)):co.compos.detectInitCompos()||k();co.win.on("message",
e)};l.lang=function(){m=!0;d();m=!1;return{userlang:n,adminlang:q}};l.add=function(a,c,d){c==+c&&(c=+c);f.push([a,c]);r||d||b()};l.remove=function(a,b){co.d(b)&&b==+b&&(b=+b);var c=[];f.forEach(function(d,e){d[0]===a&&(co.d(b)?d[1]===b&&c.push(e):c.push(e))});c.forEach(function(a){return f.splice(a,1)})};l.eventOut=function(a,b){if(window.parent!==window){var c=co.clon(b);c.fields=JSON.stringify(b.fields);c.vars=JSON.stringify(b.vars);a={type:a,data:c};b=co.clon(b);b=$.extend(!0,{},a,b);b=JSON.stringify(b);
window.parent.postMessage(b,"*")}}};co.Compos=function(){function a(a,g){a=co.base64ToUtf(a);(a=co.parseJSON(a))?d.restoreCompos(a,function(){co.v.addLastColor=d.makeCompos.addLastColor;co.svgwrap.css("opacity","");co.sidebar.box.css("opacity","");co.nowait(!0,"compos");co.v.lastCompos=g;var a=co.v.curColor;a.compos?co.d(a.compos.id)||(a.compos.id=g):a.compos={id:g};$(co).trigger("composComplete")}):(co.nowait(!0,"compos"),co.alert(co.lang.w(122)))}var d=this;co.compos=d;d.getComposData=function(){var a=[];co.svg.sidesBox.children("g").each(function(){var c=
[],b=$(this).children("g.adds"),d=co.svg;co.svg.scale(.5);b.children().each(function(){var a=$(this),b=this.addInstance,e=b.scale(),g=d.elemPos(a);a=b.composParams;e=[["image","figure","text"].indexOf(b.addName),+g.x.toFixed(7),+g.y.toFixed(7),+e.x.toFixed(7),+b.propor().toFixed(7),+b.angle().toFixed(7)];if("image"===b.addName){g=b.changeable;var f=b.coloriz;e.push(b.src);e.push([f.color,f.mode,+f.brightness,+f.hue,+f.saturation]);e.push([+a.noTrans,+a.noDel,+a.noColoriz,+a.noPrice]);e.push([+g.will,
+g.priceSel,+g.btn,g.btnText,["equal","contain","cover"].indexOf(g.size)])}"figure"===b.addName&&(e.push(b.pathID),e.push("#000000"===b.color()?0:b.color()),g=b.pattern(),e.push(-1<g?co.v.patternsFlat[g].id:0),e.push([+a.noTrans,+a.noDel,+a.noColoriz,+a.noPrice]));"text"===b.addName&&(e.push(b.style.fontFamily),e.push("#000000"===b.color()?0:b.color()),g=b.pattern(),e.push(-1<g?co.v.patternsFlat[g].id:0),e.push(+b.bold()),e.push(+b.italic()),e.push(+b.underline()),e.push(["left","center","right"].indexOf(b.align())),
e.push(b.text()),e.push([+a.noTrans,+a.noDel,+a.noColoriz,+a.noPrice,+a.noEdit,+a.noFont,+a.noBIU,+a.noAlign,+a.noLineh,+a.noRound]),e.push(b.style.lineHeight),e.push(b.style.round));c.push(e)});co.svg.fit();a.push(c)});for(var d=a.length-1;-1<d&&!a[d].length;d--)a.splice(d,1);return a};d.sendToCabinet=function(){var a=d.getComposData();a.length?co.order.makeThumb(function(d,c){if(d||!c||!(c instanceof Blob))return co.alert("  ");co.blobToBase64(c,
function(b,c){if(b)return co.alert("  ");co.digits(co.v.composEditID)?(window.opener.postMessage("editcompos"+co.v.composEditID+","+co.v.curColor.unical+","+co.utfToBase64(JSON.stringify(a))+","+c,"*"),co.alert(co.lang.w(198))):(window.opener.postMessage("newcompos"+co.v.curColor.unical+","+co.utfToBase64(JSON.stringify(a))+","+c,"*"),co.alert(co.lang.w(118)))})},400,400):co.alert(co.lang.w(121))};d.makeCompos=function(e){co.wait(!1,co.lang.w(120),
!0,"compos");co.svgwrap.css("opacity",0);co.sidebar.box.css("opacity",0);d.makeCompos.addLastColor=co.v.addLastColor;var g={default:co.lang.w(119)};co.ajax({route:"compos/get/"+e,success:function(c){c=c.compos;if(!c)return co.nowait(!0,"compos"),co.alert(g.default);co.waitPopup.progress(10);a(c,e)},error:function(a){co.nowait(!0,"compos");co.alert(g[a]||g.default)}})};d.restoreCompos=function(a,d){function c(){co.waitPopup.progress&&(u+=t,co.waitPopup.progress(u))}function b(){f>h.length-1?g():(f++,
e(f-1))}function e(d){function e(){h>g.length-1?b():(h++,f(g[h-1]))}function f(a){function b(b){b.propor(a[4]);b.scale(a[3],a[3]);co.svg.elemPos(b.box,a[1],a[2]);var c=b.local.size();b.angle(a[5],{x:c.width/2,y:c.height/2});co.f(b.patternUpdate)}var d=$();if(0===a[0]){d=new co.AddImage;d.imgData=co.findImgData(a[6]);$(d).one("addready",function(){var f=a[7],g=d.coloriz;f&&("string"===typeof f?d.coloriz.color=a[7]:(g.color=f[0],g.mode=f[1],g.brightness=f[2],g.hue=f[3],g.saturation=f[4]),d.coloriz.apply());
f=a[8];g=a[9];var h=d.changeable,k=d.composParams;Array.isArray(f)&&(k.noTrans=!!f[0],k.noDel=!!f[1],k.noColoriz=!!f[2],k.noPrice=!!f[3]);Array.isArray(g)&&(h.on=!!g[0],h.priceSel=!!g[1],h.btn=!!g[2],h.btnText=g[3],h.size=["equal","contain","cover"][g[4]]);k.noPrice||h.priceSel||!d.imgData||(d.price=d.imgData.price);b(d);c();e()}).one("loadError",function(){d.remove();co.alert(co.lang.w(123));c();e()});var f=a[6].replace("https://cosuv.ru/",co.v.domain);d.load(f)}1===a[0]&&function(){function f(){n||
(n=$(co.v.figuresCode).find("path"));d=new co.AddFigure;$(d).one("addready",function(){d.color(a[7]?a[7]:"#000000");a[8]&&d.pattern(co.arrayObjectID(co.v.patternsFlat,"id",a[8]));var f=a[9],g=d.composParams;Array.isArray(f)&&(g.noTrans=!!f[0],g.noDel=!!f[1],g.noColoriz=!!f[2],g.noPrice=!!f[3]);b(d);c();e()});d.load($(n[a[6]]),a[6])}co.v.figuresCode?f():co.figuresLoad(f)}();2===a[0]&&function(){d=new co.AddText(void 0,function(d){function f(){d.text(a[13]);d.color(a[7]?a[7]:"#000000");a[8]&&d.pattern(co.arrayObjectID(co.v.patternsFlat,
"id",a[8]));d.bold()===!!a[9]?g():d.bold(a[9],g)}function g(){d.italic()===!!a[10]?h():d.italic(a[10],h)}function h(){d.underline()===!!a[11]?k():d.underline(a[11],k)}function k(){var b=["left","center","right"][a[12]];d.align()===b?l():d.align(b,l)}function l(){d.round(a[16]);var f=a[14],g=d.composParams;Array.isArray(f)&&(g.noTrans=!!f[0],g.noDel=!!f[1],g.noColoriz=!!f[2],g.noPrice=!!f[3],g.noEdit=!!f[4],g.noFont=!!f[5],g.noBIU=!!f[6],g.noAlign=!!f[7],g.noLineh=!!f[8],g.noRound=!!f[9]);b(d);c();
e()}var m=a[15];void 0!==m&&(d.style.lineHeight=m);d.style.fontFamily===a[6]?f():d.setFontFamily(a[6],f)})}()}var g=a[d];if(g&&g.length){var h=0;d!==co.v.side&&(co.svg.turn(d),co.v.side=d);co.svg.scale(.5);e()}else b()}function g(){if("Edge"===co.browser().split(" ")[0]&&1<co.v.curColor.sidesData.length){var a=co.v.side;co.v.curColor.sidesData.forEach(function(a,b){co.svg.turn(b);co.svg.fit()});co.svg.turn(a);co.svg.fit()}co.v.side!==q&&(co.svg.turn(q),co.v.side=q);co.svg.fit();co.mobile?(co.mobileBottomTopPanel.stateDefault(),
co.mobileSides.update()):co.sidebar.stateDefault();co.Add.cantSelect=!1;co.calc.dontUpdate=!1;co.calc.update();d()}co.svg.addsClear();co.v.userCreative=!1;co.calc.dontUpdate=!0;var h=co.svg.sidesBox.children("g"),n,q=co.v.side,f=0;co.Add.cantSelect=!0;var r=0,t=90,u=10;co.ar(a)&&a.forEach(function(a){a.length&&(r+=a.length)});r&&(t=90/r);b()};d.detectInitCompos=function(){$(co).on("initAPIComplete",function(){return d.reactSelection()});if(co.arrayObject(co.v.initCommands,0,"order-edit"))return!1;
var a=0,g=0,c=0,b=-1,k=!1;co.v.initCommands.forEach(function(d){var e=d[0];d=d[1];"base"===e&&(a=d);"model"===e&&(g=d);"color"===e&&(c=d);if("unical"===e){var h=co.getProductByUnical(+d);-1!==h.baseIndex&&(a=h.baseIndex);-1!==h.modelIndex&&(g=h.modelIndex);-1!==h.colorIndex&&(c=h.colorIndex)}"compos"===e&&"make"===d&&(k=!0);"compos"===e&&"string"===typeof d&&"edit"===d.substr(0,4)&&(k=!0);"compos"===e&&co.isInt(d)&&(b=d)});if(k)return!1;if(-1===b){var l=co.chain(co.v.bases,a,"models",g,"colors",c,
"compos","id");co.isInt(l)&&(b=l)}else co.v.composInURL=!0,co.api.remove("compos");return-1!==b?(co.v.initCompos=b,co.api.add("compos",b),!0):!1};d.curCompos=function(){return co.gt(co.v.curColor,"compos.id")};var g=0;d.reactSelection=function(){co.v.composMode||($(co).on("selBaseComplete selModelComplete selColorComplete selSexComplete selAgeComplete",function(){if(!co.v.orderEditMode&&!co.v.composInURL){var a=d.curCompos();if(co.d(a)&&(a!==co.v.lastCompos||g<co.svg.dummies().length))if(co.svg.filled()&&
co.v.userCreative&&!co.v.curBase.composRelocateOff){var h=co.alert(co.lang.w(124),!0).pop,c=$('<div class="btn pop-close">'+co.lang.w(125)+"</div>"),b=$('<div class="btn pop-close">'+co.lang.w(126)+"</div>");h.removeClass("no-btn");b.click(function(){d.makeCompos(a)});h.find(".win").append('<div class="buttons"></div>').children(".buttons").append(c).append(b)}else d.makeCompos(a);co.d(a)||co.svg.filled()&&co.v.userCreative&&!co.v.curBase.composRelocateOff||(co.svg.addsClear(),co.v.lastCompos=-1,
setTimeout(function(){co.mobile?(co.mobileBottomTopPanel.stateDefault(),co.mobileSides.update()):co.sidebar.stateDefault()},0))}g=co.svg.dummies().length}),g=co.svg.dummies().length)}};co.DetailsReplacement=function(){var a=this,d={},g=[];a.replace=function(a){function d(b){a.dontWait||co.nowait();a.callback&&a.callback(b)}a.dontWait||co.wait();if(!co.digits(a.layerIndex)||"hide"!==a.replaceTo&&!co.digits(a.replaceTo))return d(Error("invalid arguments"));var c=co.svg.dummy.find(".layer-detail").get().reverse()[a.layerIndex];if(!c)return d(Error("detail layer not found"));if(co.digits(a.replaceTo)){var b=co.getDetailVariantInfo(+a.replaceTo);if(!b)return d(Error("replaceTo variant not found"));
var e=c.detailVariant,l=b.variant.unical,m=b.detail.variants;co.ar(g)&&co.ar(m)&&g.some(function(a){if(a.includes(e))return m.some(function(b){if(a.includes(b.unical))return l=b.unical,!0})});co.details.showVariant({curVariantUnical:e,layerIndex:a.layerIndex,newVariantUnical:l,dontWait:!0,callback:function(){d()}})}else"hide"===a.replaceTo&&(co.details.hideDetail([a.layerIndex]),d())};a.runReplacements=function(e){function g(a){e.dontWait||co.nowait();e.callback&&e.callback(a)}e.dontWait||co.wait();
var c=d[e.initiator];if(!co.ar(c))return g();var b=[],k=co.details.replaceHistory.createItem(e.initiator);c.forEach(function(c){c.products.some(function(a){if(co.chain(co.v.curColor,"sidesData",co.v.side,"unical")===a||co.v.curColor.unical===a||co.v.curModel.unical===a||co.v.curBase.unical===a)return!0})&&b.push(function(b){var d=co.arrayObjects(co.v.curColor.layers[co.v.side],"type","detail");co.details.replaceHistory.addReplacement(k,{layerIndex:c.layer,from:d[c.layer].variant,to:c.replaceTo});
a.replace({layerIndex:c.layer,replaceTo:c.replaceTo,dontWait:!0,callback:b})})});if(!b.length)return g();var l=co.gt(co.v.curSideData,"unical");if(!co.digits(l))return g(Error("no side unical"));co.waterfall(b,function(a){co.details.replaceHistory.addItem(l,k);g(a)})}};co.DetailsReplaceHistory=function(){var a={};co.replrepl=function(){return a};this.restore=function(d,g){var e=co.gt(co.v.curSideData,"unical");if(co.digits(e)){var h=a[e];if(co.ar(h)){var c=co.getDetailVariantInfo(d),b=h.filter(function(a){if(co.getDetailVariantInfo(a.initiator).detail.unical===c.detail.unical&&a.initiator!==d)return a});if(b.length){var k=h.filter(function(a){if(co.getDetailVariantInfo(a.initiator).detail.unical===c.detail.unical)return a});b=b.last();for(var l=0;l<h.length;l++)k.includes(h[l])&&
(h.splice(l,1),l--);h.length||delete a[e];var m=[];b.replacements.forEach(function(a){m.push(function(b){co.details.replacement.replace({layerIndex:a.layerIndex,replaceTo:a.from,dontWait:!0,callback:b})})});m.length?co.waterfall(m,function(a){g&&g(a)}):g&&g(void 0)}else g&&g(void 0)}else g&&g(void 0)}else g&&g(Error("no side unical"))};this.createItem=function(a){return{initiator:a,replacements:[]}};this.addItem=function(d,g){var e=a[d];e||(e=a[d]=[]);e.push(g)};this.addReplacement=function(a,g){a.replacements.push(g)}};co.Details=function(){function a(){c.listForNav.length=0;var a=co.v.curSideData.navDetailsOrder;co.ar(a)?(a.slice().reverse().forEach(function(a){var b=c.list.forEach2(function(b){if(b.detail.unical===a)return b});b&&c.listForNav.push(b)}),c.listForNav.length!==c.list.length&&(c.list.forEach(function(a){return c.listForNav.push(a)}),console.error("invalid navDetailsOrder"))):c.list.forEach(function(a){return c.listForNav.push(a)})}function d(){if(!d.inited){d.inited=!0;var a=co.svg.box,e;a.mousemove(function(a){co.nav.box.find(".detail.detail-hovered").removeClass("detail-hovered");
e&&c.dehighlightDetail(e);if((a=c.detectDetailUnderCursor_notUnderAdd(a))&&co.d(a.detailVariant)){e=a;var b=co.getDetailVariantInfo(a.detailVariant).detail.unical;b=co.nav.box.find(".btn-detail-"+b);b.length&&b.addClass("detail-hovered");c.highlightDetail(a)}});a.mouseleave(function(){co.svg.dummy.find(".layer-detail").each(function(){c.dehighlightDetail(this)})});a.click(function(a){if(a=c.detectDetailUnderCursor_notUnderAdd(a))if(co.svg.addsDeactivate(),co.d(a.detailVariant)){a=co.getDetailVariantInfo(a.detailVariant);
var b=co.nav.box.find(".btn-detail-"+a.detail.unical);co.mobile&&setTimeout(function(){return co.nav.openFast()},0);co.popups.close();co.popups.show("details",[{detail:a,btn:b}])}})}}function g(){return!(co.mobile||co.touchDevice||"IE"===co.v.browserName)}function e(a){a.antsG&&($(a.antsG).remove(),a.antsG=void 0)}function h(a,d,l,m,n,q){function b(b){function d(){h.unical++;var a=2/x/co.svg.scale();k[0].innerHTML="@keyframes detail-ants-"+h.unical+"{ to { stroke-dashoffset: "+6E3*a+"; } }";f.attr("stroke-dasharray",
3*a);g.attr("stroke-width",a);g.css("animation-name","detail-ants-"+h.unical)}if(!document.documentElement.contains(a))return q();var e=$(b);b=e.find("path");b.each(function(){var a=$(this),b=a.attr("fill");b&&128<+b.split("rgb(")[1].split(")")[0].split(",")[0]&&a.remove()});b=e.find("path");b.attr({fill:"none",stroke:"white"});var f=b.clone();f.attr({fill:"none",stroke:"black"});co.svg.addClass(b,"detail-ants-stroke-white");co.svg.addClass(f,"detail-ants-stroke-black");var g=b.add(f);e=$(co.svg.elem("g"));
e.attr({visibility:"hidden"});co.svg.elemScale(e,l/u,m/p);e.append(b).append(f);var k=$(document.createElement("style"));e.append(k);co.svg.addClass(e,"detail-ants");co.svg.dummies().eq(n).append(e);a.antsG=e[0];a.antsUpdate=d;d();c.updateDetailHighlight(a);q()}e(a);if(g()&&window.Worker){var k=co.rectContain(3E3,3E3,l,m),t=document.createElement("canvas"),u=Math.floor(Math.min(l*k,l)),p=Math.floor(Math.min(m*k,m)),x=l/u;t.width=u;t.height=p;k=t.getContext("2d");k.drawImage(d,0,0,u,p);d=k.getImageData(0,
0,u,p);var y=new Worker(co.v.domain+"app/js/"+co.v.adminID+"/imagetracer/"+co.v.imagetracerHash);y.onmessage=function(a){y.terminate();b(a.data.svg)};y.postMessage({width:d.width,height:d.height,data:d.data})}}var c=this;co.details=c;c.list=[];c.listForNav=[];$(co.svg).on("svgComplete",function(){c.update()});$(co).on("selSideComplete",function(){c.update()});c.navInsertAfter="color";c.ribbonInsertAfter="color";c.replacement=new co.DetailsReplacement;c.replaceHistory=new co.DetailsReplaceHistory;
co.eachLayer(function(a){"detail"===a.type&&co.d(a.variant)&&(a.originalVariant=a.variant)});c.update=function(){c.list.length=0;co.svg.dummy.find(".layer-detail").each(function(){var a=this.detailVariant;if(!co.d(a))return!0;a=co.getDetailVariantInfo(a);if(!a)return!0;a=co.clon(a);a.image=this;c.list.push(a)});a();co.nav.updateDetailsBtns();d()};c.showVariant=function(a){function b(){function b(b,d,f,k){c.cachePixels(q[0],k,b,d);e(q[0]);h(q[0],k,b,d,a.sideIndex,function(){});g()}function d(b,d,f,
k){c.cachePixels(q[0],k,b,d);e(q[0]);h(q[0],k,b,d,a.sideIndex,function(){});g()}function g(){a.dummyBuilding?(a.dontWait||co.nowait(),a.callback()):c.replacement.runReplacements({initiator:a.newVariantUnical,dontWait:!0,callback:function(b){b&&console.log(b);a.dontWait||co.nowait();a.callback()}})}var k=co.v.domain+"img/transparent.png",l=co.getDetailVariantImgSrc(a.newVariantUnical),m=co.getDetailVariantClickmapSrc(a.newVariantUnical);co.imgRealSizes(l||m||k,function(c,e,f,g){n.variant=a.newVariantUnical;
q.attr({width:c,height:e});co.svg.setImageSrc(q,f);q[0].detailVariant=a.newVariantUnical;delete q[0].detailHidden;q[0].removeAttribute("visibility");co.svg.removeClass(q,"hidden-detail");f===k?co.svg.addClass(q,"transparent-detail"):co.svg.removeClass(q,"transparent-detail");m&&f===m?q.attr("opacity",0):q.attr("opacity",1);co.svg.removeClassRegExp(q,/detail-variant-\d+$/);co.svg.addClass(q,"detail-variant-"+a.newVariantUnical);co.details.update();co.updateSides(!0);co.calc.update();co.ribbon.hidden||
co.ribbon.updateDetailsItems();!a.popShownFromMenu&&a.selectedByUser&&co.mobile&&co.body.addClass("nav-closed");m&&f!==m?co.imgRealSizes(m,d,function(){a.dontWait||co.nowait();a.callback();co.alert(co.lang.w(37))}):b(c,e,f,g)},function(){a.dontWait||co.nowait();a.callback();co.alert(co.lang.w(37))})}a.callback||(a.callback=co.noop);if(!a.layerIndex&&!a.curVariantUnical)throw Error("layerIndex or curVariantUnical required");co.d(a.sideIndex)||(a.sideIndex=co.v.side);var d=co.svg.dummies().eq(a.sideIndex),
g=co.arrayObjects(co.v.curColor.layers[a.sideIndex],"type","detail");if(!g.length)return a.callback();if(a.curVariantUnical){var n=co.arrayObject(g,"variant",a.curVariantUnical);if(!n)return a.callback();var q=d.find(".detail-variant-"+a.curVariantUnical);if(!q.length)return a.callback()}else if(a.layerIndex){if(!co.digits(a.layerIndex))return a.callback();n=g[a.layerIndex];if(!n)return a.callback();q=$(d.find(".layer-detail").get().reverse()[a.layerIndex]);if(!q.length)return a.callback()}a.dontWait||
co.wait();a.dummyBuilding?b():c.replaceHistory.restore(a.newVariantUnical,function(c){if(c)return console.error(c),a.dontWait||co.nowait(),a.callback();b()})};c.hideDetail=function(a){var b=co.arrayObjects(co.v.curColor.layers[co.v.side],"type","detail");if(b.length){if(Array.isArray(a)){a=a[0];if(!co.digits(a))return;b=b[a];if(!b)return;a=co.svg.dummy.find(".layer-detail").eq(a)}else{b=co.arrayObject(b,"variant",a);if(!b)return;a=co.svg.dummy.find(".detail-variant-"+a)}a.length&&(delete b.variant,
co.svg.setImageSrc(a,co.v.domain+"img/transparent.png"),delete a[0].detailVariant,a[0].detailHidden=!0,a[0].setAttribute("visibility","hidden"),co.svg.addClass(a,"hidden-detail"),co.svg.removeClass(a,"transparent-detail"),c.update())}};c.cachePixels=function(a,c,d,e){var b=document.createElement("canvas");b.width=d;b.height=e;b=b.getContext("2d");b.drawImage(c,0,0);a.imageData=b.getImageData(0,0,d,e)};c.detectDetailUnderCursor=function(a){for(var b=co.svg.dummy.find(".layer-detail").get().reverse(),
c=0;c<b.length;c++){var d=b[c],e=d.imageData,g=co.svg.dummyLocal(a.pageX,a.pageY-co.v.blockOverHeight-co.v.ribbonHeight-co.v.mobileSidesHeight),f=0;try{var h=Math.round(g.x),t=Math.round(g.y);if(0>h||0>t||h>e.width||t>e.height)var u=void 0;else{var p=4*(h+e.width*t),x=e.data;u={r:x[p],g:x[p+1],b:x[p+2],a:x[p+3]}}u&&(f=u.a)}catch(y){}if(50<f)return d}};c.detectDetailUnderCursor_notUnderAdd=function(a){var b=c.detectDetailUnderCursor(a);if($(b).index()>co.svg.addsBox.index())return b;var d=co.elementsFromPoint(a.pageX,
a.pageY);if(d&&d.length)for(var e=d.length;e--;){var g=$(d[e]).closest(".add-box");if(g.length)if(g=g[0].addInstance,"image"===g.addName){if(g.imgThrough.solidPixel(a.pageX,a.pageY))return}else return}return b};c.highlightDetail=function(a){a.highlighted=!0;g()&&a.antsG?($(a).attr("filter","none"),a.antsG.setAttribute("visibility","visible")):$(a).attr("filter","url(#svgselect)")};c.dehighlightDetail=function(a){a.highlighted=!1;g()&&a.antsG?a.antsG.setAttribute("visibility","hidden"):$(a).attr("filter",
"none")};c.updateDetailHighlight=function(a){a.highlighted?c.highlightDetail(a):c.dehighlightDetail(a)};h.unical=0;c.productSelectedDetails=function(){var a=[];co.v.curColor.layers.forEach(function(b){b=co.arrayObjects(b,"type","detail");b.length&&b.forEach(function(b){if(!b.off){var c=b.variant;co.d(c)&&(c=co.getDetailVariantInfo(c))&&!c.detail.off&&a.push(co.physicalDetailVariant(c,b))}})});return a};c.productSelectedDetailsSides=function(){var a=[];co.v.curColor.layers.forEach(function(b){var c=
[];b=co.arrayObjects(b,"type","detail");b.length&&(b.forEach(function(a){if(!a.off){var b=a.variant;co.d(b)&&(b=co.getDetailVariantInfo(b))&&!b.detail.off&&c.push(co.physicalDetailVariant(b,a))}}),a.push(c))});return a};c.variantSelected=function(a,d){if(co.d(d)){if(d=c.productSelectedDetailsSides()[d],!d)return!1}else d=c.productSelectedDetails();return!!d.forEach2(function(b){if(b.variant.unical===a)return!0})};c.curVariantByAnother=function(a){a=co.getDetailVariantInfo(a);for(var b=c.productSelectedDetails(),
d=0;d<b.length;d++){var e=b[d];if(e.detail.unical===a.detail.unical)return e}};c.selectByUnicalsCSV=function(a,d){if(a&&"string"===typeof a){var b=[];a.split(",").forEach(function(a){if(co.digits(a)){var d=c.curVariantByAnother(+a);d&&!d.detail.off&&b.push(function(b){c.showVariant({curVariantUnical:d.variant.unical,newVariantUnical:+a,callback:function(){b()}})})}});b.length&&co.waterfall(b,function(a){d&&d(a)})}}};co.UserActions=function(){var a=co.box.find(".mobile-pop-close"),d=co.body.find(".btn-full");co.svgwrap.clickEx(function(a){!$(a.target).closest(".adds").length&&co.v.add&&co.v.add.unselect();co.closeMobileTextEdit();co.nav.close()});a.click(function(){co.popups.close();null!==co.PopupOrder.current&&co.PopupOrder.current.close()});d.click(function(){var a=co.body[0];co.isFullscreen()?document.cancelFullScreen?document.cancelFullScreen():document.mozCancelFullScreen?document.mozCancelFullScreen():
document.webkitCancelFullScreen&&document.webkitCancelFullScreen():a.requestFullscreen?a.requestFullscreen():a.mozRequestFullScreen?a.mozRequestFullScreen():a.webkitRequestFullscreen&&a.webkitRequestFullscreen();$(document).on("webkitfullscreenchange mozfullscreenchange fullscreenchange MSFullscreenChange",function(){co.body.toggleClass("fullscreen",co.isFullscreen())})});a=$(window);var g=!1,e=0,h=1;a.on("touchstart",function(a){if(2===a.originalEvent.targetTouches.length){g=!0;h=co.svg.scale();
var b=a.originalEvent.targetTouches[0],c=b.clientY,d=a.originalEvent.targetTouches[1];a=d.clientX;d=d.clientY;e=Math.sqrt((a-=b.clientX)*a+(d-=c)*d)}});a.on("touchmove",function(a){if(g&&2===a.originalEvent.targetTouches.length){a.preventDefault();var b=a.originalEvent.targetTouches[0],c=b.clientY,d=a.originalEvent.targetTouches[1];a=d.clientX;d=d.clientY;b=Math.sqrt((a-=b.clientX)*a+(d-=c)*d);co.svg.scale(b/e*h)}});a.on("touchend",function(){g=!1});co.body.keyup(function(a){46===a.keyCode&&co.v.add&&
co.v.add.canDelete()&&co.v.add.remove2()})};co.Formats=function(){var a=this;co.formats=a;var d,g=co.v.bases;co.ar(g)&&g.forEach(function(a){a.models&&a.models.forEach(function(a){a.colors&&a.colors.forEach(function(a){a.selectedFormats=[];a.formats&&a.formats.forEach(function(b){a.selectedFormats.push({user:null,prog:b[0]})})})})});a.selection=function(a,d,c,b){return co.chain(g,a,"models",d,"colors",c,"selectedFormats",b)};a.curSelection=function(){return co.v.curColor.selectedFormats[co.v.side]};a.curSelectionAllUnicals=function(){var a=
[],d=co.v.curColor.selectedFormats;if(!co.ar(d))return a;d.forEach(function(c){a.push(c.prog.unical)});return a};a.curSelectionAllTitles=function(){var a=[],d=co.v.curColor.selectedFormats;if(!co.ar(d))return a;d.forEach(function(c){a.push(c.prog.title)});return a};a.colorSelected=function(a){d?d!==a&&d.selectedFormats.forEach(function(d,c){if(d.user){var b=a.formats[c];b&&(d=co.arrayObject(b,"title",d.prog.title))&&(a.selectedFormats[c].prog=d)}}):d=a};a.selectFormat=function(a){if(co.formats.curSelection().prog===
a)return co.f(callback);var d=co.v.curColor.selectedFormats[co.v.side];d.user=a;d.prog=a;co.calc.update();co.ribbon.update();co.svg.updateArea(co.v.side);co.mobile&&co.mobileSides.update(!0);co.sidebar.updateSides(!0)};a.selectFormats=function(a,d){var c=[];d.forEach(function(b,d){if(b&&co.chain(a.selectedFormats,d,"prog")!==b){var e=a.selectedFormats[d];e.user=b;e.prog=b;co.svg.updateArea(d);c.push(d)}});co.calc.update();co.ribbon.update();co.mobile?co.mobileSides.update(c):co.sidebar.updateSides(c)};
a.selectFromAPI=function(d){if(d){var e=String(d).split(",");if(!e.forEach2(function(a){if(!co.digits(a))return!0})){e=e.map(Number);d=co.v.curColor;var c=d.formats;if(co.ar(c)){var b=[];c.forEach(function(a,c){var d=e.forEach2(function(b){if(b=co.arrayObject(a,"unical",b))return b});b[c]=d||null});a.selectFormats(d,b)}}}};a.unicalsToFormats=function(a,d){var c=[];a.formats.forEach(function(a,e){var b=d.forEach2(function(b){if(b=co.arrayObject(a,"unical",b))return b});c[e]=b||null});return c}};co.init=function(a){function d(a){co.nowait(!0);co.body.empty();co.alert(a,!0)}var g=co.v;co.win=$(window);co.docElem=$(document.documentElement);co.head=$(document.head);co.body=$(document.body);co.box=$("div.app",co.body);co.svgwrap=$("div.svgwrap",co.box);co.centralPlace=$("div.central-place",co.box);co.absentMes=$("div.absent-mes",co.box);co.tpls={};co.body.find('[type="text/tpls"]').html().trim().split("\x3c!--[").forEach(function(a){if(a&&a.includes("]--\x3e")){var b=a.split("]--\x3e");a=b[0].trim();
b=b[1].trim();a&&b&&(co.tpls[a]=b)}});co.preventMobileBack=function(){if(co.isMobileOrTablet()){for(var a=0;30>a;a++)history.pushState(null,null);delete co.preventMobileBack}};co.body.one("touchstart",function(){co.touchDevice=!0;co.body.addClass("touch-device")});window.devicePixelRatio&&2<=devicePixelRatio&&co.body.addClass("hi-ppi").attr("data-px-ratio",devicePixelRatio);co.webpSupport=!1;co.checkWebpSupport(function(a){return co.webpSupport=a});window.vkConnect&&(window.vkConnect.send("VKWebAppInit"),
co.body.addClass("inside-vk-mobile-app"));var e=$('<div style="font-family:Lobster,sans-serif;opacity:0;position:absolute;left:0;top:0;">123</div>');co.body.append(e);setTimeout(function(){return e.remove()},1E3);var h=co.browser().split(" ");g.browserName=h[0];g.browserVersion=h[1];co.body.addClass("browser-"+h[0]).addClass("browser-version-"+h[1]);var c;co.win.resize(function(){clearTimeout(c);c=setTimeout(function(){return co.win.trigger("resizeEnd")},549)});g.domain=a.domain;g.domain_noslash=
g.domain.replace(/\\$/,"");g.adminID=a.adminID;g.site=a.site;g.sign=co.randomStr(15);g.charBytes=co.strBytes("1234567890")/10;g.langsData=a.langsData;g.imagetracerHash=a.imagetracerHash;g.openedByAdmin=a.openedByAdmin;g.openedBySuperadmin=a.openedBySuperadmin;g.stopped=a.stopped;var b=co.parseJSON(a.settings);if(!b)return co.alert("   ");delete a.settings;g.conData=b;g.lang=b.lang;new co.Api;new co.Lang(co.api.lang());new co.Order;
co.logout=function(){window.location.href="/"+g.adminID};if(!g.adminID||!co.isInt(g.adminID))return d(co.lang.w(21)+" - "+co.lang.w(22));b.style&&(g.style=b.style,g.style.css&&g.style.css.trim()&&co.head.append("<style>"+g.style.css+"</style>"));b.script&&(g.script=b.script,g.script.js&&g.script.js.trim()&&co.head.append("<script>"+g.script.js+"\x3c/script>"));g.bases=b.bases;if(!Array.isArray(g.bases)||!g.bases.length)return d(co.lang.w(23,1)+". "+co.lang.w(24,1)+".");g.basesOrig=co.clon(g.bases);
for(a=0;a<g.bases.length;){h=g.bases[a];if(!h.off)for(var k=0;k<h.models.length;){var l=h.models[k];if(!l.off){for(var m=0;m<l.colors.length;)l.colors[m].off?co.colorRemove(l,m):m++;m=0;for(var n=co.sidesParam(l);m<n.length;)n[m].off?co.sideRemove(l,m):m++}!l.off&&l.colors.length&&l.sides.length?k++:h.models.splice(k,1)}h.off||!h.models.length?g.bases.splice(a,1):a++}if(!g.bases.length)return d("  .     .");
g.calc=b.calc;g.clientFields=b.clientFields;g.images=b.images;g.methods=b.methods;g.orderMessages=b.orderMessages;g.personData=b.personData;"face"in b&&(g.face=b.face);"fonts"in b&&(g.fonts=b.fonts);g.patterns=co.d(b.patterns)?b.patterns:[];g.patternsFlat=[];g.patterns.forEach(function(a){a[1].forEach(function(a){return g.patternsFlat.push(a)})});g.price=b.price;new co.Svg;new co.Trans;new co.SelRegul;new co.Formats;new co.Nav;new co.MobileBottomTopPanel;new co.MobileBottomBottomPanel;new co.Calc;
new co.Popups;new co.Sidebar;new co.Ribbon;new co.MobileSides;new co.FontCSSIncluder;new co.Compos;new co.Details;co.sidebar.updateLangs();h=-1;h=co.v.face.textOver;a=co.v.face.textUnder;if(h&&h.trim()){h=co.lang.trans(h).replace(/\n/gmi,"<br>");var q=$('<div class="text-over-block">'+h+"</div>");h=co.lang.transID(h);-1<h&&q.dataAttr("translate",h);h=function(){!co.mobile&&500<=co.winHeight?(co.box.prepend(q),co.v.blockOverHeight=q.outerHeight(),co.nav.box.css("margin-top",co.v.blockOverHeight+"px"),
co.sidebar.box.css("margin-top",co.v.blockOverHeight+"px")):(q.remove(),co.v.blockOverHeight=0,co.nav.box.css("margin-top",""),co.sidebar.box.css("margin-top",""))};h();co.win.resize(h)}if(a&&a.trim()){k=function(){!co.mobile&&500<=co.winHeight?(co.box.append(f),co.v.blockUnderHeight=f.outerHeight()):(f.remove(),co.v.blockUnderHeight=0)};a=co.lang.trans(a).replace(/\n/gmi,"<br>");var f=$('<div class="text-under-block">'+a+"</div>");h=co.lang.transID(a);-1<h&&f.dataAttr("translate",h);k();co.win.resize(k)}(function(){var a=
b.metrics;if(a){var c=a.yaCounterID;if(c)$(co).on("order-sent",function(){var a=window["yaCounter"+c];a&&a.reachGoal("cosuv-order",co.v.from?{from:co.v.from}:void 0)});if(a.gaID)$(co).on("order-sent",function(){window.gtag&&gtag("event","cosuv-order")})}})();(a=g.face.nav)&&a.figure&&co.d(a.figure.on)&&!a.figure.on||co.figuresLoad();co.selRegul.init();$(co).on("showComplete",function(){co.svg.box.hide();setTimeout(function(){return co.svg.box.show()},0)});$(co).one("showComplete",showComplete)};
function showComplete(){co.svg.fit();co.nav.updateAddAbility();co.nav.updateImgsCatsBtns();co.selRegul.absentUpdate();co.centralPlaceUpdate();co.ready=!0;$(co).trigger("appReady");$(co).one("initAPIComplete",initAPIComplete);co.api.init()}
function initAPIComplete(){co.nav.updateAddAbility();co.nav.updateImgsCatsBtns();co.selRegul.absentUpdate();new co.UserActions;co.appComplete=!0;$(co).trigger("appComplete");if(co.v.stopped&&(co.v.openedByAdmin||co.v.openedBySuperadmin)){var a=$('<div class="stoped-but-admin"><div>   ,     '+(co.v.openedBySuperadmin?"":"")+"</div></div>");co.body.append(a);
a.click(function(){return a.remove()})}co.fontCSSIncluder.included.families.length||co.chain(co.v.fonts,0,"family")&&co.fontCSSIncluder.load(co.v.fonts[0].family,!1,!1,function(){},!0);(function(){var a=co.v.site;if(!a){a=location.search;if(!a||-1===a.indexOf("vk.com"))return;a=/(?:^|[?&])api_id=(\d+)(?:&|$)/.exec(a);if(null===a)return;a="https://vk.com/app"+a[1]}var g=document.createElement("a");g.href=a;(g=g.hostname)&&!["cosuv.ru","localhost","127.0.0.1"].includes(g)&&"192.168."!==g.substr(0,8)&&
co.ajax({post:"site/url",data:{admin:co.v.adminID,url:a}})})()};
